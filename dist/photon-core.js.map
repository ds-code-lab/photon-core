{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1856276c64b9a8123828","webpack:///./lib/shadydom.min.js","webpack:///./~/document-register-element/build/document-register-element.node.js","webpack:///./src/index.js","webpack:///./lib/skatejs/index-with-deps.js","webpack:///(webpack)/buildin/module.js"],"names":["settings","window","ShadyDOM","hasNativeShadowDOM","Boolean","Element","prototype","attachShadow","Node","getRootNode","inUse","force","isShadyRoot","obj","__localName","p","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","selector","call","copyOwnProperty","name","source","target","pd","Object","getOwnPropertyDescriptor","defineProperty","extend","n$","getOwnPropertyNames","i","n","length","extendAll","sources","len","arguments","mixin","setPrototypeOf","proto","__proto__","patchPrototype","getPrototypeOf","hasOwnProperty","patchProto","create","__sourceProto","__patchProto","common","promish","Promise","resolve","then","cb","twiddle","document","createTextNode","observer","MutationObserver","disconnect","observe","characterData","newSplice","index","removed","addedCount","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","current","currentStart","currentEnd","old","oldStart","oldEnd","this$1","rowCount","columnCount","distances","Array","j","i$1","j$1","equals","north","west","spliceOperationsFromEditDistances","edits","push","northWest","min","reverse","calcSplices","prefixCount","suffixCount","splice","minLength","Math","sharedPrefix","sharedSuffix","ops","undefined","splices","oldIndex","searchLength","index1","index2","count","calculateSplices","calculateSplices$1","previous","currentValue","previousValue","nativeInsertBefore","insertBefore","nativeAppendChild","appendChild","nativeRemoveChild","removeChild","tree","arrayCopyChildNodes","parent","copy","firstChild","nextSibling","arrayCopyChildren","firstElementChild","nextElementSibling","arrayCopy","a$","l","saveChildNodes","node","Logical","Composed","hasParentNode","saveComposedData","__dom","parentNode","hasChildNodes","childNodes","getChildNodes","_getChildNodes","getFirstChild","getNextSibling","getParentNode","getLastChild","lastChild","getPreviousSibling","previousSibling","getFirstElementChild","_getFirstElementChild","nodeType","ELEMENT_NODE","getLastElementChild","_getLastElementChild","getNextElementSibling","_getNextElementSibling","getPreviousElementSibling","_getPreviousElementSibling","saveChildNodes$1","c$","patchNode","recordInsertBefore","container","ref_node","DOCUMENT_FRAGMENT_NODE","_linkNode","recordRemoveChild","hasParentNode$1","$parentNode","hasChildNodes$1","$childNodes","getChildNodes$1","__patched","_getChildNodes$1","$firstChild","$nextSibling","getComposedChildNodes","getParentNode$1","getFirstChild$1","getLastChild$1","$lastChild","getNextSibling$1","getPreviousSibling$1","$previousSibling","getFirstElementChild$1","_getFirstElementChild$1","getLastElementChild$1","lastElementChild","_getLastElementChild$1","getNextElementSibling$1","_getNextElementSibling$1","getPreviousElementSibling$1","previousElementSibling","_getPreviousElementSibling$1","saveChildNodes$2","recordInsertBefore$1","_linkNode$1","recordRemoveChild$1","clearChildNodes","c","saveParentNode","newChild","refChild","_addChild","currentParent","_removeChild","isFrag","oldParent","descriptors","getNativeProperty","property","HTMLElement","get","NormalizedEvent","Event","inType","params","e","createEvent","initEvent","bubbles","cancelable","Distributor","anonymous","root","insertionPointTag","getInsertionPoints","querySelectorAll","hasInsertionPoint","_insertionPoints","isInsertionPoint","localName","distribute","distributePool","collectPool","host","pool","dirtyRoots","p$","distributeInsertionPoint","shadyRoot","p$1","_assignedSlot","parent$1","insertionPoint","prevAssignedNodes","_assignedNodes","clearAssignedSlots","needsSlotChange","anyDistributed","matchesInsertionPoint","__prevAssignedSlot","distributeNodeInto","children","node$1","setDistributedNodesOnInsertionPoint","_fireSlotChange","slot","savePrevious","slotName","getAttribute","trim","child","_distributedNodes","d$","dispatchEvent","isFinalDestination","ShadyRoot","frag","createDocumentFragment","ShadyFragmentMixin","_init","ShadyMixin","_clean","_hasRendered","_distributor","update","distributionRoot","_findDistributionRoot","enqueue","render","_elementNeedsDistribution","_skipUpdateInsertionPoints","updateInsertionPoints","compose","forceRender","i$","__insertionPoints","c$1","insertionPoints","_composeTree","_updateChildNodes","_composeNode","distributedNodes","distributedNode","composed","d","s","s$1","next","n$1","getInsertionPointTag","DocumentFragment","customElements","flushList","scheduled","flushCount","flushMax","callback","flush$1","shift","flush","isFlushedMaxed","Error","list","escapeAttrRegExp","escapeDataRegExp","escapeReplace","escapeAttr","replace","escapeData","makeSet","arr","set","voidElements","plaintextParents","getOuterHTML","tagName","attrs","attributes","attr","value","getInnerHTML","TEXT_NODE","data","COMMENT_NODE","console","error","content","mixinImpl","addNode","ownerRoot","ownerShadyRootForNode","__noInsertionPoint","ipAdded","_maybeAddInsertionPoint","_addedNode","handled","_maybeDistribute","removeNode","logicalParent","distributed","maybeDistributeParent","_removeDistributedChildren","_removeOwnerShadyRoot","_removedNode","_scheduleObserver","addedNode","removedNode","addedNodes","removedNodes","schedule","removeNodeFromParent","_hasCachedOwnerRoot","__ownerShadyRoot","getRootNode$1","documentElement","contains","fragContent","querySelector","wrappedContent","hasContent","needsDist","_nodeNeedsDistribution","added","np","na","hostNeedsDist","ip$","_contains","dc$","assignedNodes","flatten","firstComposedNode","clearNode","maybeDistributeAttributeChange","query","matcher","halter","_queryElements","elements","_queryElement","result","activeElementForNode","active","activeElement","isShadyRoot$$1","activeRoot","nativeCloneNode","cloneNode","nativeImportNode","Document","importNode","nativeSetAttribute","setAttribute","nativeRemoveAttribute","removeAttribute","NodeMixin","defineProperties","parentElement","configurable","get$1","get$2","get$3","get$4","get$5","assignedSlot","get$6","FragmentMixin","replaceChild","deep","nc","externalNode","doc","ownerDocument","get$7","isArray","get$8","filter","get$9","get$10","get$11","get$12","textContent","get$13","tc","cn","join","text","innerHTML","get$14","set$1","createElement","ElementMixin","options","shadowRoot","get$15","get$16","set$2","activeElementDescriptor","get$17","ActiveElementMixin","UnderActiveElementMixin","_activeElement","Mixins","Fragment","filterMutations","mutations","targetRootNode","mutation","mutationInScope","nodes","from","AsyncObserver","_scheduled","callbacks","Set","takeRecords","forEach","observeChildren","add","_callback","_observer","_node","unobserveChildren","handle","delete","size","patchedCount","log","patchImpl","canPatchNode","head","hasPrototypeDescriptors","patch","warn","mixinForObject","mixinForNode","DOCUMENT_NODE","unpatch","isNodePatched","unpatchNode","origAddEventListener","addEventListener","origRemoveEventListener","removeEventListener","alwaysComposed","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","input","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","pathComposer","startNode","composedPath","startRoot","retarget","refNode","path","refNodePath","ancestor","lastRoot","rootIdx","indexOf","EventMixin","isTrusted","__composed","type","__composedPath","__target","currentTarget","relatedTarget","__relatedTarget","__relatedTargetComposedPath","stopPropagation","__propagationStopped","stopImmediatePropagation","__immediatePropagationStopped","mixinComposedFlag","Base","klazz","event","nonBubblingEventsToRetarget","fireHandlers","phase","hs","__handlers","fn","retargetNonBubblingEvent","AT_TARGET","lastFiredRoot","optionsOrCapture","capture","once","passive","__eventWrappers","wrapperFn","eventPhase","BUBBLING_PHASE","bubble","idx","activateFocusEventOverrides","ev","PatchedEvent","PatchedCustomEvent","CustomEvent","PatchedMouseEvent","MouseEvent","isPatched","createRootAndEnsurePatched","Component","h","emit","props","prop","define","webpackUniversalModuleDefinition","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","id","loaded","m","vdom","symbols","ready","link","_prop","_interopRequireWildcard","_symbols","_vdom","_component","_component2","_interopRequireDefault","_define","_define2","_emit","_emit2","_link","_link2","_props","_props2","_ready","_ready2","__esModule","default","newObj","key","builder","string","number","boolean","array","_assign","_assign2","_empty","_empty2","alwaysUndefinedIfNotANumberOrNumber","val","isNaN","Number","alwaysUndefinedIfEmptyOrString","String","def","_len","args","_key","unshift","apply","coerce","_default","deserialize","JSON","parse","serialize","stringify","_getAllKeys","_getAllKeys2","arg","keys","_ref","_ref$enumOnly","enumOnly","listOfKeys","getOwnPropertySymbols","concat","enumerable","connected","created","ctorCreateInitProps","ctorObservedAttributes","ctorProps","ctorPropsMap","ref","renderer","rendering","rendererDebounced","updated","elementVoid","elementOpenStart","elementOpenEnd","elementOpen","elementClose","_typeof","Symbol","iterator","constructor","_incrementalDom","_propContext2","_propContext3","_windowOrGlobal","_windowOrGlobal2","_toConsumableArray","arr2","_defineProperty","writable","applyDefault","stackChren","$skip","$currentEventHandlers","$stackCurrentHelperProps","stackCurrentHelper","overrideArgs","skips","noop","applyEvent","elem","ename","newFunc","events","attributesContext","statics","checked","applyProp","className","disabled","skip","firstChar","eventName","substring","toUpperCase","toLowerCase","resolveTagName","tag","newElementOpen","wrapIdomFunc","func","tnameFuncHandler","wrap","_elem","newAttr","_len2","_key2","stackOpen","tname","_len3","_key3","a","stackClose","chren","pop","elemOrFn","newElementOpenStart","newElementOpenEnd","newElementClose","newElementVoid","_len4","_key4","newText","atype","_len5","_key5","ch","ctype","sch","_len6","tags","_key6","_len7","_key7","bind","map","_len8","_key8","has","createMap","NodeData","nodeName","attrsArr","newAttrs","keyMap","keyMapValid","initData","getData","placeholder","getNamespace","lastIndexOf","applyAttr","el","attrNS","setAttributeNS","applyStyle","style","cssText","elStyle","applyAttributeTyped","updateAttribute","mutator","getNamespaceForTag","namespaceURI","namespace","createElementNS","createText","createKeyMap","getKeyMap","getChild","registerChild","notifications","nodesCreated","nodesDeleted","Context","deleted","markCreated","markDeleted","notifyChanges","assertKeyedTagMatches","context","currentNode","patchFactory","run","f","prevContext","prevRoot","prevDoc","prevCurrentNode","prevCurrentParent","previousInAttributes","previousInSkip","patchInner","enterNode","exitNode","patchOuter","alignWithDOM","clearUnvisitedDOM","nextNode","coreElementOpen","coreElementClose","coreText","currentElement","ATTRIBUTES_OFFSET","argsBuilder","const_args","attrsChanged","_attr","elementPlaceholder","formatted","object","saved","enter","exit","global","self","_createClass","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","getter","_createSymbol","_createSymbol2","_data","_data2","_debounce","_debounce2","_getOwnPropertyDescriptors","_getOwnPropertyDescriptors2","_getPropsMap","_getPropsMap2","_propsInit","_setCtorNativeProperty","_setCtorNativeProperty2","_syncPropToAttr","_syncPropToAttr2","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","TypeError","_classCallCheck","instance","_class","_prevName","_prevOldValue","_prevNewValue","preventDoubleCalling","oldValue","newValue","syncPropsToAttrs","propName","createNativePropertyDescriptors","Ctor","propDefs","reduce","propDescriptors","createNativePropertyDescriptor","createInitProps","hasPropBeforeUpgrading","valueBeforeUpgrading","_class2","_HTMLElement","attrsOnCtor","attrsFromLinkedProps","attrIn","all","item","_this","propsMapCount","renderCallback","elemData","readyCallbacks","connectedCallback","attached","disconnectedCallback","detached","attributeChangedCallback","attributeChanged","propertyName","propData","syncingAttribute","propOpts","settingAttribute","newPropVal","updatedCallback","prev","renderedCallback","rendered","rendererCallback","definition","_Base","opts","prot","allKeys","mode","possibleFn","createSymbol","description","__SKATE_DATA","_native","_native2","microtaskDebounce","cbFunc","cbArgs","childList","taskDebounce","setTimeout","nativeHints","hint","toString","b","curr","getPropsMap","_propDefinition","_propDefinition2","propsMap","propNameOrSymbol","_dashCase","_dashCase2","PropDefinition","cfg","_name","attribute","attrOut","resolveAttrName","attrOption","nameOrSymbol","str","split","one","two","dash","setCtorNativeProperty","newProps","propDef","_getDefaultValue","_getDefaultValue2","_getInitialValue","_getInitialValue2","_getPropData","_getPropData2","attributeName","initialValue","hasAttribute","internalValue","lastAssignedValue","changeData","getDefaultValue","getInitialValue","initial","getPropData","syncPropToAttr","syncFirstTimeProp","syncAttrValue","syncExistingProp","serializedValue","currentAttrValue","serializedIsEmpty","shouldRemoveAttribute","isFirstSync","_uniqueId2","_uniqueId","uniqueId","prefix","rand","r","random","v","createCustomEvent","TheEvent","detail","initCustomEvent","getValue","localTarget","parts","firstPart","_props4","_props3","done","info"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+BAA8B,sBAAsB;AACpD;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD,cAAc;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,uDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,cAAc;AACxE;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAAyC,YAAY;AACrD;AACA;AACA;;AAEA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,aAAa;AAC/C;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,8CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,6CAA4C,oBAAoB;AAChE;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,SAAS;AAClE;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT,WAAU;AACV;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,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","file":"photon-core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"photon-core\"] = factory();\n\telse\n\t\troot[\"photon-core\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1856276c64b9a8123828\n **/","(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar settings = window.ShadyDOM || {};\n\nsettings.hasNativeShadowDOM = Boolean(Element.prototype.attachShadow && Node.prototype.getRootNode);\n\nsettings.inUse = settings.force || !settings.hasNativeShadowDOM;\n\nfunction isShadyRoot(obj) {\n  return Boolean(obj.__localName === 'ShadyRoot');\n}\n\nvar p = Element.prototype;\nvar matches = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nfunction matchesSelector(element, selector) {\n  return matches.call(element, selector);\n}\n\nfunction copyOwnProperty(name, source, target) {\n  var pd = Object.getOwnPropertyDescriptor(source, name);\n  if (pd) {\n    Object.defineProperty(target, name, pd);\n  }\n}\n\nfunction extend(target, source) {\n  if (target && source) {\n    var n$ = Object.getOwnPropertyNames(source);\n    for (var i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n      copyOwnProperty(n, source, target);\n    }\n  }\n  return target || source;\n}\n\nfunction extendAll(target) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  for (var i=0; i < sources.length; i++) {\n    extend(target, sources[i]);\n  }\n  return target;\n}\n\nfunction mixin(target, source) {\n  for (var i in source) {\n    target[i] = source[i];\n  }\n  return target;\n}\n\nvar setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n  obj.__proto__ = proto;\n  return obj;\n}\n\nfunction patchPrototype(obj, mixin) {\n  var proto = Object.getPrototypeOf(obj);\n  if (!proto.hasOwnProperty('__patchProto')) {\n    var patchProto = Object.create(proto);\n    patchProto.__sourceProto = proto;\n    extend(patchProto, mixin);\n    proto.__patchProto = patchProto;\n  }\n  setPrototypeOf(obj, proto.__patchProto);\n}\n\n\n\nvar common = {};\n\n// TODO(sorvell): actually rely on a real Promise polyfill...\nvar promish;\nif (window.Promise) {\n  promish = Promise.resolve();\n} else {\n  promish = {\n    then: function(cb) {\n      var twiddle = document.createTextNode('');\n      var observer = new MutationObserver(function() {\n        observer.disconnect();\n        cb();\n      });\n      observer.observe(twiddle, {characterData: true});\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction newSplice(index, removed, addedCount) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nvar EDIT_LEAVE = 0;\nvar EDIT_UPDATE = 1;\nvar EDIT_ADD = 2;\nvar EDIT_DELETE = 3;\n\nvar ArraySplice = {\n\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances: function calcEditDistances(current, currentStart, currentEnd,\n                              old, oldStart, oldEnd) {\n    var this$1 = this;\n\n    // \"Deletion\" columns\n    var rowCount = oldEnd - oldStart + 1;\n    var columnCount = currentEnd - currentStart + 1;\n    var distances = new Array(rowCount);\n\n    // \"Addition\" rows. Initialize null column.\n    for (var i = 0; i < rowCount; i++) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (var j = 0; j < columnCount; j++)\n      distances[0][j] = j;\n\n    for (var i$1 = 1; i$1 < rowCount; i$1++) {\n      for (var j$1 = 1; j$1 < columnCount; j$1++) {\n        if (this$1.equals(current[currentStart + j$1 - 1], old[oldStart + i$1 - 1]))\n          distances[i$1][j$1] = distances[i$1 - 1][j$1 - 1];\n        else {\n          var north = distances[i$1 - 1][j$1] + 1;\n          var west = distances[i$1][j$1 - 1] + 1;\n          distances[i$1][j$1] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances: function spliceOperationsFromEditDistances(distances) {\n    var i = distances.length - 1;\n    var j = distances[0].length - 1;\n    var current = distances[i][j];\n    var edits = [];\n    while (i > 0 || j > 0) {\n      if (i == 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j == 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      var northWest = distances[i - 1][j - 1];\n      var west = distances[i - 1][j];\n      var north = distances[i][j - 1];\n\n      var min;\n      if (west < north)\n        min = west < northWest ? west : northWest;\n      else\n        min = north < northWest ? north : northWest;\n\n      if (min == northWest) {\n        if (northWest == current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min == west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices: function calcSplices(current, currentStart, currentEnd,\n                        old, oldStart, oldEnd) {\n    var prefixCount = 0;\n    var suffixCount = 0;\n    var splice;\n\n    var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart == 0 && oldStart == 0)\n      prefixCount = this.sharedPrefix(current, old, minLength);\n\n    if (currentEnd == current.length && oldEnd == old.length)\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n      return [];\n\n    if (currentStart == currentEnd) {\n      splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd)\n        splice.removed.push(old[oldStart++]);\n\n      return [ splice ];\n    } else if (oldStart == oldEnd)\n      return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n    var ops = this.spliceOperationsFromEditDistances(\n        this.calcEditDistances(current, currentStart, currentEnd,\n                               old, oldStart, oldEnd));\n\n    splice = undefined;\n    var splices = [];\n    var index = currentStart;\n    var oldIndex = oldStart;\n    for (var i = 0; i < ops.length; i++) {\n      switch(ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix: function sharedPrefix(current, old, searchLength) {\n    var this$1 = this;\n\n    for (var i = 0; i < searchLength; i++)\n      if (!this$1.equals(current[i], old[i]))\n        return i;\n    return searchLength;\n  },\n\n  sharedSuffix: function sharedSuffix(current, old, searchLength) {\n    var index1 = current.length;\n    var index2 = old.length;\n    var count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2]))\n      count++;\n\n    return count;\n  },\n\n  calculateSplices: function calculateSplices$1(current, previous) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n                            previous.length);\n  },\n\n  equals: function equals(currentValue, previousValue) {\n    return currentValue === previousValue;\n  }\n\n};\n\nvar calculateSplices = function (current, previous) { return ArraySplice.calculateSplices(current, previous); };\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO(sorvell): circular (patch loads tree and tree loads patch)\n// for now this is stuck on `utils`\n//import {patchNode} from './patch'\n// native add/remove\nvar nativeInsertBefore = Element.prototype.insertBefore;\nvar nativeAppendChild = Element.prototype.appendChild;\nvar nativeRemoveChild = Element.prototype.removeChild;\n\n/**\n * `tree` is a dom manipulation library used by ShadyDom to\n * manipulate composed and logical trees.\n */\nvar tree = {\n\n  // sad but faster than slice...\n  arrayCopyChildNodes: function arrayCopyChildNodes(parent) {\n    var copy=[], i=0;\n    for (var n=parent.firstChild; n; n=n.nextSibling) {\n      copy[i++] = n;\n    }\n    return copy;\n  },\n\n  arrayCopyChildren: function arrayCopyChildren(parent) {\n    var copy=[], i=0;\n    for (var n=parent.firstElementChild; n; n=n.nextElementSibling) {\n      copy[i++] = n;\n    }\n    return copy;\n  },\n\n  arrayCopy: function arrayCopy(a$) {\n    var l = a$.length;\n    var copy = new Array(l);\n    for (var i=0; i < l; i++) {\n      copy[i] = a$[i];\n    }\n    return copy;\n  },\n\n  saveChildNodes: function saveChildNodes(node) {\n    tree.Logical.saveChildNodes(node);\n    if (!tree.Composed.hasParentNode(node)) {\n      tree.Composed.saveComposedData(node);\n      //tree.Composed.saveParentNode(node);\n    }\n    tree.Composed.saveChildNodes(node);\n  }\n\n};\n\ntree.Logical = {\n\n  hasParentNode: function hasParentNode(node) {\n    return Boolean(node.__dom && node.__dom.parentNode);\n  },\n\n  hasChildNodes: function hasChildNodes(node) {\n    return Boolean(node.__dom && node.__dom.childNodes !== undefined);\n  },\n\n  getChildNodes: function getChildNodes(node) {\n    // note: we're distinguishing here between undefined and false-y:\n    // hasChildNodes uses undefined check to see if this element has logical\n    // children; the false-y check indicates whether or not we should rebuild\n    // the cached childNodes array.\n    return this.hasChildNodes(node) ? this._getChildNodes(node) :\n      tree.Composed.getChildNodes(node);\n  },\n\n  _getChildNodes: function _getChildNodes(node) {\n    if (!node.__dom.childNodes) {\n      node.__dom.childNodes = [];\n      for (var n=this.getFirstChild(node); n; n=this.getNextSibling(n)) {\n        node.__dom.childNodes.push(n);\n      }\n    }\n    return node.__dom.childNodes;\n  },\n\n  // NOTE: __dom can be created under 2 conditions: (1) an element has a\n  // logical tree, or (2) an element is in a logical tree. In case (1), the\n  // element will store firstChild/lastChild, and in case (2), the element\n  // will store parentNode, nextSibling, previousSibling. This means that\n  // the mere existence of __dom is not enough to know if the requested\n  // logical data is available and instead we do an explicit undefined check.\n  getParentNode: function getParentNode(node) {\n    return node.__dom && node.__dom.parentNode !== undefined ?\n      node.__dom.parentNode : tree.Composed.getParentNode(node);\n  },\n\n  getFirstChild: function getFirstChild(node) {\n    return node.__dom && node.__dom.firstChild !== undefined ?\n      node.__dom.firstChild : tree.Composed.getFirstChild(node);\n  },\n\n  getLastChild: function getLastChild(node) {\n    return node.__dom && node.__dom.lastChild  !== undefined ?\n      node.__dom.lastChild : tree.Composed.getLastChild(node);\n  },\n\n  getNextSibling: function getNextSibling(node) {\n    return node.__dom && node.__dom.nextSibling  !== undefined ?\n      node.__dom.nextSibling : tree.Composed.getNextSibling(node);\n  },\n\n  getPreviousSibling: function getPreviousSibling(node) {\n    return node.__dom && node.__dom.previousSibling  !== undefined ?\n      node.__dom.previousSibling : tree.Composed.getPreviousSibling(node);\n  },\n\n  getFirstElementChild: function getFirstElementChild(node) {\n    return node.__dom && node.__dom.firstChild !== undefined ?\n      this._getFirstElementChild(node) :\n      tree.Composed.getFirstElementChild(node);\n  },\n\n  _getFirstElementChild: function _getFirstElementChild(node) {\n    var n = node.__dom.firstChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.nextSibling;\n    }\n    return n;\n  },\n\n  getLastElementChild: function getLastElementChild(node) {\n    return node.__dom && node.__dom.lastChild !== undefined ?\n      this._getLastElementChild(node) :\n      tree.Composed.getLastElementChild(node);\n  },\n\n  _getLastElementChild: function _getLastElementChild(node) {\n    var n = node.__dom.lastChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.previousSibling;\n    }\n    return n;\n  },\n\n  getNextElementSibling: function getNextElementSibling(node) {\n    return node.__dom && node.__dom.nextSibling !== undefined ?\n      this._getNextElementSibling(node) :\n      tree.Composed.getNextElementSibling(node);\n  },\n\n  _getNextElementSibling: function _getNextElementSibling(node) {\n    var this$1 = this;\n\n    var n = node.__dom.nextSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getNextSibling(n);\n    }\n    return n;\n  },\n\n  getPreviousElementSibling: function getPreviousElementSibling(node) {\n    return node.__dom && node.__dom.previousSibling !== undefined ?\n      this._getPreviousElementSibling(node) :\n      tree.Composed.getPreviousElementSibling(node);\n  },\n\n  _getPreviousElementSibling: function _getPreviousElementSibling(node) {\n    var this$1 = this;\n\n    var n = node.__dom.previousSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getPreviousSibling(n);\n    }\n    return n;\n  },\n\n  // Capture the list of light children. It's important to do this before we\n  // start transforming the DOM into \"rendered\" state.\n  // Children may be added to this list dynamically. It will be treated as the\n  // source of truth for the light children of the element. This element's\n  // actual children will be treated as the rendered state once this function\n  // has been called.\n  saveChildNodes: function saveChildNodes$1(node) {\n    if (!this.hasChildNodes(node)) {\n      node.__dom = node.__dom || {};\n      node.__dom.firstChild = node.firstChild;\n      node.__dom.lastChild = node.lastChild;\n      var c$ = node.__dom.childNodes = tree.arrayCopyChildNodes(node);\n      for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n        n.__dom = n.__dom || {};\n        n.__dom.parentNode = node;\n        n.__dom.nextSibling = c$[i+1] || null;\n        n.__dom.previousSibling = c$[i-1] || null;\n        common.patchNode(n);\n      }\n    }\n  },\n\n  // TODO(sorvell): may need to patch saveChildNodes iff the tree has\n  // already been distributed.\n  // NOTE: ensure `node` is patched...\n  recordInsertBefore: function recordInsertBefore(node, container, ref_node) {\n    var this$1 = this;\n\n    container.__dom.childNodes = null;\n    // handle document fragments\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      var c$ = tree.arrayCopyChildNodes(node);\n      for (var i=0; i < c$.length; i++) {\n        this$1._linkNode(c$[i], container, ref_node);\n      }\n      // cleanup logical dom in doc fragment.\n      node.__dom = node.__dom || {};\n      node.__dom.firstChild = node.__dom.lastChild = null;\n      node.__dom.childNodes = null;\n    } else {\n      this._linkNode(node, container, ref_node);\n    }\n  },\n\n  _linkNode: function _linkNode(node, container, ref_node) {\n    common.patchNode(node);\n    ref_node = ref_node || null;\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (ref_node) {\n      ref_node.__dom = ref_node.__dom || {};\n    }\n    // update ref_node.previousSibling <-> node\n    node.__dom.previousSibling = ref_node ? ref_node.__dom.previousSibling :\n      container.__dom.lastChild;\n    if (node.__dom.previousSibling) {\n      node.__dom.previousSibling.__dom.nextSibling = node;\n    }\n    // update node <-> ref_node\n    node.__dom.nextSibling = ref_node;\n    if (node.__dom.nextSibling) {\n      node.__dom.nextSibling.__dom.previousSibling = node;\n    }\n    // update node <-> container\n    node.__dom.parentNode = container;\n    if (ref_node) {\n      if (ref_node === container.__dom.firstChild) {\n        container.__dom.firstChild = node;\n      }\n    } else {\n      container.__dom.lastChild = node;\n      if (!container.__dom.firstChild) {\n        container.__dom.firstChild = node;\n      }\n    }\n    // remove caching of childNodes\n    container.__dom.childNodes = null;\n  },\n\n  recordRemoveChild: function recordRemoveChild(node, container) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (node === container.__dom.firstChild) {\n      container.__dom.firstChild = node.__dom.nextSibling;\n    }\n    if (node === container.__dom.lastChild) {\n      container.__dom.lastChild = node.__dom.previousSibling;\n    }\n    var p = node.__dom.previousSibling;\n    var n = node.__dom.nextSibling;\n    if (p) {\n      p.__dom = p.__dom || {};\n      p.__dom.nextSibling = n;\n    }\n    if (n) {\n      n.__dom = n.__dom || {};\n      n.__dom.previousSibling = p;\n    }\n    // When an element is removed, logical data is no longer tracked.\n    // Explicitly set `undefined` here to indicate this. This is disginguished\n    // from `null` which is set if info is null.\n    node.__dom.parentNode = node.__dom.previousSibling =\n      node.__dom.nextSibling = null;\n    // remove caching of childNodes\n    container.__dom.childNodes = null;\n  }\n\n}\n\n\n// TODO(sorvell): composed tree manipulation is made available\n// (1) to maninpulate the composed tree, and (2) to track changes\n// to the tree for optional patching pluggability.\ntree.Composed = {\n\n  hasParentNode: function hasParentNode$1(node) {\n    return Boolean(node.__dom && node.__dom.$parentNode !== undefined);\n  },\n\n  hasChildNodes: function hasChildNodes$1(node) {\n    return Boolean(node.__dom && node.__dom.$childNodes !== undefined);\n  },\n\n  getChildNodes: function getChildNodes$1(node) {\n    return this.hasChildNodes(node) ? this._getChildNodes(node) :\n      (!node.__patched && tree.arrayCopy(node.childNodes));\n  },\n\n  _getChildNodes: function _getChildNodes$1(node) {\n    if (!node.__dom.$childNodes) {\n      node.__dom.$childNodes = [];\n      for (var n=node.__dom.$firstChild; n; n=n.__dom.$nextSibling) {\n        node.__dom.$childNodes.push(n);\n      }\n    }\n    return node.__dom.$childNodes;\n  },\n\n  getComposedChildNodes: function getComposedChildNodes(node) {\n    return node.__dom.$childNodes;\n  },\n\n  getParentNode: function getParentNode$1(node) {\n    return this.hasParentNode(node) ? node.__dom.$parentNode :\n      (!node.__patched && node.parentNode);\n  },\n\n  getFirstChild: function getFirstChild$1(node) {\n    return node.__patched ? node.__dom.$firstChild : node.firstChild;\n  },\n\n  getLastChild: function getLastChild$1(node) {\n    return node.__patched ? node.__dom.$lastChild : node.lastChild;\n  },\n\n  getNextSibling: function getNextSibling$1(node) {\n    return node.__patched ? node.__dom.$nextSibling : node.nextSibling;\n  },\n\n  getPreviousSibling: function getPreviousSibling$1(node) {\n    return node.__patched ? node.__dom.$previousSibling : node.previousSibling;\n  },\n\n  getFirstElementChild: function getFirstElementChild$1(node) {\n    return node.__patched ? this._getFirstElementChild(node) :\n      node.firstElementChild;\n  },\n\n  _getFirstElementChild: function _getFirstElementChild$1(node) {\n    var n = node.__dom.$firstChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.$nextSibling;\n    }\n    return n;\n  },\n\n  getLastElementChild: function getLastElementChild$1(node) {\n    return node.__patched ? this._getLastElementChild(node) :\n      node.lastElementChild;\n  },\n\n  _getLastElementChild: function _getLastElementChild$1(node) {\n    var n = node.__dom.$lastChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.$previousSibling;\n    }\n    return n;\n  },\n\n  getNextElementSibling: function getNextElementSibling$1(node) {\n    return node.__patched ? this._getNextElementSibling(node) :\n      node.nextElementSibling;\n  },\n\n  _getNextElementSibling: function _getNextElementSibling$1(node) {\n    var this$1 = this;\n\n    var n = node.__dom.$nextSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getNextSibling(n);\n    }\n    return n;\n  },\n\n  getPreviousElementSibling: function getPreviousElementSibling$1(node) {\n    return node.__patched ? this._getPreviousElementSibling(node) :\n      node.previousElementSibling;\n  },\n\n  _getPreviousElementSibling: function _getPreviousElementSibling$1(node) {\n    var this$1 = this;\n\n    var n = node.__dom.$previousSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getPreviousSibling(n);\n    }\n    return n;\n  },\n\n  saveChildNodes: function saveChildNodes$2(node) {\n    var this$1 = this;\n\n    if (!this.hasChildNodes(node)) {\n      node.__dom = node.__dom || {};\n      node.__dom.$firstChild = node.firstChild;\n      node.__dom.$lastChild = node.lastChild;\n      var c$ = node.__dom.$childNodes = tree.arrayCopyChildNodes(node);\n      for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n        this$1.saveComposedData(n);\n      }\n    }\n  },\n\n  saveComposedData: function saveComposedData(node) {\n    node.__dom = node.__dom || {};\n    if (node.__dom.$parentNode === undefined) {\n      node.__dom.$parentNode = node.parentNode;\n    }\n    if (node.__dom.$nextSibling === undefined) {\n      node.__dom.$nextSibling = node.nextSibling;\n    }\n    if (node.__dom.$previousSibling === undefined) {\n      node.__dom.$previousSibling = node.previousSibling;\n    }\n  },\n\n  recordInsertBefore: function recordInsertBefore$1(node, container, ref_node) {\n    var this$1 = this;\n\n    container.__dom.$childNodes = null;\n    // handle document fragments\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      // TODO(sorvell): remember this for patching:\n      // the act of setting this info can affect patched nodes\n      // getters; therefore capture childNodes before patching.\n      for (var n=this.getFirstChild(node); n; n=this.getNextSibling(n)) {\n        this$1._linkNode(n, container, ref_node);\n      }\n    } else {\n      this._linkNode(node, container, ref_node);\n    }\n  },\n\n  _linkNode: function _linkNode$1(node, container, ref_node) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (ref_node) {\n      ref_node.__dom = ref_node.__dom || {};\n    }\n    // update ref_node.previousSibling <-> node\n    node.__dom.$previousSibling = ref_node ? ref_node.__dom.$previousSibling :\n      container.__dom.$lastChild;\n    if (node.__dom.$previousSibling) {\n      node.__dom.$previousSibling.__dom.$nextSibling = node;\n    }\n    // update node <-> ref_node\n    node.__dom.$nextSibling = ref_node;\n    if (node.__dom.$nextSibling) {\n      node.__dom.$nextSibling.__dom.$previousSibling = node;\n    }\n    // update node <-> container\n    node.__dom.$parentNode = container;\n    if (ref_node) {\n      if (ref_node === container.__dom.$firstChild) {\n        container.__dom.$firstChild = node;\n      }\n    } else {\n      container.__dom.$lastChild = node;\n      if (!container.__dom.$firstChild) {\n        container.__dom.$firstChild = node;\n      }\n    }\n    // remove caching of childNodes\n    container.__dom.$childNodes = null;\n  },\n\n  recordRemoveChild: function recordRemoveChild$1(node, container) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (node === container.__dom.$firstChild) {\n      container.__dom.$firstChild = node.__dom.$nextSibling;\n    }\n    if (node === container.__dom.$lastChild) {\n      container.__dom.$lastChild = node.__dom.$previousSibling;\n    }\n    var p = node.__dom.$previousSibling;\n    var n = node.__dom.$nextSibling;\n    if (p) {\n      p.__dom = p.__dom || {};\n      p.__dom.$nextSibling = n;\n    }\n    if (n) {\n      n.__dom = n.__dom || {};\n      n.__dom.$previousSibling = p;\n    }\n    node.__dom.$parentNode = node.__dom.$previousSibling =\n      node.__dom.$nextSibling = null;\n    // remove caching of childNodes\n    container.__dom.$childNodes = null;\n  },\n\n  clearChildNodes: function clearChildNodes(node) {\n    var this$1 = this;\n\n    var c$ = this.getChildNodes(node);\n    for (var i=0, c; i < c$.length; i++) {\n      c = c$[i];\n      this$1.recordRemoveChild(c, node);\n      nativeRemoveChild.call(node, c)\n    }\n  },\n\n  saveParentNode: function saveParentNode(node) {\n    node.__dom = node.__dom || {};\n    node.__dom.$parentNode = node.parentNode;\n  },\n\n  insertBefore: function insertBefore(parentNode, newChild, refChild) {\n    this.saveChildNodes(parentNode);\n    // remove from current location.\n    this._addChild(parentNode, newChild, refChild);\n    return nativeInsertBefore.call(parentNode, newChild, refChild || null);\n  },\n\n  appendChild: function appendChild(parentNode, newChild) {\n    this.saveChildNodes(parentNode);\n    this._addChild(parentNode, newChild);\n    return nativeAppendChild.call(parentNode, newChild);\n  },\n\n  removeChild: function removeChild(parentNode, node) {\n    var currentParent = this.getParentNode(node);\n    this.saveChildNodes(parentNode);\n    this._removeChild(parentNode, node);\n    if (currentParent === parentNode) {\n      return nativeRemoveChild.call(parentNode, node);\n    }\n  },\n\n  _addChild: function _addChild(parentNode, newChild, refChild) {\n    var this$1 = this;\n\n    var isFrag = (newChild.nodeType === Node.DOCUMENT_FRAGMENT_NODE);\n    var oldParent = this.getParentNode(newChild);\n    if (oldParent) {\n      this._removeChild(oldParent, newChild);\n    }\n    if (isFrag) {\n      var c$ = this.getChildNodes(newChild);\n      for (var i=0; i < c$.length; i++) {\n        var c = c$[i];\n        // unlink document fragment children\n        this$1._removeChild(newChild, c);\n        this$1.recordInsertBefore(c, parentNode, refChild);\n      }\n    } else {\n      this.recordInsertBefore(newChild, parentNode, refChild);\n    }\n  },\n\n  _removeChild: function _removeChild(parentNode, node) {\n    this.recordRemoveChild(node, parentNode);\n  }\n\n};\n\n// for testing...\nvar descriptors = {};\nfunction getNativeProperty(element, property) {\n  if (!descriptors[property]) {\n    descriptors[property] = Object.getOwnPropertyDescriptor(\n      HTMLElement.prototype, property) ||\n    Object.getOwnPropertyDescriptor(\n      Element.prototype, property) ||\n    Object.getOwnPropertyDescriptor(\n      Node.prototype, property);\n  }\n  return descriptors[property].get.call(element);\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// NOTE: normalize event contruction where necessary (IE11)\nvar NormalizedEvent = typeof Event === 'function' ? Event :\n  function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    return e;\n  };\n\nvar Distributor = (function () {\n  function anonymous(root) {\n    this.root = root;\n    this.insertionPointTag = 'slot';\n  }\n\n  anonymous.prototype.getInsertionPoints = function getInsertionPoints () {\n    return this.root.querySelectorAll(this.insertionPointTag);\n  };\n\n  anonymous.prototype.hasInsertionPoint = function hasInsertionPoint () {\n    return Boolean(this.root._insertionPoints &&\n      this.root._insertionPoints.length);\n  };\n\n  anonymous.prototype.isInsertionPoint = function isInsertionPoint (node) {\n    return node.localName && node.localName == this.insertionPointTag;\n  };\n\n  anonymous.prototype.distribute = function distribute () {\n    if (this.hasInsertionPoint()) {\n      return this.distributePool(this.root, this.collectPool());\n    }\n    return [];\n  };\n\n  // Gather the pool of nodes that should be distributed. We will combine\n  // these with the \"content root\" to arrive at the composed tree.\n  anonymous.prototype.collectPool = function collectPool () {\n    return tree.arrayCopy(\n      tree.Logical.getChildNodes(this.root.host));\n  };\n\n  // perform \"logical\" distribution; note, no actual dom is moved here,\n  // instead elements are distributed into storage\n  // array where applicable.\n  anonymous.prototype.distributePool = function distributePool (node, pool) {\n    var this$1 = this;\n\n    var dirtyRoots = [];\n    var p$ = this.root._insertionPoints;\n    for (var i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n      this$1.distributeInsertionPoint(p, pool);\n      // provoke redistribution on insertion point parents\n      // must do this on all candidate hosts since distribution in this\n      // scope invalidates their distribution.\n      // only get logical parent.\n      var parent = tree.Logical.getParentNode(p);\n      if (parent && parent.shadyRoot &&\n          this$1.hasInsertionPoint(parent.shadyRoot)) {\n        dirtyRoots.push(parent.shadyRoot);\n      }\n    }\n    for (var i$1=0; i$1 < pool.length; i$1++) {\n      var p$1 = pool[i$1];\n      if (p$1) {\n        p$1._assignedSlot = undefined;\n        // remove undistributed elements from physical dom.\n        var parent$1 = tree.Composed.getParentNode(p$1);\n        if (parent$1) {\n          tree.Composed.removeChild(parent$1, p$1);\n        }\n      }\n    }\n    return dirtyRoots;\n  };\n\n  anonymous.prototype.distributeInsertionPoint = function distributeInsertionPoint (insertionPoint, pool) {\n    var this$1 = this;\n\n    var prevAssignedNodes = insertionPoint._assignedNodes;\n    if (prevAssignedNodes) {\n      this.clearAssignedSlots(insertionPoint, true);\n    }\n    insertionPoint._assignedNodes = [];\n    var needsSlotChange = false;\n    // distribute nodes from the pool that this selector matches\n    var anyDistributed = false;\n    for (var i=0, l=pool.length, node; i < l; i++) {\n      node=pool[i];\n      // skip nodes that were already used\n      if (!node) {\n        continue;\n      }\n      // distribute this node if it matches\n      if (this$1.matchesInsertionPoint(node, insertionPoint)) {\n        if (node.__prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this$1.distributeNodeInto(node, insertionPoint)\n        // remove this node from the pool\n        pool[i] = undefined;\n        // since at least one node matched, we won't need fallback content\n        anyDistributed = true;\n      }\n    }\n    // Fallback content if nothing was distributed here\n    if (!anyDistributed) {\n      var children = tree.Logical.getChildNodes(insertionPoint);\n      for (var j = 0, node$1; j < children.length; j++) {\n        node$1 = children[j];\n        if (node$1.__prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this$1.distributeNodeInto(node$1, insertionPoint);\n      }\n    }\n    // we're already dirty if a node was newly added to the slot\n    // and we're also dirty if the assigned count decreased.\n    if (prevAssignedNodes) {\n      // TODO(sorvell): the tracking of previously assigned slots\n      // could instead by done with a Set and then we could\n      // avoid needing to iterate here to clear the info.\n      for (var i$1=0; i$1 < prevAssignedNodes.length; i$1++) {\n        prevAssignedNodes[i$1].__prevAssignedSlot = null;\n      }\n      if (insertionPoint._assignedNodes.length < prevAssignedNodes.length) {\n        needsSlotChange = true;\n      }\n    }\n    this.setDistributedNodesOnInsertionPoint(insertionPoint);\n    if (needsSlotChange) {\n      this._fireSlotChange(insertionPoint);\n    }\n  };\n\n  anonymous.prototype.clearAssignedSlots = function clearAssignedSlots (slot, savePrevious) {\n    var n$ = slot._assignedNodes;\n    if (n$) {\n      for (var i=0; i < n$.length; i++) {\n        var n = n$[i];\n        if (savePrevious) {\n          n.__prevAssignedSlot = n._assignedSlot;\n        }\n        // only clear if it was previously set to this slot;\n        // this helps ensure that if the node has otherwise been distributed\n        // ignore it.\n        if (n._assignedSlot === slot) {\n          n._assignedSlot = null;\n        }\n      }\n    }\n  };\n\n  anonymous.prototype.matchesInsertionPoint = function matchesInsertionPoint (node, insertionPoint) {\n    var slotName = insertionPoint.getAttribute('name');\n    slotName = slotName ? slotName.trim() : '';\n    var slot = node.getAttribute && node.getAttribute('slot');\n    slot = slot ? slot.trim() : '';\n    return (slot == slotName);\n  };\n\n  anonymous.prototype.distributeNodeInto = function distributeNodeInto (child, insertionPoint) {\n    insertionPoint._assignedNodes.push(child);\n    child._assignedSlot = insertionPoint;\n  };\n\n  anonymous.prototype.setDistributedNodesOnInsertionPoint = function setDistributedNodesOnInsertionPoint (insertionPoint) {\n    var this$1 = this;\n\n    var n$ = insertionPoint._assignedNodes;\n    insertionPoint._distributedNodes = [];\n    for (var i=0, n; (i<n$.length) && (n=n$[i]) ; i++) {\n      if (this$1.isInsertionPoint(n)) {\n        var d$ = n._distributedNodes;\n        if (d$) {\n          for (var j=0; j < d$.length; j++) {\n            insertionPoint._distributedNodes.push(d$[j]);\n          }\n        }\n      } else {\n        insertionPoint._distributedNodes.push(n$[i]);\n      }\n    }\n  };\n\n  anonymous.prototype._fireSlotChange = function _fireSlotChange (insertionPoint) {\n    // NOTE: cannot bubble correctly here so not setting bubbles: true\n    // Safari tech preview does not bubble but chrome does\n    // Spec says it bubbles (https://dom.spec.whatwg.org/#mutation-observers)\n    insertionPoint.dispatchEvent(new NormalizedEvent('slotchange'));\n    if (insertionPoint._assignedSlot) {\n      this._fireSlotChange(insertionPoint._assignedSlot);\n    }\n  };\n\n  anonymous.prototype.isFinalDestination = function isFinalDestination (insertionPoint) {\n    return !(insertionPoint._assignedSlot);\n  };\n\n  return anonymous;\n}())\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n  Implements a pared down version of ShadowDOM's scoping, which is easy to\n  polyfill across browsers.\n*/\nvar ShadyRoot = function ShadyRoot(host) {\n  if (!host) {\n    throw 'Must provide a host';\n  }\n  // NOTE: this strange construction is necessary because\n  // DocumentFragment cannot be subclassed on older browsers.\n  var frag = document.createDocumentFragment();\n  frag.__proto__ = ShadyFragmentMixin;\n  frag._init(host);\n  return frag;\n};\n\nvar ShadyMixin = {\n\n  _init: function _init(host) {\n    // NOTE: set a fake local name so this element can be\n    // distinguished from a DocumentFragment when patching.\n    // FF doesn't allow this to be `localName`\n    this.__localName = 'ShadyRoot';\n    // root <=> host\n    host.shadyRoot = this;\n    this.host = host;\n    // logical dom setup\n    tree.Logical.saveChildNodes(host);\n    tree.Logical.saveChildNodes(this);\n    // state flags\n    this._clean = true;\n    this._hasRendered = false;\n    this._distributor = new Distributor(this);\n    this.update();\n  },\n\n  // async render the \"top\" distributor (this is all that is needed to\n  // distribute this host).\n  update: function update() {\n    // TODO(sorvell): instead the root should always be enqueued to helps record that it is dirty.\n    // Then, in `render`, the top most (in the distribution tree) \"dirty\" root should be rendered.\n    var distributionRoot = this._findDistributionRoot(this.host);\n    //console.log('update from', this.host, 'root', distributionRoot.host, distributionRoot._clean);\n    if (distributionRoot._clean) {\n      distributionRoot._clean = false;\n      enqueue(function() {\n        distributionRoot.render();\n      });\n    }\n  },\n\n  // TODO(sorvell): this may not return a shadowRoot (for example if the element is in a docFragment)\n  // this should only return a shadowRoot.\n  // returns the host that's the top of this host's distribution tree\n  _findDistributionRoot: function _findDistributionRoot(element) {\n    var root = element.shadyRoot;\n    while (element && this._elementNeedsDistribution(element)) {\n      root = element.getRootNode();\n      element = root && root.host;\n    }\n    return root;\n  },\n\n  // Return true if a host's children includes\n  // an insertion point that selects selectively\n  _elementNeedsDistribution: function _elementNeedsDistribution(element) {\n    var this$1 = this;\n\n    var c$ = tree.Logical.getChildNodes(element);\n    for (var i=0, c; i < c$.length; i++) {\n      c = c$[i];\n      if (this$1._distributor.isInsertionPoint(c)) {\n        return element.getRootNode();\n      }\n    }\n  },\n\n  render: function render() {\n    if (!this._clean) {\n      this._clean = true;\n      if (!this._skipUpdateInsertionPoints) {\n        this.updateInsertionPoints();\n      } else if (!this._hasRendered) {\n        this._insertionPoints = [];\n      }\n      this._skipUpdateInsertionPoints = false;\n      // TODO(sorvell): previous ShadyDom had a fast path here\n      // that would avoid distribution for initial render if\n      // no insertion points exist. We cannot currently do this because\n      // it relies on elements being in the physical shadowRoot element\n      // so that native methods will be used. The current append code\n      // simply provokes distribution in this case and does not put the\n      // nodes in the shadowRoot. This could be done but we'll need to\n      // consider if the special processing is worth the perf gain.\n      // if (!this._hasRendered && !this._insertionPoints.length) {\n      //   tree.Composed.clearChildNodes(this.host);\n      //   tree.Composed.appendChild(this.host, this);\n      // } else {\n      // logical\n      this.distribute();\n      // physical\n      this.compose();\n      this._hasRendered = true;\n    }\n  },\n\n  forceRender: function forceRender() {\n    this._clean = false;\n    this.render();\n  },\n\n  distribute: function distribute() {\n    var dirtyRoots = this._distributor.distribute();\n    for (var i=0; i<dirtyRoots.length; i++) {\n      dirtyRoots[i].forceRender();\n    }\n  },\n\n  updateInsertionPoints: function updateInsertionPoints() {\n    var this$1 = this;\n\n    var i$ = this.__insertionPoints;\n    // if any insertion points have been removed, clear their distribution info\n    if (i$) {\n      for (var i=0, c; i < i$.length; i++) {\n        c = i$[i];\n        if (c.getRootNode() !== this$1) {\n          this$1._distributor.clearAssignedSlots(c);\n        }\n      }\n    }\n    i$ = this._insertionPoints = this._distributor.getInsertionPoints();\n    // ensure insertionPoints's and their parents have logical dom info.\n    // save logical tree info\n    // a. for shadyRoot\n    // b. for insertion points (fallback)\n    // c. for parents of insertion points\n    for (var i$1=0, c$1; i$1 < i$.length; i$1++) {\n      c$1 = i$[i$1];\n      tree.Logical.saveChildNodes(c$1);\n      tree.Logical.saveChildNodes(tree.Logical.getParentNode(c$1));\n    }\n  },\n\n  get _insertionPoints() {\n    if (!this.__insertionPoints) {\n      this.updateInsertionPoints();\n    }\n    return this.__insertionPoints || (this.__insertionPoints = []);\n  },\n\n  set _insertionPoints(insertionPoints) {\n    this.__insertionPoints = insertionPoints;\n  },\n\n  hasInsertionPoint: function hasInsertionPoint() {\n    return this._distributor.hasInsertionPoint();\n  },\n\n  compose: function compose() {\n    // compose self\n    // note: it's important to mark this clean before distribution\n    // so that attachment that provokes additional distribution (e.g.\n    // adding something to your parentNode) works\n    this._composeTree();\n    // TODO(sorvell): See fast paths here in Polymer v1\n    // (these seem unnecessary)\n  },\n\n  // Reify dom such that it is at its correct rendering position\n  // based on logical distribution.\n  _composeTree: function _composeTree() {\n    var this$1 = this;\n\n    this._updateChildNodes(this.host, this._composeNode(this.host));\n    var p$ = this._insertionPoints || [];\n    for (var i=0, l=p$.length, p, parent; (i<l) && (p=p$[i]); i++) {\n      parent = tree.Logical.getParentNode(p);\n      if ((parent !== this$1.host) && (parent !== this$1)) {\n        this$1._updateChildNodes(parent, this$1._composeNode(parent));\n      }\n    }\n  },\n\n  // Returns the list of nodes which should be rendered inside `node`.\n  _composeNode: function _composeNode(node) {\n    var this$1 = this;\n\n    var children = [];\n    var c$ = tree.Logical.getChildNodes(node.shadyRoot || node);\n    for (var i = 0; i < c$.length; i++) {\n      var child = c$[i];\n      if (this$1._distributor.isInsertionPoint(child)) {\n        var distributedNodes = child._distributedNodes ||\n          (child._distributedNodes = []);\n        for (var j = 0; j < distributedNodes.length; j++) {\n          var distributedNode = distributedNodes[j];\n          if (this$1.isFinalDestination(child, distributedNode)) {\n            children.push(distributedNode);\n          }\n        }\n      } else {\n        children.push(child);\n      }\n    }\n    return children;\n  },\n\n  isFinalDestination: function isFinalDestination(insertionPoint, node) {\n    return this._distributor.isFinalDestination(\n      insertionPoint, node);\n  },\n\n  // Ensures that the rendered node list inside `container` is `children`.\n  _updateChildNodes: function _updateChildNodes(container, children) {\n    var composed = tree.Composed.getChildNodes(container);\n    var splices = calculateSplices(children, composed);\n    // process removals\n    for (var i=0, d=0, s; (i<splices.length) && (s=splices[i]); i++) {\n      for (var j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n        // check if the node is still where we expect it is before trying\n        // to remove it; this can happen if we move a node and\n        // then schedule its previous host for distribution resulting in\n        // the node being removed here.\n        if (tree.Composed.getParentNode(n) === container) {\n          tree.Composed.removeChild(container, n);\n        }\n        composed.splice(s.index + d, 1);\n      }\n      d -= s.addedCount;\n    }\n    // process adds\n    for (var i$1=0, s$1, next; (i$1<splices.length) && (s$1=splices[i$1]); i$1++) { //eslint-disable-line no-redeclare\n      next = composed[s$1.index];\n      for (var j$1=s$1.index, n$1; j$1 < s$1.index + s$1.addedCount; j$1++) {\n        n$1 = children[j$1];\n        tree.Composed.insertBefore(container, n$1, next);\n        // TODO(sorvell): is this splice strictly needed?\n        composed.splice(j$1, 0, n$1);\n      }\n    }\n  },\n\n  getInsertionPointTag: function getInsertionPointTag() {\n    return this._distributor.insertionPointTag;\n  }\n\n}\n\nvar ShadyFragmentMixin = Object.create(DocumentFragment.prototype);\nextend(ShadyFragmentMixin, ShadyMixin);\n\n// let needsUpgrade = window.CustomElements && !CustomElements.useNative;\n\n// function upgradeLogicalChildren(children) {\n//   if (needsUpgrade && children) {\n//     for (let i=0; i < children.length; i++) {\n//       CustomElements.upgrade(children[i]);\n//     }\n//   }\n// }\n\n// render enqueuer/flusher\nvar customElements = window.customElements;\nvar flushList = [];\nvar scheduled;\nvar flushCount = 0;\nvar flushMax = 100;\nfunction enqueue(callback) {\n  if (!scheduled) {\n    scheduled = true;\n    promish.then(flush$1);\n  }\n  flushList.push(callback);\n}\n\nfunction flush$1() {\n  scheduled = false;\n  flushCount++;\n  while (flushList.length) {\n    flushList.shift()();\n  }\n  if (customElements && customElements.flush) {\n    customElements.flush();\n  }\n  // continue flushing after elements are upgraded...\n  var isFlushedMaxed = (flushCount > flushMax);\n  if (flushList.length && !isFlushedMaxed) {\n      flush$1();\n  }\n  flushCount = 0;\n  if (isFlushedMaxed) {\n    throw new Error('Loop detected in ShadyDOM distribution, aborting.')\n  }\n}\n\nflush$1.list = flushList;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Cribbed from ShadowDOM polyfill\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/ShadowDOM/wrappers/HTMLElement.js#L28\n/////////////////////////////////////////////////////////////////////////////\n// innerHTML and outerHTML\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\nvar escapeAttrRegExp = /[&\\u00A0\"]/g;\nvar escapeDataRegExp = /[&\\u00A0<>]/g;\n\nfunction escapeReplace(c) {\n  switch (c) {\n    case '&':\n      return '&amp;';\n    case '<':\n      return '&lt;';\n    case '>':\n      return '&gt;';\n    case '\"':\n      return '&quot;';\n    case '\\u00A0':\n      return '&nbsp;';\n  }\n}\n\nfunction escapeAttr(s) {\n  return s.replace(escapeAttrRegExp, escapeReplace);\n}\n\nfunction escapeData(s) {\n  return s.replace(escapeDataRegExp, escapeReplace);\n}\n\nfunction makeSet(arr) {\n  var set = {};\n  for (var i = 0; i < arr.length; i++) {\n    set[arr[i]] = true;\n  }\n  return set;\n}\n\n// http://www.whatwg.org/specs/web-apps/current-work/#void-elements\nvar voidElements = makeSet([\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]);\n\nvar plaintextParents = makeSet([\n  'style',\n  'script',\n  'xmp',\n  'iframe',\n  'noembed',\n  'noframes',\n  'plaintext',\n  'noscript'\n]);\n\nfunction getOuterHTML(node, parentNode, composed) {\n  switch (node.nodeType) {\n    case Node.ELEMENT_NODE: {\n      var tagName = node.localName;\n      var s = '<' + tagName;\n      var attrs = node.attributes;\n      for (var i = 0, attr; (attr = attrs[i]); i++) {\n        s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n      }\n      s += '>';\n      if (voidElements[tagName]) {\n        return s;\n      }\n      return s + getInnerHTML(node, composed) + '</' + tagName + '>';\n    }\n    case Node.TEXT_NODE: {\n      var data = node.data;\n      if (parentNode && plaintextParents[parentNode.localName]) {\n        return data;\n      }\n      return escapeData(data);\n    }\n    case Node.COMMENT_NODE: {\n      return '<!--' + node.data + '-->';\n    }\n    default: {\n      window.console.error(node);\n      throw new Error('not implemented');\n    }\n  }\n}\n\nfunction getInnerHTML(node, composed) {\n  if (node.localName === 'template') {\n    node = node.content;\n  }\n  var s = '';\n  var c$ = composed ? composed(node) : node.childNodes;\n  for (var i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n    s += getOuterHTML(child, node, composed);\n  }\n  return s;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar mixinImpl = {\n\n  // Try to add node. Record logical info, track insertion points, perform\n  // distribution iff needed. Return true if the add is handled.\n  addNode: function addNode(container, node, ref_node) {\n    var ownerRoot = this.ownerShadyRootForNode(container);\n    if (ownerRoot) {\n      // optimization: special insertion point tracking\n      if (node.__noInsertionPoint) {\n        ownerRoot._skipUpdateInsertionPoints = true;\n      }\n      // note: we always need to see if an insertion point is added\n      // since this saves logical tree info; however, invalidation state\n      // needs\n      var ipAdded = this._maybeAddInsertionPoint(node, container, ownerRoot);\n      // invalidate insertion points IFF not already invalid!\n      if (ipAdded) {\n        ownerRoot._skipUpdateInsertionPoints = false;\n      }\n      this._addedNode(node, ownerRoot);\n    }\n    if (tree.Logical.hasChildNodes(container)) {\n      tree.Logical.recordInsertBefore(node, container, ref_node);\n    }\n    // if not distributing and not adding to host, do a fast path addition\n    var handled = this._maybeDistribute(node, container, ownerRoot) ||\n      container.shadyRoot;\n    return handled;\n  },\n\n  // Try to remove node: update logical info and perform distribution iff\n  // needed. Return true if the removal has been handled.\n  // note that it's possible for both the node's host and its parent\n  // to require distribution... both cases are handled here.\n  removeNode: function removeNode(node) {\n    // important that we want to do this only if the node has a logical parent\n    var logicalParent = tree.Logical.hasParentNode(node) &&\n      tree.Logical.getParentNode(node);\n    var distributed;\n    var ownerRoot = this.ownerShadyRootForNode(node);\n    if (logicalParent) {\n      // distribute node's parent iff needed\n      distributed = this.maybeDistributeParent(node);\n      tree.Logical.recordRemoveChild(node, logicalParent);\n      // remove node from root and distribute it iff needed\n      if (ownerRoot && (this._removeDistributedChildren(ownerRoot, node) ||\n        logicalParent.localName === ownerRoot.getInsertionPointTag())) {\n        ownerRoot._skipUpdateInsertionPoints = false;\n        ownerRoot.update();\n      }\n    }\n    this._removeOwnerShadyRoot(node);\n    if (ownerRoot) {\n      this._removedNode(node, ownerRoot);\n    }\n    return distributed;\n  },\n\n\n  _scheduleObserver: function _scheduleObserver(node, addedNode, removedNode) {\n    var observer = node.__dom && node.__dom.observer;\n    if (observer) {\n      if (addedNode) {\n        observer.addedNodes.push(addedNode);\n      }\n      if (removedNode) {\n        observer.removedNodes.push(removedNode);\n      }\n      observer.schedule();\n    }\n  },\n\n  removeNodeFromParent: function removeNodeFromParent(node, parent) {\n    if (parent) {\n      this._scheduleObserver(parent, null, node);\n      this.removeNode(node);\n    } else {\n      this._removeOwnerShadyRoot(node);\n    }\n  },\n\n  _hasCachedOwnerRoot: function _hasCachedOwnerRoot(node) {\n    return Boolean(node.__ownerShadyRoot !== undefined);\n  },\n\n  getRootNode: function getRootNode$1(node) {\n    if (!node || !node.nodeType) {\n      return;\n    }\n    var root = node.__ownerShadyRoot;\n    if (root === undefined) {\n      if (isShadyRoot(node)) {\n        root = node;\n      } else {\n        var parent = tree.Logical.getParentNode(node);\n        root = parent ? this.getRootNode(parent) : node;\n      }\n      // memo-ize result for performance but only memo-ize\n      // result if node is in the document. This avoids a problem where a root\n      // can be cached while an element is inside a fragment.\n      // If this happens and we cache the result, the value can become stale\n      // because for perf we avoid processing the subtree of added fragments.\n      if (document.documentElement.contains(node)) {\n        node.__ownerShadyRoot = root;\n      }\n    }\n    return root;\n  },\n\n  ownerShadyRootForNode: function ownerShadyRootForNode(node) {\n    var root = this.getRootNode(node);\n    if (isShadyRoot(root)) {\n      return root;\n    }\n  },\n\n  _maybeDistribute: function _maybeDistribute(node, container, ownerRoot) {\n    // TODO(sorvell): technically we should check non-fragment nodes for\n    // <content> children but since this case is assumed to be exceedingly\n    // rare, we avoid the cost and will address with some specific api\n    // when the need arises.  For now, the user must call\n    // distributeContent(true), which updates insertion points manually\n    // and forces distribution.\n    var insertionPointTag = ownerRoot && ownerRoot.getInsertionPointTag() || '';\n    var fragContent = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) &&\n      !node.__noInsertionPoint &&\n      insertionPointTag && node.querySelector(insertionPointTag);\n    var wrappedContent = fragContent &&\n      (tree.Logical.getParentNode(fragContent).nodeType !==\n      Node.DOCUMENT_FRAGMENT_NODE);\n    var hasContent = fragContent || (node.localName === insertionPointTag);\n    // There are 3 possible cases where a distribution may need to occur:\n    // 1. <content> being inserted (the host of the shady root where\n    //    content is inserted needs distribution)\n    // 2. children being inserted into parent with a shady root (parent\n    //    needs distribution)\n    // 3. container is an insertionPoint\n    if (hasContent || (container.localName === insertionPointTag)) {\n      if (ownerRoot) {\n        // note, insertion point list update is handled after node\n        // mutations are complete\n        ownerRoot.update();\n      }\n    }\n    var needsDist = this._nodeNeedsDistribution(container);\n    if (needsDist) {\n      container.shadyRoot.update();\n    }\n    // Return true when distribution will fully handle the composition\n    // Note that if a content was being inserted that was wrapped by a node,\n    // and the parent does not need distribution, return false to allow\n    // the nodes to be added directly, after which children may be\n    // distributed and composed into the wrapping node(s)\n    return needsDist || (hasContent && !wrappedContent);\n  },\n\n  /* note: parent argument is required since node may have an out\n  of date parent at this point; returns true if a <content> is being added */\n  _maybeAddInsertionPoint: function _maybeAddInsertionPoint(node, parent, root) {\n    var this$1 = this;\n\n    var added;\n    var insertionPointTag = root.getInsertionPointTag();\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n      !node.__noInsertionPoint) {\n      var c$ = node.querySelectorAll(insertionPointTag);\n      for (var i=0, n, np, na; (i<c$.length) && (n=c$[i]); i++) {\n        np = tree.Logical.getParentNode(n);\n        // don't allow node's parent to be fragment itself\n        if (np === node) {\n          np = parent;\n        }\n        na = this$1._maybeAddInsertionPoint(n, np, root);\n        added = added || na;\n      }\n    } else if (node.localName === insertionPointTag) {\n      tree.Logical.saveChildNodes(parent);\n      tree.Logical.saveChildNodes(node);\n      added = true;\n    }\n    return added;\n  },\n\n  _nodeNeedsDistribution: function _nodeNeedsDistribution(node) {\n    return node && node.shadyRoot &&\n      node.shadyRoot.hasInsertionPoint();\n  },\n\n  // TODO(sorvell): needed for style scoping, use MO?\n  _addedNode: function _addedNode() {},\n  _removedNode: function _removedNode() {},\n  /*\n  _addedNode(node, root) {\n    // if (ShadyDOM.addedNode) {\n    //   ShadyDOM.addedNode(node, root);\n    // }\n  },\n\n  _removedNode(node, root) {\n    if (ShadyDOM.removedNode) {\n      ShadyDOM.removedNode(node, root);\n    }\n  },\n  */\n\n  _removeDistributedChildren: function _removeDistributedChildren(root, container) {\n    var this$1 = this;\n\n    var hostNeedsDist;\n    var ip$ = root._insertionPoints;\n    for (var i=0; i<ip$.length; i++) {\n      var insertionPoint = ip$[i];\n      if (this$1._contains(container, insertionPoint)) {\n        var dc$ = insertionPoint.assignedNodes({flatten: true});\n        for (var j=0; j<dc$.length; j++) {\n          hostNeedsDist = true;\n          var node = dc$[j];\n          var parent = tree.Composed.getParentNode(node);\n          if (parent) {\n            tree.Composed.removeChild(parent, node);\n          }\n        }\n      }\n    }\n    return hostNeedsDist;\n  },\n\n  _contains: function _contains(container, node) {\n    while (node) {\n      if (node == container) {\n        return true;\n      }\n      node = tree.Logical.getParentNode(node);\n    }\n  },\n\n  _removeOwnerShadyRoot: function _removeOwnerShadyRoot(node) {\n    var this$1 = this;\n\n    // optimization: only reset the tree if node is actually in a root\n    if (this._hasCachedOwnerRoot(node)) {\n      var c$ = tree.Logical.getChildNodes(node);\n      for (var i=0, l=c$.length, n; (i<l) && (n=c$[i]); i++) {\n        this$1._removeOwnerShadyRoot(n);\n      }\n    }\n    node.__ownerShadyRoot = undefined;\n  },\n\n  // TODO(sorvell): This will fail if distribution that affects this\n  // question is pending; this is expected to be exceedingly rare, but if\n  // the issue comes up, we can force a flush in this case.\n  firstComposedNode: function firstComposedNode(insertionPoint) {\n    var n$ = insertionPoint.assignedNodes({flatten: true});\n    var root = this.getRootNode(insertionPoint);\n    for (var i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {\n      // means that we're composed to this spot.\n      if (root.isFinalDestination(insertionPoint, n)) {\n        return n;\n      }\n    }\n  },\n\n  clearNode: function clearNode(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n\n  maybeDistributeParent: function maybeDistributeParent(node) {\n    var parent = tree.Logical.getParentNode(node);\n    if (this._nodeNeedsDistribution(parent)) {\n      parent.shadyRoot.update();\n      return true;\n    }\n  },\n\n  maybeDistributeAttributeChange: function maybeDistributeAttributeChange(node, name) {\n    var distribute = (node.localName === 'slot' && name === 'name');\n    if (distribute) {\n      var root = this.getRootNode(node);\n      if (root.update) {\n        root.update();\n      }\n    }\n  },\n\n  // NOTE: `query` is used primarily for ShadyDOM's querySelector impl,\n  // but it's also generally useful to recurse through the element tree\n  // and is used by Polymer's styling system.\n  query: function query(node, matcher, halter) {\n    var list = [];\n    this._queryElements(tree.Logical.getChildNodes(node), matcher,\n      halter, list);\n    return list;\n  },\n\n  _queryElements: function _queryElements(elements, matcher, halter, list) {\n    var this$1 = this;\n\n    for (var i=0, l=elements.length, c; (i<l) && (c=elements[i]); i++) {\n      if (c.nodeType === Node.ELEMENT_NODE &&\n          this$1._queryElement(c, matcher, halter, list)) {\n        return true;\n      }\n    }\n  },\n\n  _queryElement: function _queryElement(node, matcher, halter, list) {\n    var result = matcher(node);\n    if (result) {\n      list.push(node);\n    }\n    if (halter && halter(result)) {\n      return result;\n    }\n    this._queryElements(tree.Logical.getChildNodes(node), matcher,\n      halter, list);\n  },\n\n  activeElementForNode: function activeElementForNode(node) {\n    var this$1 = this;\n\n    var active = document.activeElement;\n    if (!active) {\n      return null;\n    }\n    var isShadyRoot$$1 = !!(isShadyRoot(node));\n    if (node !== document) {\n      // If this node isn't a document or shady root, then it doesn't have\n      // an active element.\n      if (!isShadyRoot$$1) {\n        return null;\n      }\n      // If this shady root's host is the active element or the active\n      // element is not a descendant of the host (in the composed tree),\n      // then it doesn't have an active element.\n      if (node.host === active ||\n          !node.host.contains(active)) {\n        return null;\n      }\n    }\n    // This node is either the document or a shady root of which the active\n    // element is a (composed) descendant of its host; iterate upwards to\n    // find the active element's most shallow host within it.\n    var activeRoot = this.ownerShadyRootForNode(active);\n    while (activeRoot && activeRoot !== node) {\n      active = activeRoot.host;\n      activeRoot = this$1.ownerShadyRootForNode(active);\n    }\n    if (node === document) {\n      // This node is the document, so activeRoot should be null.\n      return activeRoot ? null : active;\n    } else {\n      // This node is a non-document shady root, and it should be\n      // activeRoot.\n      return activeRoot === node ? active : null;\n    }\n  }\n\n};\n\nvar nativeCloneNode = Element.prototype.cloneNode;\nvar nativeImportNode = Document.prototype.importNode;\nvar nativeSetAttribute = Element.prototype.setAttribute;\nvar nativeRemoveAttribute = Element.prototype.removeAttribute;\n\nvar NodeMixin = {};\n\nObject.defineProperties(NodeMixin, {\n\n  parentElement: {\n    get: function get() {\n      return tree.Logical.getParentNode(this);\n    },\n    configurable: true\n  },\n\n  parentNode: {\n    get: function get$1() {\n      return tree.Logical.getParentNode(this);\n    },\n    configurable: true\n  },\n\n  nextSibling: {\n    get: function get$2() {\n      return tree.Logical.getNextSibling(this);\n    },\n    configurable: true\n  },\n\n  previousSibling: {\n    get: function get$3() {\n      return tree.Logical.getPreviousSibling(this);\n    },\n    configurable: true\n  },\n\n  nextElementSibling: {\n    get: function get$4() {\n      return tree.Logical.getNextElementSibling(this);\n    },\n    configurable: true\n  },\n\n  previousElementSibling: {\n    get: function get$5() {\n      return tree.Logical.getPreviousElementSibling(this);\n    },\n    configurable: true\n  },\n\n  assignedSlot: {\n    get: function get$6() {\n      return this._assignedSlot;\n    },\n    configurable: true\n  }\n});\n\nvar FragmentMixin = {\n\n  appendChild: function appendChild(node) {\n    return this.insertBefore(node);\n  },\n\n  // cases in which we may not be able to just do standard native call\n  // 1. container has a shadyRoot (needsDistribution IFF the shadyRoot\n  // has an insertion point)\n  // 2. container is a shadyRoot (don't distribute, instead set\n  // container to container.host.\n  // 3. node is <content> (host of container needs distribution)\n  insertBefore: function insertBefore(node, ref_node) {\n    if (ref_node && tree.Logical.getParentNode(ref_node) !== this) {\n      throw Error('The ref_node to be inserted before is not a child ' +\n        'of this node');\n    }\n    // remove node from its current position iff it's in a tree.\n    if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n      var parent = tree.Logical.getParentNode(node);\n      mixinImpl.removeNodeFromParent(node, parent);\n    }\n    if (!mixinImpl.addNode(this, node, ref_node)) {\n      if (ref_node) {\n        // if ref_node is an insertion point replace with first distributed node\n        var root = mixinImpl.ownerShadyRootForNode(ref_node);\n        if (root) {\n          ref_node = ref_node.localName === root.getInsertionPointTag() ?\n            mixinImpl.firstComposedNode(ref_node) : ref_node;\n        }\n      }\n      // if adding to a shadyRoot, add to host instead\n      var container = isShadyRoot(this) ?\n        this.host : this;\n      if (ref_node) {\n        tree.Composed.insertBefore(container, node, ref_node);\n      } else {\n        tree.Composed.appendChild(container, node);\n      }\n    }\n    mixinImpl._scheduleObserver(this, node);\n    return node;\n  },\n\n  /**\n    Removes the given `node` from the element's `lightChildren`.\n    This method also performs dom composition.\n  */\n  removeChild: function removeChild(node) {\n    if (tree.Logical.getParentNode(node) !== this) {\n      throw Error('The node to be removed is not a child of this node: ' +\n        node);\n    }\n    if (!mixinImpl.removeNode(node)) {\n      // if removing from a shadyRoot, remove form host instead\n      var container = isShadyRoot(this) ?\n        this.host :\n        this;\n      // not guaranteed to physically be in container; e.g.\n      // undistributed nodes.\n      var parent = tree.Composed.getParentNode(node);\n      if (container === parent) {\n        tree.Composed.removeChild(container, node);\n      }\n    }\n    mixinImpl._scheduleObserver(this, null, node);\n    return node;\n  },\n\n  replaceChild: function replaceChild(node, ref_node) {\n    this.insertBefore(node, ref_node);\n    this.removeChild(ref_node);\n    return node;\n  },\n\n  // TODO(sorvell): consider doing native QSA and filtering results.\n  querySelector: function querySelector(selector) {\n    // match selector and halt on first result.\n    var result = mixinImpl.query(this, function(n) {\n      return matchesSelector(n, selector);\n    }, function(n) {\n      return Boolean(n);\n    })[0];\n    return result || null;\n  },\n\n  querySelectorAll: function querySelectorAll(selector) {\n    return mixinImpl.query(this, function(n) {\n      return matchesSelector(n, selector);\n    });\n  },\n\n  cloneNode: function cloneNode(deep) {\n    if (this.localName == 'template') {\n      return nativeCloneNode.call(this, deep);\n    } else {\n      var n = nativeCloneNode.call(this, false);\n      if (deep) {\n        var c$ = this.childNodes;\n        for (var i=0, nc; i < c$.length; i++) {\n          nc = c$[i].cloneNode(true);\n          n.appendChild(nc);\n        }\n      }\n      return n;\n    }\n  },\n\n  importNode: function importNode(externalNode, deep) {\n    // for convenience use this node's ownerDoc if the node isn't a document\n    var doc = this instanceof Document ? this :\n      this.ownerDocument;\n    var n = nativeImportNode.call(doc, externalNode, false);\n    if (deep) {\n      var c$ = tree.Logical.getChildNodes(externalNode);\n      common.patchNode(n);\n      for (var i=0, nc; i < c$.length; i++) {\n        nc = doc.importNode(c$[i], true);\n        n.appendChild(nc);\n      }\n    }\n    return n;\n  }\n};\n\nObject.defineProperties(FragmentMixin, {\n\n  childNodes: {\n    get: function get$7() {\n      var c$ = tree.Logical.getChildNodes(this);\n      return Array.isArray(c$) ? c$ : tree.arrayCopyChildNodes(this);\n    },\n    configurable: true\n  },\n\n  children: {\n    get: function get$8() {\n      if (tree.Logical.hasChildNodes(this)) {\n        return Array.prototype.filter.call(this.childNodes, function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      } else {\n        return tree.arrayCopyChildren(this);\n      }\n    },\n    configurable: true\n  },\n\n  firstChild: {\n    get: function get$9() {\n      return tree.Logical.getFirstChild(this);\n    },\n    configurable: true\n  },\n\n  lastChild: {\n    get: function get$10() {\n      return tree.Logical.getLastChild(this);\n    },\n    configurable: true\n  },\n\n  firstElementChild: {\n    get: function get$11() {\n      return tree.Logical.getFirstElementChild(this);\n    },\n    configurable: true\n  },\n\n  lastElementChild: {\n    get: function get$12() {\n      return tree.Logical.getLastElementChild(this);\n    },\n    configurable: true\n  },\n\n  // TODO(srovell): strictly speaking fragments do not have textContent\n  // or innerHTML but ShadowRoots do and are not easily distinguishable.\n  // textContent / innerHTML\n  textContent: {\n    get: function get$13() {\n      if (this.childNodes) {\n        var tc = [];\n        for (var i = 0, cn = this.childNodes, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      }\n      return '';\n    },\n    set: function set(text) {\n      mixinImpl.clearNode(this);\n      if (text) {\n        this.appendChild(document.createTextNode(text));\n      }\n    },\n    configurable: true\n  },\n\n  innerHTML: {\n    get: function get$14() {\n      return getInnerHTML(this);\n    },\n    set: function set$1(text) {\n      var this$1 = this;\n\n      mixinImpl.clearNode(this);\n      var d = document.createElement('div');\n      d.innerHTML = text;\n      // here, appendChild may move nodes async so we cannot rely\n      // on node position when copying\n      var c$ = tree.arrayCopyChildNodes(d);\n      for (var i=0; i < c$.length; i++) {\n        this$1.appendChild(c$[i]);\n      }\n    },\n    configurable: true\n  }\n\n});\n\nvar ElementMixin = {\n\n  // TODO(sorvell): should only exist on <slot>\n  assignedNodes: function assignedNodes(options) {\n    return (options && options.flatten ? this._distributedNodes :\n      this._assignedNodes) || [];\n  },\n\n\n  setAttribute: function setAttribute(name, value) {\n    nativeSetAttribute.call(this, name, value);\n    if (!mixinImpl.maybeDistributeParent(this)) {\n      mixinImpl.maybeDistributeAttributeChange(this, name);\n    }\n  },\n\n  removeAttribute: function removeAttribute(name) {\n    nativeRemoveAttribute.call(this, name);\n    if (!mixinImpl.maybeDistributeParent(this)) {\n      mixinImpl.maybeDistributeAttributeChange(this, name);\n    }\n  }\n\n};\n\nObject.defineProperties(ElementMixin, {\n\n  shadowRoot: {\n    get: function get$15() {\n      return this.shadyRoot;\n    }\n  },\n\n  slot: {\n    get: function get$16() {\n      return this.getAttribute('slot');\n    },\n    set: function set$2(value) {\n      this.setAttribute('slot', value);\n    }\n  }\n\n});\n\nvar activeElementDescriptor = {\n  get: function get$17() {\n    return mixinImpl.activeElementForNode(this);\n  }\n}\n\nvar ActiveElementMixin = {};\nObject.defineProperties(ActiveElementMixin, {\n  activeElement: activeElementDescriptor\n});\n\nvar UnderActiveElementMixin = {};\nObject.defineProperties(UnderActiveElementMixin, {\n  _activeElement: activeElementDescriptor\n});\n\nvar Mixins = {\n\n  Node: extendAll({__patched: 'Node'}, NodeMixin),\n\n  Fragment: extendAll({__patched: 'Fragment'},\n    NodeMixin, FragmentMixin, ActiveElementMixin),\n\n  Element: extendAll({__patched: 'Element'},\n    NodeMixin, FragmentMixin, ElementMixin, ActiveElementMixin),\n\n  // Note: activeElement cannot be patched on document!\n  Document: extendAll({__patched: 'Document'},\n    NodeMixin, FragmentMixin, ElementMixin, UnderActiveElementMixin)\n\n};\n\nvar getRootNode = function(node) {\n  return mixinImpl.getRootNode(node);\n}\n\nfunction filterMutations(mutations, target) {\n  var targetRootNode = getRootNode(target);\n  return mutations.filter(function(mutation) {\n    var mutationInScope = (targetRootNode === getRootNode(mutation.target));\n    if (mutationInScope && mutation.addedNodes) {\n      var nodes = Array.from(mutation.addedNodes).filter(function(n) {\n        return (targetRootNode === getRootNode(n));\n      });\n      Object.defineProperty(mutation, 'addedNodes', {\n        value: nodes,\n        configurable: true\n      });\n    }\n    return mutationInScope &&\n      (!mutation.addedNodes || mutation.addedNodes.length);\n  });\n}\n\n// const promise = Promise.resolve();\n\nvar AsyncObserver = function AsyncObserver() {\n  this._scheduled = false;\n  this.addedNodes = [];\n  this.removedNodes = [];\n  this.callbacks = new Set();\n};\n\nAsyncObserver.prototype.schedule = function schedule () {\n    var this$1 = this;\n\n  if (!this._scheduled) {\n    this._scheduled = true;\n    promish.then(function () {\n      this$1.flush();\n    });\n  }\n};\n\nAsyncObserver.prototype.flush = function flush () {\n  if (this._scheduled) {\n    this._scheduled = false;\n    var mutations = this.takeRecords();\n    if (mutations.length) {\n      this.callbacks.forEach(function(cb) {\n        cb(mutations);\n      });\n    }\n  }\n};\n\nAsyncObserver.prototype.takeRecords = function takeRecords () {\n  if (this.addedNodes.length || this.removedNodes.length) {\n    var mutations = [{\n      addedNodes: this.addedNodes,\n      removedNodes: this.removedNodes\n    }];\n    this.addedNodes = [];\n    this.removedNodes = [];\n    return mutations;\n  }\n  return [];\n};\n\n// TODO(sorvell): consider instead polyfilling MutationObserver\n// directly so that users do not have to fork their code.\n// Supporting the entire api may be challenging: e.g. filtering out\n// removed nodes in the wrong scope and seeing non-distributing\n// subtree child mutations.\nvar observeChildren = function(node, callback) {\n  common.patchNode(node);\n  if (!node.__dom.observer) {\n    node.__dom.observer = new AsyncObserver();\n  }\n  node.__dom.observer.callbacks.add(callback);\n  var observer = node.__dom.observer;\n  return {\n    _callback: callback,\n    _observer: observer,\n    _node: node,\n    takeRecords: function takeRecords() {\n      return observer.takeRecords()\n    }\n  };\n}\n\nvar unobserveChildren = function(handle) {\n  var observer = handle && handle._observer;\n  if (observer) {\n    observer.callbacks.delete(handle._callback);\n    if (!observer.callbacks.size) {\n      handle._node.__dom.observer = null;\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nvar patchedCount = 0;\n\nvar log = false;\n\nvar patchImpl = {\n\n  canPatchNode: function(node) {\n    switch (node) {\n      case document.head:\n      case document.documentElement:\n        return false;\n      default:\n        return true;\n    }\n  },\n\n  hasPrototypeDescriptors: Boolean(Object.getOwnPropertyDescriptor(\n    window.Node.prototype, 'textContent')),\n\n  patch: function(node) {\n    patchedCount++;\n    log && window.console.warn('patch node', node);\n    if (this.hasPrototypeDescriptors) {\n      patchPrototype(node, this.mixinForObject(node));\n    } else {\n      window.console.warn('Patching instance rather than prototype', node);\n      extend(node, this.mixinForNode(node));\n    }\n  },\n\n  mixinForObject: function(obj) {\n    switch (obj.nodeType) {\n      case Node.ELEMENT_NODE:\n        return Mixins.Element;\n      case Node.DOCUMENT_FRAGMENT_NODE:\n        return Mixins.Fragment;\n      case Node.DOCUMENT_NODE:\n        return Mixins.Document;\n      case Node.TEXT_NODE:\n      case Node.COMMENT_NODE:\n        return Mixins.Node;\n    }\n  },\n\n  unpatch: function(obj) {\n    if (obj.__sourceProto) {\n      obj.__proto__ = obj.__sourceProto;\n\n    }\n    // TODO(sorvell): implement unpatching for non-proto patchable browsers\n  }\n\n};\n\nfunction patchNode(node) {\n  if (!settings.inUse) {\n    return;\n  }\n  if (!isNodePatched(node) && patchImpl.canPatchNode(node)) {\n    tree.saveChildNodes(node);\n    patchImpl.patch(node);\n  }\n}\n\nfunction unpatchNode(node) {\n  patchImpl.unpatch(node);\n}\n\nfunction isNodePatched(node) {\n  return Boolean(node.__patched);\n}\n\n// TODO(sorvell): fake export\ncommon.patchNode = patchNode;\ncommon.isNodePatched = isNodePatched;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar origAddEventListener = Element.prototype.addEventListener;\nvar origRemoveEventListener = Element.prototype.removeEventListener;\n\n// https://github.com/w3c/webcomponents/issues/513#issuecomment-224183937\nvar alwaysComposed = {\n  blur: true,\n  focus: true,\n  focusin: true,\n  focusout: true,\n  click: true,\n  dblclick: true,\n  mousedown: true,\n  mouseenter: true,\n  mouseleave: true,\n  mousemove: true,\n  mouseout: true,\n  mouseover: true,\n  mouseup: true,\n  wheel: true,\n  beforeinput: true,\n  input: true,\n  keydown: true,\n  keyup: true,\n  compositionstart: true,\n  compositionupdate: true,\n  compositionend: true,\n  touchstart: true,\n  touchend: true,\n  touchmove: true,\n  touchcancel: true,\n  pointerover: true,\n  pointerenter: true,\n  pointerdown: true,\n  pointermove: true,\n  pointerup: true,\n  pointercancel: true,\n  pointerout: true,\n  pointerleave: true,\n  gotpointercapture: true,\n  lostpointercapture: true,\n  dragstart: true,\n  drag: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragend: true,\n  DOMActivate: true,\n  DOMFocusIn: true,\n  DOMFocusOut: true,\n  keypress: true\n};\n\nfunction pathComposer(startNode, composed) {\n  var composedPath = [];\n  var current = startNode;\n  var startRoot = startNode === window ? window : startNode.getRootNode();\n  while (current) {\n    composedPath.push(current);\n    if (current.assignedSlot) {\n      current = current.assignedSlot;\n    } else if (current.nodeType === Node.DOCUMENT_FRAGMENT_NODE && current.host && (composed || current !== startRoot)) {\n      current = current.host;\n    } else {\n      current = current.parentNode;\n    }\n  }\n  // event composedPath includes window when startNode's ownerRoot is document\n  if (composedPath[composedPath.length - 1] === document) {\n    composedPath.push(window);\n  }\n  return composedPath;\n}\n\nfunction retarget(refNode, path) {\n  if (!isShadyRoot) {\n    return refNode;\n  }\n  // If ANCESTOR's root is not a shadow root or ANCESTOR's root is BASE's\n  // shadow-including inclusive ancestor, return ANCESTOR.\n  var refNodePath = pathComposer(refNode, true);\n  var p$ = path;\n  for (var i=0, ancestor, lastRoot, root, rootIdx; i < p$.length; i++) {\n    ancestor = p$[i];\n    root = ancestor === window ? window : ancestor.getRootNode();\n    if (root !== lastRoot) {\n      rootIdx = refNodePath.indexOf(root);\n      lastRoot = root;\n    }\n    if (!isShadyRoot(root) || rootIdx > -1) {\n      return ancestor;\n    }\n  }\n}\n\nvar EventMixin = {\n\n  __patched: 'Event',\n\n  get composed() {\n    if (this.isTrusted && this.__composed === undefined) {\n      this.__composed = alwaysComposed[this.type];\n    }\n    return this.__composed || false;\n  },\n\n  composedPath: function composedPath() {\n    if (!this.__composedPath) {\n      this.__composedPath = pathComposer(this.__target, this.composed);\n    }\n    return this.__composedPath;\n  },\n\n  get target() {\n    return retarget(this.currentTarget, this.composedPath());\n  },\n\n  // http://w3c.github.io/webcomponents/spec/shadow/#event-relatedtarget-retargeting\n  get relatedTarget() {\n    if (!this.__relatedTarget) {\n      return null;\n    }\n    if (!this.__relatedTargetComposedPath) {\n      this.__relatedTargetComposedPath = pathComposer(this.__relatedTarget, true);\n    }\n    // find the deepest node in relatedTarget composed path that is in the same root with the currentTarget\n    return retarget(this.currentTarget, this.__relatedTargetComposedPath);\n  },\n  stopPropagation: function stopPropagation() {\n    Event.prototype.stopPropagation.call(this);\n    this.__propagationStopped = true;\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    Event.prototype.stopImmediatePropagation.call(this);\n    this.__immediatePropagationStopped = true;\n    this.__propagationStopped = true;\n  }\n\n};\n\nfunction mixinComposedFlag(Base) {\n  // NOTE: avoiding use of `class` here so that transpiled output does not\n  // try to do `Base.call` with a dom construtor.\n  var klazz = function(type, options) {\n    var event = new Base(type, options);\n    event.__composed = options && Boolean(options.composed);\n    return event;\n  }\n  // put constructor properties on subclass\n  mixin(klazz, Base);\n  klazz.prototype = Base.prototype;\n  return klazz;\n}\n\nvar nonBubblingEventsToRetarget = {\n  focus: true,\n  blur: true\n};\n\nfunction fireHandlers(event, node, phase) {\n  var hs = node.__handlers && node.__handlers[event.type] &&\n    node.__handlers[event.type][phase];\n  if (hs) {\n    for (var i = 0, fn; (fn = hs[i]); i++) {\n      fn.call(node, event);\n      if (event.__immediatePropagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction retargetNonBubblingEvent(e) {\n  var path = e.composedPath();\n  var node;\n  // override `currentTarget` to let patched `target` calculate correctly\n  Object.defineProperty(e, 'currentTarget', {\n    get: function() {\n      return node;\n    },\n    configurable: true\n  });\n  for (var i = path.length - 1; i >= 0; i--) {\n    node = path[i];\n    // capture phase fires all capture handlers\n    fireHandlers(e, node, 'capture');\n    if (e.__propagationStopped) {\n      return;\n    }\n  }\n\n  // set the event phase to `AT_TARGET` as in spec\n  Object.defineProperty(e, 'eventPhase', {value: Event.AT_TARGET});\n\n  // the event only needs to be fired when owner roots change when iterating the event path\n  // keep track of the last seen owner root\n  var lastFiredRoot;\n  for (var i$1 = 0; i$1 < path.length; i$1++) {\n    node = path[i$1];\n    if (i$1 === 0 || (node.shadowRoot && node.shadowRoot === lastFiredRoot)) {\n      fireHandlers(e, node, 'bubble');\n      // don't bother with window, it doesn't have `getRootNode` and will be last in the path anyway\n      if (node !== window) {\n        lastFiredRoot = node.getRootNode();\n      }\n      if (e.__propagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction addEventListener(type, fn, optionsOrCapture) {\n  var this$1 = this;\n\n  if (!fn) {\n    return;\n  }\n\n  // The callback `fn` might be used for multiple nodes/events. Since we generate\n  // a wrapper function, we need to keep track of it when we remove the listener.\n  // It's more efficient to store the node/type/options information as Array in\n  // `fn` itself rather than the node (we assume that the same callback is used\n  // for few nodes at most, whereas a node will likely have many event listeners).\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  var capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  if (fn.__eventWrappers) {\n    // Stop if the wrapper function has already been created.\n    for (var i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this$1 &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        return;\n      }\n    }\n  } else {\n    fn.__eventWrappers = [];\n  }\n\n  var wrapperFn = function(e) {\n    // Support `once` option.\n    if (once) {\n      this.removeEventListener(type, fn, optionsOrCapture);\n    }\n    if (!e.__target) {\n      e.__target = e.target;\n      e.__relatedTarget = e.relatedTarget;\n      patchPrototype(e, EventMixin);\n    }\n    // There are two critera that should stop events from firing on this node\n    // 1. the event is not composed and the current node is not in the same root as the target\n    // 2. when bubbling, if after retargeting, relatedTarget and target point to the same node\n    if (e.composed || e.composedPath().indexOf(this) > -1) {\n      if (e.eventPhase === Event.BUBBLING_PHASE) {\n        if (e.target === e.relatedTarget) {\n          e.stopImmediatePropagation();\n          return;\n        }\n      }\n      return fn(e);\n    }\n  };\n  // Store the wrapper information.\n  fn.__eventWrappers.push({\n    node: this,\n    type: type,\n    capture: capture,\n    once: once,\n    passive: passive,\n    wrapperFn: wrapperFn\n  });\n\n  if (nonBubblingEventsToRetarget[type]) {\n    this.__handlers = this.__handlers || {};\n    this.__handlers[type] = this.__handlers[type] || {capture: [], bubble: []};\n    this.__handlers[type][capture ? 'capture' : 'bubble'].push(wrapperFn);\n  } else {\n    origAddEventListener.call(this, type, wrapperFn, optionsOrCapture);\n  }\n}\n\nfunction removeEventListener(type, fn, optionsOrCapture) {\n  var this$1 = this;\n\n  if (!fn) {\n    return;\n  }\n\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  var capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  // Search the wrapped function.\n  var wrapperFn = undefined;\n  if (fn.__eventWrappers) {\n    for (var i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this$1 &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        wrapperFn = fn.__eventWrappers.splice(i, 1)[0].wrapperFn;\n        // Cleanup.\n        if (!fn.__eventWrappers.length) {\n          fn.__eventWrappers = undefined;\n        }\n        break;\n      }\n    }\n  }\n\n  origRemoveEventListener.call(this, type, wrapperFn || fn, optionsOrCapture);\n  if (wrapperFn && nonBubblingEventsToRetarget[type] &&\n      this.__handlers && this.__handlers[type]) {\n    var arr = this.__handlers[type][capture ? 'capture' : 'bubble'];\n    var idx = arr.indexOf(wrapperFn);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n    }\n  }\n}\n\nfunction activateFocusEventOverrides() {\n  for (var ev in nonBubblingEventsToRetarget) {\n    window.addEventListener(ev, function(e) {\n      if (!e.__target) {\n        e.__target = e.target;\n        e.__relatedTarget = e.relatedTarget;\n        patchPrototype(e, EventMixin);\n        retargetNonBubblingEvent(e);\n        e.stopImmediatePropagation();\n      }\n    }, true);\n  }\n}\n\n\nvar PatchedEvent = mixinComposedFlag(Event);\nvar PatchedCustomEvent = mixinComposedFlag(CustomEvent);\nvar PatchedMouseEvent = mixinComposedFlag(MouseEvent);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nif (settings.inUse) {\n\n  window.ShadyDOM = {\n    tree: tree,\n    getNativeProperty: getNativeProperty,\n    patch: patchNode,\n    isPatched: isNodePatched,\n    unpatch: unpatchNode,\n    isShadyRoot: isShadyRoot,\n    enqueue: enqueue,\n    flush: flush$1,\n    inUse: settings.inUse,\n    filterMutations: filterMutations,\n    observeChildren: observeChildren,\n    unobserveChildren: unobserveChildren\n  };\n\n  var createRootAndEnsurePatched = function(node) {\n    // TODO(sorvell): need to ensure ancestors are patched but this introduces\n    // a timing problem with gathering composed children.\n    // (1) currently the child list is crawled and patched when patching occurs\n    // (this needs to change)\n    // (2) we can only patch when an element has received its parsed children\n    // because we cannot detect them when inserted by parser.\n    // let ancestor = node;\n    // while (ancestor) {\n    //   patchNode(ancestor);\n    //   ancestor = ancestor.parentNode || ancestor.host;\n    // }\n    patchNode(node);\n    var root = new ShadyRoot(node);\n    patchNode(root);\n    return root;\n  }\n\n  Element.prototype.attachShadow = function() {\n    return createRootAndEnsurePatched(this);\n  }\n\n  Node.prototype.addEventListener = addEventListener;\n  Node.prototype.removeEventListener = removeEventListener;\n  Event = PatchedEvent;\n  CustomEvent = PatchedCustomEvent;\n  MouseEvent = PatchedMouseEvent;\n  activateFocusEventOverrides();\n\n  Object.defineProperty(Node.prototype, 'isConnected', {\n    get: function get() {\n      return document.documentElement.contains(this);\n    },\n    configurable: true\n  });\n\n  Node.prototype.getRootNode = function(options) {\n    return getRootNode(this, options);\n  }\n\n  Object.defineProperty(Element.prototype, 'slot', {\n    get: function get$1() {\n      return this.getAttribute('slot');\n    },\n    set: function set(value) {\n      this.setAttribute('slot', value);\n    },\n    configurable: true\n  });\n\n  Object.defineProperty(Node.prototype, 'assignedSlot', {\n    get: function get$2() {\n      return this._assignedSlot || null;\n    },\n    configurable: true\n  });\n\n  // TODO(sorvell): super experimental auto patching of document fragment\n  // via appendChild. This either needs to be expanded or contracted.\n  // DocumentFragment.prototype.appendChild = function(node) {\n  //   patchNode(this);\n  //   return this.appendChild(node);\n  // }\n\n}\n\n}());\n\n//# sourceMappingURL=shadydom.min.js.map\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/shadydom.min.js\n **/","/*!\n\nCopyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\nfunction installCustomElements(window) {'use strict';\n\n  // DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n  // THIS IS A PROJECT BASED ON A BUILD SYSTEM\n  // THIS FILE IS JUST WRAPPED UP RESULTING IN\n  // build/document-register-element.node.js\n\n  var\n    document = window.document,\n    Object = window.Object\n  ;\n\n  var htmlClass = (function (info) {\n    // (C) Andrea Giammarchi - @WebReflection - MIT Style\n    var\n      catchClass = /^[A-Z]+[a-z]/,\n      filterBy = function (re) {\n        var arr = [], tag;\n        for (tag in register) {\n          if (re.test(tag)) arr.push(tag);\n        }\n        return arr;\n      },\n      add = function (Class, tag) {\n        tag = tag.toLowerCase();\n        if (!(tag in register)) {\n          register[Class] = (register[Class] || []).concat(tag);\n          register[tag] = (register[tag.toUpperCase()] = Class);\n        }\n      },\n      register = (Object.create || Object)(null),\n      htmlClass = {},\n      i, section, tags, Class\n    ;\n    for (section in info) {\n      for (Class in info[section]) {\n        tags = info[section][Class];\n        register[Class] = tags;\n        for (i = 0; i < tags.length; i++) {\n          register[tags[i].toLowerCase()] =\n          register[tags[i].toUpperCase()] = Class;\n        }\n      }\n    }\n    htmlClass.get = function get(tagOrClass) {\n      return typeof tagOrClass === 'string' ?\n        (register[tagOrClass] || (catchClass.test(tagOrClass) ? [] : '')) :\n        filterBy(tagOrClass);\n    };\n    htmlClass.set = function set(tag, Class) {\n      return (catchClass.test(tag) ?\n        add(tag, Class) :\n        add(Class, tag)\n      ), htmlClass;\n    };\n    return htmlClass;\n  }({\n    \"collections\": {\n      \"HTMLAllCollection\": [\n        \"all\"\n      ],\n      \"HTMLCollection\": [\n        \"forms\"\n      ],\n      \"HTMLFormControlsCollection\": [\n        \"elements\"\n      ],\n      \"HTMLOptionsCollection\": [\n        \"options\"\n      ]\n    },\n    \"elements\": {\n      \"Element\": [\n        \"element\"\n      ],\n      \"HTMLAnchorElement\": [\n        \"a\"\n      ],\n      \"HTMLAppletElement\": [\n        \"applet\"\n      ],\n      \"HTMLAreaElement\": [\n        \"area\"\n      ],\n      \"HTMLAttachmentElement\": [\n        \"attachment\"\n      ],\n      \"HTMLAudioElement\": [\n        \"audio\"\n      ],\n      \"HTMLBRElement\": [\n        \"br\"\n      ],\n      \"HTMLBaseElement\": [\n        \"base\"\n      ],\n      \"HTMLBodyElement\": [\n        \"body\"\n      ],\n      \"HTMLButtonElement\": [\n        \"button\"\n      ],\n      \"HTMLCanvasElement\": [\n        \"canvas\"\n      ],\n      \"HTMLContentElement\": [\n        \"content\"\n      ],\n      \"HTMLDListElement\": [\n        \"dl\"\n      ],\n      \"HTMLDataElement\": [\n        \"data\"\n      ],\n      \"HTMLDataListElement\": [\n        \"datalist\"\n      ],\n      \"HTMLDetailsElement\": [\n        \"details\"\n      ],\n      \"HTMLDialogElement\": [\n        \"dialog\"\n      ],\n      \"HTMLDirectoryElement\": [\n        \"dir\"\n      ],\n      \"HTMLDivElement\": [\n        \"div\"\n      ],\n      \"HTMLDocument\": [\n        \"document\"\n      ],\n      \"HTMLElement\": [\n        \"element\",\n        \"abbr\",\n        \"address\",\n        \"article\",\n        \"aside\",\n        \"b\",\n        \"bdi\",\n        \"bdo\",\n        \"cite\",\n        \"code\",\n        \"command\",\n        \"dd\",\n        \"dfn\",\n        \"dt\",\n        \"em\",\n        \"figcaption\",\n        \"figure\",\n        \"footer\",\n        \"header\",\n        \"i\",\n        \"kbd\",\n        \"mark\",\n        \"nav\",\n        \"noscript\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"section\",\n        \"small\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"u\",\n        \"var\",\n        \"wbr\"\n      ],\n      \"HTMLEmbedElement\": [\n        \"embed\"\n      ],\n      \"HTMLFieldSetElement\": [\n        \"fieldset\"\n      ],\n      \"HTMLFontElement\": [\n        \"font\"\n      ],\n      \"HTMLFormElement\": [\n        \"form\"\n      ],\n      \"HTMLFrameElement\": [\n        \"frame\"\n      ],\n      \"HTMLFrameSetElement\": [\n        \"frameset\"\n      ],\n      \"HTMLHRElement\": [\n        \"hr\"\n      ],\n      \"HTMLHeadElement\": [\n        \"head\"\n      ],\n      \"HTMLHeadingElement\": [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n      ],\n      \"HTMLHtmlElement\": [\n        \"html\"\n      ],\n      \"HTMLIFrameElement\": [\n        \"iframe\"\n      ],\n      \"HTMLImageElement\": [\n        \"img\"\n      ],\n      \"HTMLInputElement\": [\n        \"input\"\n      ],\n      \"HTMLKeygenElement\": [\n        \"keygen\"\n      ],\n      \"HTMLLIElement\": [\n        \"li\"\n      ],\n      \"HTMLLabelElement\": [\n        \"label\"\n      ],\n      \"HTMLLegendElement\": [\n        \"legend\"\n      ],\n      \"HTMLLinkElement\": [\n        \"link\"\n      ],\n      \"HTMLMapElement\": [\n        \"map\"\n      ],\n      \"HTMLMarqueeElement\": [\n        \"marquee\"\n      ],\n      \"HTMLMediaElement\": [\n        \"media\"\n      ],\n      \"HTMLMenuElement\": [\n        \"menu\"\n      ],\n      \"HTMLMenuItemElement\": [\n        \"menuitem\"\n      ],\n      \"HTMLMetaElement\": [\n        \"meta\"\n      ],\n      \"HTMLMeterElement\": [\n        \"meter\"\n      ],\n      \"HTMLModElement\": [\n        \"del\",\n        \"ins\"\n      ],\n      \"HTMLOListElement\": [\n        \"ol\"\n      ],\n      \"HTMLObjectElement\": [\n        \"object\"\n      ],\n      \"HTMLOptGroupElement\": [\n        \"optgroup\"\n      ],\n      \"HTMLOptionElement\": [\n        \"option\"\n      ],\n      \"HTMLOutputElement\": [\n        \"output\"\n      ],\n      \"HTMLParagraphElement\": [\n        \"p\"\n      ],\n      \"HTMLParamElement\": [\n        \"param\"\n      ],\n      \"HTMLPictureElement\": [\n        \"picture\"\n      ],\n      \"HTMLPreElement\": [\n        \"pre\"\n      ],\n      \"HTMLProgressElement\": [\n        \"progress\"\n      ],\n      \"HTMLQuoteElement\": [\n        \"blockquote\",\n        \"q\",\n        \"quote\"\n      ],\n      \"HTMLScriptElement\": [\n        \"script\"\n      ],\n      \"HTMLSelectElement\": [\n        \"select\"\n      ],\n      \"HTMLShadowElement\": [\n        \"shadow\"\n      ],\n      \"HTMLSlotElement\": [\n        \"slot\"\n      ],\n      \"HTMLSourceElement\": [\n        \"source\"\n      ],\n      \"HTMLSpanElement\": [\n        \"span\"\n      ],\n      \"HTMLStyleElement\": [\n        \"style\"\n      ],\n      \"HTMLTableCaptionElement\": [\n        \"caption\"\n      ],\n      \"HTMLTableCellElement\": [\n        \"td\",\n        \"th\"\n      ],\n      \"HTMLTableColElement\": [\n        \"col\",\n        \"colgroup\"\n      ],\n      \"HTMLTableElement\": [\n        \"table\"\n      ],\n      \"HTMLTableRowElement\": [\n        \"tr\"\n      ],\n      \"HTMLTableSectionElement\": [\n        \"thead\",\n        \"tbody\",\n        \"tfoot\"\n      ],\n      \"HTMLTemplateElement\": [\n        \"template\"\n      ],\n      \"HTMLTextAreaElement\": [\n        \"textarea\"\n      ],\n      \"HTMLTimeElement\": [\n        \"time\"\n      ],\n      \"HTMLTitleElement\": [\n        \"title\"\n      ],\n      \"HTMLTrackElement\": [\n        \"track\"\n      ],\n      \"HTMLUListElement\": [\n        \"ul\"\n      ],\n      \"HTMLUnknownElement\": [\n        \"unknown\",\n        \"vhgroupv\",\n        \"vkeygen\"\n      ],\n      \"HTMLVideoElement\": [\n        \"video\"\n      ]\n    },\n    \"nodes\": {\n      \"Attr\": [\n        \"node\"\n      ],\n      \"Audio\": [\n        \"audio\"\n      ],\n      \"CDATASection\": [\n        \"node\"\n      ],\n      \"CharacterData\": [\n        \"node\"\n      ],\n      \"Comment\": [\n        \"#comment\"\n      ],\n      \"Document\": [\n        \"#document\"\n      ],\n      \"DocumentFragment\": [\n        \"#document-fragment\"\n      ],\n      \"DocumentType\": [\n        \"node\"\n      ],\n      \"HTMLDocument\": [\n        \"#document\"\n      ],\n      \"Image\": [\n        \"img\"\n      ],\n      \"Option\": [\n        \"option\"\n      ],\n      \"ProcessingInstruction\": [\n        \"node\"\n      ],\n      \"ShadowRoot\": [\n        \"#shadow-root\"\n      ],\n      \"Text\": [\n        \"#text\"\n      ],\n      \"XMLDocument\": [\n        \"xml\"\n      ]\n    }\n  }));\n  \n  \n    var\n    // V0 polyfill entry\n    REGISTER_ELEMENT = 'registerElement',\n  \n    // IE < 11 only + old WebKit for attributes + feature detection\n    EXPANDO_UID = '__' + REGISTER_ELEMENT + (window.Math.random() * 10e4 >> 0),\n  \n    // shortcuts and costants\n    ADD_EVENT_LISTENER = 'addEventListener',\n    ATTACHED = 'attached',\n    CALLBACK = 'Callback',\n    DETACHED = 'detached',\n    EXTENDS = 'extends',\n  \n    ATTRIBUTE_CHANGED_CALLBACK = 'attributeChanged' + CALLBACK,\n    ATTACHED_CALLBACK = ATTACHED + CALLBACK,\n    CONNECTED_CALLBACK = 'connected' + CALLBACK,\n    DISCONNECTED_CALLBACK = 'disconnected' + CALLBACK,\n    CREATED_CALLBACK = 'created' + CALLBACK,\n    DETACHED_CALLBACK = DETACHED + CALLBACK,\n  \n    ADDITION = 'ADDITION',\n    MODIFICATION = 'MODIFICATION',\n    REMOVAL = 'REMOVAL',\n  \n    DOM_ATTR_MODIFIED = 'DOMAttrModified',\n    DOM_CONTENT_LOADED = 'DOMContentLoaded',\n    DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  \n    PREFIX_TAG = '<',\n    PREFIX_IS = '=',\n  \n    // valid and invalid node names\n    validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n    invalidNames = [\n      'ANNOTATION-XML',\n      'COLOR-PROFILE',\n      'FONT-FACE',\n      'FONT-FACE-SRC',\n      'FONT-FACE-URI',\n      'FONT-FACE-FORMAT',\n      'FONT-FACE-NAME',\n      'MISSING-GLYPH'\n    ],\n  \n    // registered types and their prototypes\n    types = [],\n    protos = [],\n  \n    // to query subnodes\n    query = '',\n  \n    // html shortcut used to feature detect\n    documentElement = document.documentElement,\n  \n    // ES5 inline helpers || basic patches\n    indexOf = types.indexOf || function (v) {\n      for(var i = this.length; i-- && this[i] !== v;){}\n      return i;\n    },\n  \n    // other helpers / shortcuts\n    OP = Object.prototype,\n    hOP = OP.hasOwnProperty,\n    iPO = OP.isPrototypeOf,\n  \n    defineProperty = Object.defineProperty,\n    empty = [],\n    gOPD = Object.getOwnPropertyDescriptor,\n    gOPN = Object.getOwnPropertyNames,\n    gPO = Object.getPrototypeOf,\n    sPO = Object.setPrototypeOf,\n  \n    // jshint proto: true\n    hasProto = !!Object.__proto__,\n  \n    // V1 helpers\n    fixGetClass = false,\n    DRECEV1 = '__dreCEv1',\n    customElements = window.customElements,\n    usableCustomElements = !!(\n      customElements &&\n      customElements.define &&\n      customElements.get &&\n      customElements.whenDefined\n    ),\n    Dict = Object.create || Object,\n    Map = window.Map || function Map() {\n      var K = [], V = [], i;\n      return {\n        get: function (k) {\n          return V[indexOf.call(K, k)];\n        },\n        set: function (k, v) {\n          i = indexOf.call(K, k);\n          if (i < 0) V[K.push(k) - 1] = v;\n          else V[i] = v;\n        }\n      };\n    },\n    Promise = window.Promise || function (fn) {\n      var\n        notify = [],\n        done = false,\n        p = {\n          'catch': function () {\n            return p;\n          },\n          'then': function (cb) {\n            notify.push(cb);\n            if (done) setTimeout(resolve, 1);\n            return p;\n          }\n        }\n      ;\n      function resolve(value) {\n        done = true;\n        while (notify.length) notify.shift()(value);\n      }\n      fn(resolve);\n      return p;\n    },\n    justCreated = false,\n    constructors = Dict(null),\n    waitingList = Dict(null),\n    nodeNames = new Map(),\n    secondArgument = String,\n  \n    // used to create unique instances\n    create = Object.create || function Bridge(proto) {\n      // silly broken polyfill probably ever used but short enough to work\n      return proto ? ((Bridge.prototype = proto), new Bridge()) : this;\n    },\n  \n    // will set the prototype if possible\n    // or copy over all properties\n    setPrototype = sPO || (\n      hasProto ?\n        function (o, p) {\n          o.__proto__ = p;\n          return o;\n        } : (\n      (gOPN && gOPD) ?\n        (function(){\n          function setProperties(o, p) {\n            for (var\n              key,\n              names = gOPN(p),\n              i = 0, length = names.length;\n              i < length; i++\n            ) {\n              key = names[i];\n              if (!hOP.call(o, key)) {\n                defineProperty(o, key, gOPD(p, key));\n              }\n            }\n          }\n          return function (o, p) {\n            do {\n              setProperties(o, p);\n            } while ((p = gPO(p)) && !iPO.call(p, o));\n            return o;\n          };\n        }()) :\n        function (o, p) {\n          for (var key in p) {\n            o[key] = p[key];\n          }\n          return o;\n        }\n    )),\n  \n    // DOM shortcuts and helpers, if any\n  \n    MutationObserver = window.MutationObserver ||\n                       window.WebKitMutationObserver,\n  \n    HTMLElementPrototype = (\n      window.HTMLElement ||\n      window.Element ||\n      window.Node\n    ).prototype,\n  \n    IE8 = !iPO.call(HTMLElementPrototype, documentElement),\n  \n    safeProperty = IE8 ? function (o, k, d) {\n      o[k] = d.value;\n      return o;\n    } : defineProperty,\n  \n    isValidNode = IE8 ?\n      function (node) {\n        return node.nodeType === 1;\n      } :\n      function (node) {\n        return iPO.call(HTMLElementPrototype, node);\n      },\n  \n    targets = IE8 && [],\n  \n    attachShadow = HTMLElementPrototype.attachShadow,\n    cloneNode = HTMLElementPrototype.cloneNode,\n    dispatchEvent = HTMLElementPrototype.dispatchEvent,\n    getAttribute = HTMLElementPrototype.getAttribute,\n    hasAttribute = HTMLElementPrototype.hasAttribute,\n    removeAttribute = HTMLElementPrototype.removeAttribute,\n    setAttribute = HTMLElementPrototype.setAttribute,\n  \n    // replaced later on\n    createElement = document.createElement,\n    patchedCreateElement = createElement,\n  \n    // shared observer for all attributes\n    attributesObserver = MutationObserver && {\n      attributes: true,\n      characterData: true,\n      attributeOldValue: true\n    },\n  \n    // useful to detect only if there's no MutationObserver\n    DOMAttrModified = MutationObserver || function(e) {\n      doesNotSupportDOMAttrModified = false;\n      documentElement.removeEventListener(\n        DOM_ATTR_MODIFIED,\n        DOMAttrModified\n      );\n    },\n  \n    // will both be used to make DOMNodeInserted asynchronous\n    asapQueue,\n    asapTimer = 0,\n  \n    // internal flags\n    setListener = false,\n    doesNotSupportDOMAttrModified = true,\n    dropDomContentLoaded = true,\n  \n    // needed for the innerHTML helper\n    notFromInnerHTMLHelper = true,\n  \n    // optionally defined later on\n    onSubtreeModified,\n    callDOMAttrModified,\n    getAttributesMirror,\n    observer,\n    observe,\n  \n    // based on setting prototype capability\n    // will check proto or the expando attribute\n    // in order to setup the node once\n    patchIfNotAlready,\n    patch\n  ;\n  \n  // only if needed\n  if (!(REGISTER_ELEMENT in document)) {\n  \n    if (sPO || hasProto) {\n        patchIfNotAlready = function (node, proto) {\n          if (!iPO.call(proto, node)) {\n            setupNode(node, proto);\n          }\n        };\n        patch = setupNode;\n    } else {\n        patchIfNotAlready = function (node, proto) {\n          if (!node[EXPANDO_UID]) {\n            node[EXPANDO_UID] = Object(true);\n            setupNode(node, proto);\n          }\n        };\n        patch = patchIfNotAlready;\n    }\n  \n    if (IE8) {\n      doesNotSupportDOMAttrModified = false;\n      (function (){\n        var\n          descriptor = gOPD(HTMLElementPrototype, ADD_EVENT_LISTENER),\n          addEventListener = descriptor.value,\n          patchedRemoveAttribute = function (name) {\n            var e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n            e.attrName = name;\n            e.prevValue = getAttribute.call(this, name);\n            e.newValue = null;\n            e[REMOVAL] = e.attrChange = 2;\n            removeAttribute.call(this, name);\n            dispatchEvent.call(this, e);\n          },\n          patchedSetAttribute = function (name, value) {\n            var\n              had = hasAttribute.call(this, name),\n              old = had && getAttribute.call(this, name),\n              e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true})\n            ;\n            setAttribute.call(this, name, value);\n            e.attrName = name;\n            e.prevValue = had ? old : null;\n            e.newValue = value;\n            if (had) {\n              e[MODIFICATION] = e.attrChange = 1;\n            } else {\n              e[ADDITION] = e.attrChange = 0;\n            }\n            dispatchEvent.call(this, e);\n          },\n          onPropertyChange = function (e) {\n            // jshint eqnull:true\n            var\n              node = e.currentTarget,\n              superSecret = node[EXPANDO_UID],\n              propertyName = e.propertyName,\n              event\n            ;\n            if (superSecret.hasOwnProperty(propertyName)) {\n              superSecret = superSecret[propertyName];\n              event = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n              event.attrName = superSecret.name;\n              event.prevValue = superSecret.value || null;\n              event.newValue = (superSecret.value = node[propertyName] || null);\n              if (event.prevValue == null) {\n                event[ADDITION] = event.attrChange = 0;\n              } else {\n                event[MODIFICATION] = event.attrChange = 1;\n              }\n              dispatchEvent.call(node, event);\n            }\n          }\n        ;\n        descriptor.value = function (type, handler, capture) {\n          if (\n            type === DOM_ATTR_MODIFIED &&\n            this[ATTRIBUTE_CHANGED_CALLBACK] &&\n            this.setAttribute !== patchedSetAttribute\n          ) {\n            this[EXPANDO_UID] = {\n              className: {\n                name: 'class',\n                value: this.className\n              }\n            };\n            this.setAttribute = patchedSetAttribute;\n            this.removeAttribute = patchedRemoveAttribute;\n            addEventListener.call(this, 'propertychange', onPropertyChange);\n          }\n          addEventListener.call(this, type, handler, capture);\n        };\n        defineProperty(HTMLElementPrototype, ADD_EVENT_LISTENER, descriptor);\n      }());\n    } else if (!MutationObserver) {\n      documentElement[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, DOMAttrModified);\n      documentElement.setAttribute(EXPANDO_UID, 1);\n      documentElement.removeAttribute(EXPANDO_UID);\n      if (doesNotSupportDOMAttrModified) {\n        onSubtreeModified = function (e) {\n          var\n            node = this,\n            oldAttributes,\n            newAttributes,\n            key\n          ;\n          if (node === e.target) {\n            oldAttributes = node[EXPANDO_UID];\n            node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n            for (key in newAttributes) {\n              if (!(key in oldAttributes)) {\n                // attribute was added\n                return callDOMAttrModified(\n                  0,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  ADDITION\n                );\n              } else if (newAttributes[key] !== oldAttributes[key]) {\n                // attribute was changed\n                return callDOMAttrModified(\n                  1,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  MODIFICATION\n                );\n              }\n            }\n            // checking if it has been removed\n            for (key in oldAttributes) {\n              if (!(key in newAttributes)) {\n                // attribute removed\n                return callDOMAttrModified(\n                  2,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  REMOVAL\n                );\n              }\n            }\n          }\n        };\n        callDOMAttrModified = function (\n          attrChange,\n          currentTarget,\n          attrName,\n          prevValue,\n          newValue,\n          action\n        ) {\n          var e = {\n            attrChange: attrChange,\n            currentTarget: currentTarget,\n            attrName: attrName,\n            prevValue: prevValue,\n            newValue: newValue\n          };\n          e[action] = attrChange;\n          onDOMAttrModified(e);\n        };\n        getAttributesMirror = function (node) {\n          for (var\n            attr, name,\n            result = {},\n            attributes = node.attributes,\n            i = 0, length = attributes.length;\n            i < length; i++\n          ) {\n            attr = attributes[i];\n            name = attr.name;\n            if (name !== 'setAttribute') {\n              result[name] = attr.value;\n            }\n          }\n          return result;\n        };\n      }\n    }\n  \n    // set as enumerable, writable and configurable\n    document[REGISTER_ELEMENT] = function registerElement(type, options) {\n      upperType = type.toUpperCase();\n      if (!setListener) {\n        // only first time document.registerElement is used\n        // we need to set this listener\n        // setting it by default might slow down for no reason\n        setListener = true;\n        if (MutationObserver) {\n          observer = (function(attached, detached){\n            function checkEmAll(list, callback) {\n              for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n            }\n            return new MutationObserver(function (records) {\n              for (var\n                current, node, newValue,\n                i = 0, length = records.length; i < length; i++\n              ) {\n                current = records[i];\n                if (current.type === 'childList') {\n                  checkEmAll(current.addedNodes, attached);\n                  checkEmAll(current.removedNodes, detached);\n                } else {\n                  node = current.target;\n                  if (notFromInnerHTMLHelper &&\n                      node[ATTRIBUTE_CHANGED_CALLBACK] &&\n                      current.attributeName !== 'style') {\n                    newValue = getAttribute.call(node, current.attributeName);\n                    if (newValue !== current.oldValue) {\n                      node[ATTRIBUTE_CHANGED_CALLBACK](\n                        current.attributeName,\n                        current.oldValue,\n                        newValue\n                      );\n                    }\n                  }\n                }\n              }\n            });\n          }(executeAction(ATTACHED), executeAction(DETACHED)));\n          observe = function (node) {\n            observer.observe(\n              node,\n              {\n                childList: true,\n                subtree: true\n              }\n            );\n            return node;\n          };\n          observe(document);\n          if (attachShadow) {\n            HTMLElementPrototype.attachShadow = function () {\n              return observe(attachShadow.apply(this, arguments));\n            };\n          }\n        } else {\n          asapQueue = [];\n          document[ADD_EVENT_LISTENER]('DOMNodeInserted', onDOMNode(ATTACHED));\n          document[ADD_EVENT_LISTENER]('DOMNodeRemoved', onDOMNode(DETACHED));\n        }\n  \n        document[ADD_EVENT_LISTENER](DOM_CONTENT_LOADED, onReadyStateChange);\n        document[ADD_EVENT_LISTENER]('readystatechange', onReadyStateChange);\n  \n        HTMLElementPrototype.cloneNode = function (deep) {\n          var\n            node = cloneNode.call(this, !!deep),\n            i = getTypeIndex(node)\n          ;\n          if (-1 < i) patch(node, protos[i]);\n          if (deep) loopAndSetup(node.querySelectorAll(query));\n          return node;\n        };\n      }\n  \n      if (-2 < (\n        indexOf.call(types, PREFIX_IS + upperType) +\n        indexOf.call(types, PREFIX_TAG + upperType)\n      )) {\n        throwTypeError(type);\n      }\n  \n      if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n        throw new Error('The type ' + type + ' is invalid');\n      }\n  \n      var\n        constructor = function () {\n          return extending ?\n            document.createElement(nodeName, upperType) :\n            document.createElement(nodeName);\n        },\n        opt = options || OP,\n        extending = hOP.call(opt, EXTENDS),\n        nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n        upperType,\n        i\n      ;\n  \n      if (extending && -1 < (\n        indexOf.call(types, PREFIX_TAG + nodeName)\n      )) {\n        throwTypeError(nodeName);\n      }\n  \n      i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1;\n  \n      query = query.concat(\n        query.length ? ',' : '',\n        extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n      );\n  \n      constructor.prototype = (\n        protos[i] = hOP.call(opt, 'prototype') ?\n          opt.prototype :\n          create(HTMLElementPrototype)\n      );\n  \n      loopAndVerify(\n        document.querySelectorAll(query),\n        ATTACHED\n      );\n  \n      return constructor;\n    };\n  \n    document.createElement = (patchedCreateElement = function (localName, typeExtension) {\n      var\n        is = getIs(typeExtension),\n        node = is ?\n          createElement.call(document, localName, secondArgument(is)) :\n          createElement.call(document, localName),\n        name = '' + localName,\n        i = indexOf.call(\n          types,\n          (is ? PREFIX_IS : PREFIX_TAG) +\n          (is || name).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (is) {\n        node.setAttribute('is', is = is.toLowerCase());\n        if (setup) {\n          setup = isInQSA(name.toUpperCase(), is);\n        }\n      }\n      notFromInnerHTMLHelper = !document.createElement.innerHTMLHelper;\n      if (setup) patch(node, protos[i]);\n      return node;\n    });\n  \n  }\n  \n  function ASAP() {\n    var queue = asapQueue.splice(0, asapQueue.length);\n    asapTimer = 0;\n    while (queue.length) {\n      queue.shift().call(\n        null, queue.shift()\n      );\n    }\n  }\n  \n  function loopAndVerify(list, action) {\n    for (var i = 0, length = list.length; i < length; i++) {\n      verifyAndSetupAndAction(list[i], action);\n    }\n  }\n  \n  function loopAndSetup(list) {\n    for (var i = 0, length = list.length, node; i < length; i++) {\n      node = list[i];\n      patch(node, protos[getTypeIndex(node)]);\n    }\n  }\n  \n  function executeAction(action) {\n    return function (node) {\n      if (isValidNode(node)) {\n        verifyAndSetupAndAction(node, action);\n        loopAndVerify(\n          node.querySelectorAll(query),\n          action\n        );\n      }\n    };\n  }\n  \n  function getTypeIndex(target) {\n    var\n      is = getAttribute.call(target, 'is'),\n      nodeName = target.nodeName.toUpperCase(),\n      i = indexOf.call(\n        types,\n        is ?\n            PREFIX_IS + is.toUpperCase() :\n            PREFIX_TAG + nodeName\n      )\n    ;\n    return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n  }\n  \n  function isInQSA(name, type) {\n    return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n  }\n  \n  function onDOMAttrModified(e) {\n    var\n      node = e.currentTarget,\n      attrChange = e.attrChange,\n      attrName = e.attrName,\n      target = e.target,\n      addition = e[ADDITION] || 2,\n      removal = e[REMOVAL] || 3\n    ;\n    if (notFromInnerHTMLHelper &&\n        (!target || target === node) &&\n        node[ATTRIBUTE_CHANGED_CALLBACK] &&\n        attrName !== 'style' && (\n          e.prevValue !== e.newValue ||\n          // IE9, IE10, and Opera 12 gotcha\n          e.newValue === '' && (\n            attrChange === addition ||\n            attrChange === removal\n          )\n    )) {\n      node[ATTRIBUTE_CHANGED_CALLBACK](\n        attrName,\n        attrChange === addition ? null : e.prevValue,\n        attrChange === removal ? null : e.newValue\n      );\n    }\n  }\n  \n  function onDOMNode(action) {\n    var executor = executeAction(action);\n    return function (e) {\n      asapQueue.push(executor, e.target);\n      if (asapTimer) clearTimeout(asapTimer);\n      asapTimer = setTimeout(ASAP, 1);\n    };\n  }\n  \n  function onReadyStateChange(e) {\n    if (dropDomContentLoaded) {\n      dropDomContentLoaded = false;\n      e.currentTarget.removeEventListener(DOM_CONTENT_LOADED, onReadyStateChange);\n    }\n    loopAndVerify(\n      (e.target || document).querySelectorAll(query),\n      e.detail === DETACHED ? DETACHED : ATTACHED\n    );\n    if (IE8) purge();\n  }\n  \n  function patchedSetAttribute(name, value) {\n    // jshint validthis:true\n    var self = this;\n    setAttribute.call(self, name, value);\n    onSubtreeModified.call(self, {target: self});\n  }\n  \n  function setupNode(node, proto) {\n    setPrototype(node, proto);\n    if (observer) {\n      observer.observe(node, attributesObserver);\n    } else {\n      if (doesNotSupportDOMAttrModified) {\n        node.setAttribute = patchedSetAttribute;\n        node[EXPANDO_UID] = getAttributesMirror(node);\n        node[ADD_EVENT_LISTENER](DOM_SUBTREE_MODIFIED, onSubtreeModified);\n      }\n      node[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, onDOMAttrModified);\n    }\n    if (node[CREATED_CALLBACK] && notFromInnerHTMLHelper) {\n      node.created = true;\n      node[CREATED_CALLBACK]();\n      node.created = false;\n    }\n  }\n  \n  function purge() {\n    for (var\n      node,\n      i = 0,\n      length = targets.length;\n      i < length; i++\n    ) {\n      node = targets[i];\n      if (!documentElement.contains(node)) {\n        length--;\n        targets.splice(i--, 1);\n        verifyAndSetupAndAction(node, DETACHED);\n      }\n    }\n  }\n  \n  function throwTypeError(type) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n  \n  function verifyAndSetupAndAction(node, action) {\n    var\n      fn,\n      i = getTypeIndex(node)\n    ;\n    if (-1 < i) {\n      patchIfNotAlready(node, protos[i]);\n      i = 0;\n      if (action === ATTACHED && !node[ATTACHED]) {\n        node[DETACHED] = false;\n        node[ATTACHED] = true;\n        i = 1;\n        if (IE8 && indexOf.call(targets, node) < 0) {\n          targets.push(node);\n        }\n      } else if (action === DETACHED && !node[DETACHED]) {\n        node[ATTACHED] = false;\n        node[DETACHED] = true;\n        i = 1;\n      }\n      if (i && (fn = node[action + CALLBACK])) fn.call(node);\n    }\n  }\n  \n  \n  \n  // V1 in da House!\n  function CustomElementRegistry() {}\n  \n  CustomElementRegistry.prototype = {\n    constructor: CustomElementRegistry,\n    // a workaround for the stubborn WebKit\n    define: usableCustomElements ?\n      function (name, Class, options) {\n        if (options) {\n          CERDefine(name, Class, options);\n        } else {\n          var NAME = name.toUpperCase();\n          constructors[NAME] = {\n            constructor: Class,\n            create: [NAME]\n          };\n          nodeNames.set(Class, NAME);\n          customElements.define(name, Class);\n        }\n      } :\n      CERDefine,\n    get: usableCustomElements ?\n      function (name) {\n        return customElements.get(name) || get(name);\n      } :\n      get,\n    whenDefined: usableCustomElements ?\n      function (name) {\n        return Promise.race([\n          customElements.whenDefined(name),\n          whenDefined(name)\n        ]);\n      } :\n      whenDefined\n  };\n  \n  function CERDefine(name, Class, options) {\n    var\n      is = options && options[EXTENDS] || '',\n      CProto = Class.prototype,\n      proto = create(CProto),\n      attributes = Class.observedAttributes || empty,\n      definition = {prototype: proto}\n    ;\n    // TODO: is this needed at all since it's inherited?\n    // defineProperty(proto, 'constructor', {value: Class});\n    safeProperty(proto, CREATED_CALLBACK, {\n        value: function () {\n          if (justCreated) justCreated = false;\n          else if (!this[DRECEV1]) {\n            this[DRECEV1] = true;\n            new Class(this);\n            if (CProto[CREATED_CALLBACK])\n              CProto[CREATED_CALLBACK].call(this);\n            var info = constructors[nodeNames.get(Class)];\n            if (!usableCustomElements || info.create.length > 1) {\n              notifyAttributes(this);\n            }\n          }\n      }\n    });\n    safeProperty(proto, ATTRIBUTE_CHANGED_CALLBACK, {\n      value: function (name) {\n        if (-1 < indexOf.call(attributes, name))\n          CProto[ATTRIBUTE_CHANGED_CALLBACK].apply(this, arguments);\n      }\n    });\n    if (CProto[CONNECTED_CALLBACK]) {\n      safeProperty(proto, ATTACHED_CALLBACK, {\n        value: CProto[CONNECTED_CALLBACK]\n      });\n    }\n    if (CProto[DISCONNECTED_CALLBACK]) {\n      safeProperty(proto, DETACHED_CALLBACK, {\n        value: CProto[DISCONNECTED_CALLBACK]\n      });\n    }\n    if (is) definition[EXTENDS] = is;\n    name = name.toUpperCase();\n    constructors[name] = {\n      constructor: Class,\n      create: is ? [is, secondArgument(name)] : [name]\n    };\n    nodeNames.set(Class, name);\n    document[REGISTER_ELEMENT](name.toLowerCase(), definition);\n    whenDefined(name);\n    waitingList[name].r();\n  }\n  \n  function get(name) {\n    var info = constructors[name.toUpperCase()];\n    return info && info.constructor;\n  }\n  \n  function getIs(options) {\n    return typeof options === 'string' ?\n        options : (options && options.is || '');\n  }\n  \n  function notifyAttributes(self) {\n    var\n      callback = self[ATTRIBUTE_CHANGED_CALLBACK],\n      attributes = callback ? self.attributes : empty,\n      i = attributes.length,\n      attribute\n    ;\n    while (i--) {\n      attribute =  attributes[i]; // || attributes.item(i);\n      callback.call(\n        self,\n        attribute.name || attribute.nodeName,\n        null,\n        attribute.value || attribute.nodeValue\n      );\n    }\n  }\n  \n  function whenDefined(name) {\n    name = name.toUpperCase();\n    if (!(name in waitingList)) {\n      waitingList[name] = {};\n      waitingList[name].p = new Promise(function (resolve) {\n        waitingList[name].r = resolve;\n      });\n    }\n    return waitingList[name].p;\n  }\n  \n  function polyfillV1() {\n    if (customElements) delete window.customElements;\n    defineProperty(window, 'customElements', {\n      configurable: true,\n      value: new CustomElementRegistry()\n    });\n    defineProperty(window, 'CustomElementRegistry', {\n      configurable: true,\n      value: CustomElementRegistry\n    });\n    for (var\n      patchClass = function (name) {\n        var Class = window[name];\n        if (Class) {\n          window[name] = function CustomElementsV1(self) {\n            var info, isNative;\n            if (!self) self = this;\n            if (!self[DRECEV1]) {\n              justCreated = true;\n              info = constructors[nodeNames.get(self.constructor)];\n              isNative = usableCustomElements && info.create.length === 1;\n              self = isNative ?\n                Reflect.construct(Class, empty, info.constructor) :\n                document.createElement.apply(document, info.create);\n              self[DRECEV1] = true;\n              justCreated = false;\n              if (!isNative) notifyAttributes(self);\n            }\n            return self;\n          };\n          window[name].prototype = Class.prototype;\n          try {\n            Class.prototype.constructor = window[name];\n          } catch(WebKit) {\n            fixGetClass = true;\n            defineProperty(Class, DRECEV1, {value: window[name]});\n          }\n        }\n      },\n      Classes = htmlClass.get(/^HTML[A-Z]*[a-z]/),\n      i = Classes.length;\n      i--;\n      patchClass(Classes[i])\n    ) {}\n    (document.createElement = function (name, options) {\n      var is = getIs(options);\n      return is ?\n        patchedCreateElement.call(this, name, secondArgument(is)) :\n        patchedCreateElement.call(this, name);\n    });\n  }\n  \n  // if customElements is not there at all\n  if (!customElements) polyfillV1();\n  else {\n    // if available test extends work as expected\n    try {\n      (function (DRE, options, name) {\n        options[EXTENDS] = 'a';\n        DRE.prototype = create(HTMLAnchorElement.prototype);\n        DRE.prototype.constructor = DRE;\n        window.customElements.define(name, DRE, options);\n        if (\n          getAttribute.call(document.createElement('a', {is: name}), 'is') !== name ||\n          (usableCustomElements && getAttribute.call(new DRE(), 'is') !== name)\n        ) {\n          throw options;\n        }\n      }(\n        function DRE() {\n          return Reflect.construct(HTMLAnchorElement, [], DRE);\n        },\n        {},\n        'document-register-element-a'\n      ));\n    } catch(o_O) {\n      // or force the polyfill if not\n      // and keep internal original reference\n      polyfillV1();\n    }\n  }\n  \n  try {\n    createElement.call(document, 'a', 'a');\n  } catch(FireFox) {\n    secondArgument = function (is) {\n      return {is: is};\n    };\n  }\n  \n}\n\ninstallCustomElements(global);\n\nmodule.exports = installCustomElements;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/document-register-element/build/document-register-element.node.js\n ** module id = 2\n ** module chunks = 0\n **/","//@flow\n// export {Component} from './core/Component'\n// export {PH} from './core/PH'\n// export * from './core/PropImpl'\n// export * from './core/PropStrategy'\n\n// import {PhotonComponent} from './core/PhotonComponent'\n// import {PropTypes, PropType} from './core/PropTypes'\n// import {PropRules, PropRule} from './core/PropRules'\n// import {definePhoton} from './core/definePhoton'\n//\n// export * as vdom from 'incremental-dom';\n//\n// export * from './core/definePhoton'\n// export * from './core/emit'\n// export * from './core/PhotonComponent'\n// export * from './core/PropDefs'\n// export * from './core/PropRules'\n// export * from './core/PropTypes'\n//\n// export * from './util/iDOMHelpers'\n// export * from './util/isUtil'\n//\n// export const PhotonCore = {\n//      PhotonComponent: PhotonComponent,\n//      PropTypes: PropTypes,\n//      PropType: PropType,\n//      PropRules: PropRules,\n//      PropRule: PropRule,\n//      define: definePhoton\n// };\n\nexport {\n     Component,\n     h,\n     emit,\n     props,\n     prop,\n     define\n} from '../lib/skatejs/index-with-deps';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"skate\"] = factory();\n\telse\n\t\troot[\"skate\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.vdom = exports.symbols = exports.ready = exports.props = exports.prop = exports.link = exports.h = exports.emit = exports.define = exports.Component = undefined;\n\t\n\tvar _prop = __webpack_require__(1);\n\t\n\tvar prop = _interopRequireWildcard(_prop);\n\t\n\tvar _symbols = __webpack_require__(5);\n\t\n\tvar symbols = _interopRequireWildcard(_symbols);\n\t\n\tvar _vdom = __webpack_require__(7);\n\t\n\tvar vdom = _interopRequireWildcard(_vdom);\n\t\n\tvar _component = __webpack_require__(11);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tvar _define = __webpack_require__(27);\n\t\n\tvar _define2 = _interopRequireDefault(_define);\n\t\n\tvar _emit = __webpack_require__(29);\n\t\n\tvar _emit2 = _interopRequireDefault(_emit);\n\t\n\tvar _link = __webpack_require__(30);\n\t\n\tvar _link2 = _interopRequireDefault(_link);\n\t\n\tvar _props = __webpack_require__(21);\n\t\n\tvar _props2 = _interopRequireDefault(_props);\n\t\n\tvar _ready = __webpack_require__(31);\n\t\n\tvar _ready2 = _interopRequireDefault(_ready);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar h = vdom.builder();\n\t\n\texports.Component = _component2.default;\n\texports.define = _define2.default;\n\texports.emit = _emit2.default;\n\texports.h = h;\n\texports.link = _link2.default;\n\texports.prop = prop;\n\texports.props = _props2.default;\n\texports.ready = _ready2.default;\n\texports.symbols = symbols;\n\texports.vdom = vdom;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.string = exports.number = exports.boolean = exports.array = undefined;\n\texports.create = create;\n\t\n\tvar _assign = __webpack_require__(2);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _empty = __webpack_require__(4);\n\t\n\tvar _empty2 = _interopRequireDefault(_empty);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar alwaysUndefinedIfNotANumberOrNumber = function alwaysUndefinedIfNotANumberOrNumber(val) {\n\t  return isNaN(val) ? undefined : Number(val);\n\t};\n\tvar alwaysUndefinedIfEmptyOrString = function alwaysUndefinedIfEmptyOrString(val) {\n\t  return (0, _empty2.default)(val) ? undefined : String(val);\n\t};\n\t\n\tfunction create(def) {\n\t  return function () {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    args.unshift({}, def);\n\t    return _assign2.default.apply(undefined, args);\n\t  };\n\t}\n\t\n\tvar array = exports.array = create({\n\t  coerce: function coerce(val) {\n\t    return Array.isArray(val) ? val : [val];\n\t  },\n\t  default: function _default() {\n\t    return [];\n\t  },\n\t  deserialize: JSON.parse,\n\t  serialize: JSON.stringify\n\t});\n\t\n\tvar boolean = exports.boolean = create({\n\t  coerce: function coerce(value) {\n\t    return !!value;\n\t  },\n\t  default: false,\n\t  deserialize: function deserialize(value) {\n\t    return !(value === null);\n\t  },\n\t  serialize: function serialize(value) {\n\t    return value ? '' : undefined;\n\t  }\n\t});\n\t\n\tvar number = exports.number = create({\n\t  default: 0,\n\t  coerce: alwaysUndefinedIfNotANumberOrNumber,\n\t  deserialize: alwaysUndefinedIfNotANumberOrNumber,\n\t  serialize: alwaysUndefinedIfNotANumberOrNumber\n\t});\n\t\n\tvar string = exports.string = create({\n\t  default: '',\n\t  coerce: alwaysUndefinedIfEmptyOrString,\n\t  deserialize: alwaysUndefinedIfEmptyOrString,\n\t  serialize: alwaysUndefinedIfEmptyOrString\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _getAllKeys = __webpack_require__(3);\n\t\n\tvar _getAllKeys2 = _interopRequireDefault(_getAllKeys);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// We are not using Object.assign if it is defined since it will cause problems when Symbol is polyfilled.\n\t// Apparently Object.assign (or any polyfill for this method) does not copy non-native Symbols.\n\texports.default = function (obj) {\n\t  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t    args[_key - 1] = arguments[_key];\n\t  }\n\t\n\t  args.forEach(function (arg) {\n\t    return (0, _getAllKeys2.default)(arg).forEach(function (name) {\n\t      return obj[name] = arg[name];\n\t    });\n\t  }); // eslint-disable-line no-return-assign\n\t  return obj;\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = keys;\n\tfunction keys() {\n\t  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t      _ref$enumOnly = _ref.enumOnly,\n\t      enumOnly = _ref$enumOnly === undefined ? false : _ref$enumOnly;\n\t\n\t  var listOfKeys = Object[enumOnly ? 'keys' : 'getOwnPropertyNames'](obj);\n\t  return typeof Object.getOwnPropertySymbols === 'function' ? listOfKeys.concat(Object.getOwnPropertySymbols(obj)) : listOfKeys;\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (val) {\n\t  return typeof val === 'undefined' || val === null;\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tObject.defineProperty(exports, 'name', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _symbols.name;\n\t  }\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar connected = exports.connected = '____skate_connected';\n\tvar created = exports.created = '____skate_created';\n\t\n\t// DEPRECATED\n\t//\n\t// This is the only \"symbol\" that must stay a string. This is because it is\n\t// relied upon across several versions. We should remove it, but ensure that\n\t// it's considered a breaking change that whatever version removes it cannot\n\t// be passed to vdom functions as tag names.\n\tvar name = exports.name = '____skate_name';\n\t\n\t// Used on the Constructor\n\tvar ctorCreateInitProps = exports.ctorCreateInitProps = '____skate_ctor_createInitProps';\n\tvar ctorObservedAttributes = exports.ctorObservedAttributes = '____skate_ctor_observedAttributes';\n\tvar ctorProps = exports.ctorProps = '____skate_ctor_props';\n\tvar ctorPropsMap = exports.ctorPropsMap = '____skate_ctor_propsMap';\n\t\n\t// Used on the Element\n\tvar props = exports.props = '____skate_props';\n\tvar ref = exports.ref = '____skate_ref';\n\tvar renderer = exports.renderer = '____skate_renderer';\n\tvar rendering = exports.rendering = '____skate_rendering';\n\tvar rendererDebounced = exports.rendererDebounced = '____skate_rendererDebounced';\n\tvar updated = exports.updated = '____skate_updated';\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.text = exports.elementVoid = exports.elementOpenStart = exports.elementOpenEnd = exports.elementOpen = exports.elementClose = exports.attr = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.element = element;\n\texports.builder = builder;\n\t\n\tvar _incrementalDom = __webpack_require__(8);\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _propContext2 = __webpack_require__(9);\n\t\n\tvar _propContext3 = _interopRequireDefault(_propContext2);\n\t\n\tvar _windowOrGlobal = __webpack_require__(10);\n\t\n\tvar _windowOrGlobal2 = _interopRequireDefault(_windowOrGlobal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /* eslint no-plusplus: 0 */\n\t\n\tvar customElements = _windowOrGlobal2.default.customElements,\n\t    HTMLElement = _windowOrGlobal2.default.HTMLElement;\n\t\n\tvar applyDefault = _incrementalDom.attributes[_incrementalDom.symbols.default];\n\t\n\t// A stack of children that corresponds to the current function helper being\n\t// executed.\n\tvar stackChren = [];\n\t\n\tvar $skip = '__skip';\n\tvar $currentEventHandlers = '__events';\n\tvar $stackCurrentHelperProps = '__props';\n\t\n\t// The current function helper in the stack.\n\tvar stackCurrentHelper = void 0;\n\t\n\t// This is used for the Incremental DOM overrides to keep track of what args\n\t// to pass the main elementOpen() function.\n\tvar overrideArgs = void 0;\n\t\n\t// The number of levels deep after skipping a tree.\n\tvar skips = 0;\n\t\n\tvar noop = function noop() {};\n\t\n\t// Adds or removes an event listener for an element.\n\tfunction applyEvent(elem, ename, newFunc) {\n\t  var events = elem[$currentEventHandlers];\n\t\n\t  if (!events) {\n\t    events = elem[$currentEventHandlers] = {};\n\t  }\n\t\n\t  // Undefined indicates that there is no listener yet.\n\t  if (typeof events[ename] === 'undefined') {\n\t    // We only add a single listener once. Originally this was a workaround for\n\t    // the Webcomponents ShadyDOM polyfill not removing listeners, but it's\n\t    // also a simpler model for binding / unbinding events because you only\n\t    // have a single handler you need to worry about and a single place where\n\t    // you only store one event handler\n\t    elem.addEventListener(ename, function (e) {\n\t      if (events[ename]) {\n\t        events[ename].call(this, e);\n\t      }\n\t    });\n\t  }\n\t\n\t  // Not undefined indicates that we have set a listener, so default to null.\n\t  events[ename] = typeof newFunc === 'function' ? newFunc : null;\n\t}\n\t\n\tvar attributesContext = (0, _propContext3.default)(_incrementalDom.attributes, _defineProperty({\n\t  // Attributes that shouldn't be applied to the DOM.\n\t  key: noop,\n\t  statics: noop,\n\t\n\t  // Attributes that *must* be set via a property on all elements.\n\t  checked: _incrementalDom.applyProp,\n\t  className: _incrementalDom.applyProp,\n\t  disabled: _incrementalDom.applyProp,\n\t  value: _incrementalDom.applyProp,\n\t\n\t  // Ref handler.\n\t  ref: function ref(elem, name, value) {\n\t    elem[_symbols.ref] = value;\n\t  },\n\t\n\t\n\t  // Skip handler.\n\t  skip: function skip(elem, name, value) {\n\t    if (value) {\n\t      elem[$skip] = true;\n\t    } else {\n\t      delete elem[$skip];\n\t    }\n\t  }\n\t}, _incrementalDom.symbols.default, function (elem, name, value) {\n\t  var _ref = customElements.get(elem.localName) || {\n\t    props: {},\n\t    prototype: {}\n\t  },\n\t      props = _ref.props,\n\t      prototype = _ref.prototype;\n\t\n\t  // TODO when refactoring properties to not have to workaround the old\n\t  // WebKit bug we can remove the \"name in props\" check below.\n\t  //\n\t  // NOTE: That the \"name in elem\" check won't work for polyfilled custom\n\t  // elements that set a property that isn't explicitly specified in \"props\"\n\t  // or \"prototype\" unless it is added to the element explicitly as a\n\t  // property prior to passing the prop to the vdom function. For example, if\n\t  // it were added in a lifecycle callback because it wouldn't have been\n\t  // upgraded yet.\n\t  //\n\t  // We prefer setting props, so we do this if there's a property matching\n\t  // name that was passed. However, certain props on SVG elements are\n\t  // readonly and error when you try to set them.\n\t\n\t\n\t  if ((name in props || name in elem || name in prototype) && !('ownerSVGElement' in elem)) {\n\t    (0, _incrementalDom.applyProp)(elem, name, value);\n\t    return;\n\t  }\n\t\n\t  // Explicit false removes the attribute.\n\t  if (value === false) {\n\t    applyDefault(elem, name);\n\t    return;\n\t  }\n\t\n\t  // Handle built-in and custom events.\n\t  if (name.indexOf('on') === 0) {\n\t    var firstChar = name[2];\n\t    var eventName = void 0;\n\t\n\t    if (firstChar === '-') {\n\t      eventName = name.substring(3);\n\t    } else if (firstChar === firstChar.toUpperCase()) {\n\t      eventName = firstChar.toLowerCase() + name.substring(3);\n\t    }\n\t\n\t    if (eventName) {\n\t      applyEvent(elem, eventName, value);\n\t      return;\n\t    }\n\t  }\n\t\n\t  applyDefault(elem, name, value);\n\t}));\n\t\n\tfunction resolveTagName(name) {\n\t  // We return falsy values as some wrapped IDOM functions allow empty values.\n\t  if (!name) {\n\t    return name;\n\t  }\n\t\n\t  // We try and return the cached tag name, if one exists.\n\t  if (name[_symbols.name]) {\n\t    return name[_symbols.name];\n\t  }\n\t\n\t  // If it's a custom element, we get the tag name by constructing it and\n\t  // caching it.\n\t  if (name.prototype instanceof HTMLElement) {\n\t    // eslint-disable-next-line\n\t    var elem = new name();\n\t    return name[_symbols.name] = elem.localName;\n\t  }\n\t\n\t  // Pass all other values through so IDOM gets what it's expecting.\n\t  return name;\n\t}\n\t\n\t// Incremental DOM's elementOpen is where the hooks in `attributes` are applied,\n\t// so it's the only function we need to execute in the context of our attributes.\n\tvar elementOpen = attributesContext(_incrementalDom.elementOpen);\n\t\n\tfunction elementOpenStart(tag) {\n\t  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t  var statics = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\n\t  overrideArgs = [tag, key, statics];\n\t}\n\t\n\tfunction elementOpenEnd() {\n\t  var node = newElementOpen.apply(undefined, _toConsumableArray(overrideArgs)); // eslint-disable-line no-use-before-define\n\t  overrideArgs = null;\n\t  return node;\n\t}\n\t\n\tfunction wrapIdomFunc(func) {\n\t  var tnameFuncHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\t\n\t  return function wrap() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    args[0] = resolveTagName(args[0]);\n\t    stackCurrentHelper = null;\n\t    if (typeof args[0] === 'function') {\n\t      // If we've encountered a function, handle it according to the type of\n\t      // function that is being wrapped.\n\t      stackCurrentHelper = args[0];\n\t      return tnameFuncHandler.apply(undefined, args);\n\t    } else if (stackChren.length) {\n\t      // We pass the wrap() function in here so that when it's called as\n\t      // children, it will queue up for the next stack, if there is one.\n\t      stackChren[stackChren.length - 1].push([wrap, args]);\n\t    } else {\n\t      if (func === elementOpen) {\n\t        if (skips) {\n\t          return ++skips;\n\t        }\n\t\n\t        var elem = func.apply(undefined, args);\n\t\n\t        if (elem[$skip]) {\n\t          ++skips;\n\t        }\n\t\n\t        return elem;\n\t      }\n\t\n\t      if (func === _incrementalDom.elementClose) {\n\t        if (skips === 1) {\n\t          (0, _incrementalDom.skip)();\n\t        }\n\t\n\t        // We only want to skip closing if it's not the last closing tag in the\n\t        // skipped tree because we keep the element that initiated the skpping.\n\t        if (skips && --skips) {\n\t          return;\n\t        }\n\t\n\t        var _elem = func.apply(undefined, args);\n\t        var ref = _elem[_symbols.ref];\n\t\n\t        // We delete so that it isn't called again for the same element. If the\n\t        // ref changes, or the element changes, this will be defined again.\n\t        delete _elem[_symbols.ref];\n\t\n\t        // Execute the saved ref after esuring we've cleand up after it.\n\t        if (typeof ref === 'function') {\n\t          ref(_elem);\n\t        }\n\t\n\t        return _elem;\n\t      }\n\t\n\t      // We must call elementOpenStart and elementOpenEnd even if we are\n\t      // skipping because they queue up attributes and then call elementClose.\n\t      if (!skips || func === elementOpenStart || func === elementOpenEnd) {\n\t        return func.apply(undefined, args);\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\tfunction newAttr() {\n\t  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t    args[_key2] = arguments[_key2];\n\t  }\n\t\n\t  if (stackCurrentHelper) {\n\t    stackCurrentHelper[$stackCurrentHelperProps][args[0]] = args[1];\n\t  } else if (stackChren.length) {\n\t    stackChren[stackChren.length - 1].push([newAttr, args]);\n\t  } else {\n\t    overrideArgs.push(args[0]);\n\t    overrideArgs.push(args[1]);\n\t  }\n\t}\n\t\n\tfunction stackOpen(tname, key, statics) {\n\t  var props = { key: key, statics: statics };\n\t\n\t  for (var _len3 = arguments.length, attrs = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n\t    attrs[_key3 - 3] = arguments[_key3];\n\t  }\n\t\n\t  for (var a = 0; a < attrs.length; a += 2) {\n\t    props[attrs[a]] = attrs[a + 1];\n\t  }\n\t  tname[$stackCurrentHelperProps] = props;\n\t  stackChren.push([]);\n\t}\n\t\n\tfunction stackClose(tname) {\n\t  var chren = stackChren.pop();\n\t  var props = tname[$stackCurrentHelperProps];\n\t  delete tname[$stackCurrentHelperProps];\n\t  var elemOrFn = tname(props, function () {\n\t    return chren.forEach(function (args) {\n\t      return args[0].apply(args, _toConsumableArray(args[1]));\n\t    });\n\t  });\n\t  return typeof elemOrFn === 'function' ? elemOrFn() : elemOrFn;\n\t}\n\t\n\t// Incremental DOM overrides\n\t// -------------------------\n\t\n\t// We must override internal functions that call internal Incremental DOM\n\t// functions because we can't override the internal references. This means\n\t// we must roughly re-implement their behaviour. Luckily, they're fairly\n\t// simple.\n\tvar newElementOpenStart = wrapIdomFunc(elementOpenStart, stackOpen);\n\tvar newElementOpenEnd = wrapIdomFunc(elementOpenEnd);\n\t\n\t// Standard open / closed overrides don't need to reproduce internal behaviour\n\t// because they are the ones referenced from *End and *Start.\n\tvar newElementOpen = wrapIdomFunc(elementOpen, stackOpen);\n\tvar newElementClose = wrapIdomFunc(_incrementalDom.elementClose, stackClose);\n\t\n\t// Ensure we call our overridden functions instead of the internal ones.\n\tfunction newElementVoid(tag) {\n\t  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n\t    args[_key4 - 1] = arguments[_key4];\n\t  }\n\t\n\t  newElementOpen.apply(undefined, [tag].concat(args));\n\t  return newElementClose(tag);\n\t}\n\t\n\t// Text override ensures their calls can queue if using function helpers.\n\tvar newText = wrapIdomFunc(_incrementalDom.text);\n\t\n\t// Convenience function for declaring an Incremental DOM element using\n\t// hyperscript-style syntax.\n\tfunction element(tname, attrs) {\n\t  var atype = typeof attrs === 'undefined' ? 'undefined' : _typeof(attrs);\n\t\n\t  // If attributes are a function, then they should be treated as children.\n\t\n\t  for (var _len5 = arguments.length, chren = Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {\n\t    chren[_key5 - 2] = arguments[_key5];\n\t  }\n\t\n\t  if (atype === 'function' || atype === 'string' || atype === 'number') {\n\t    chren.unshift(attrs);\n\t  }\n\t\n\t  // Ensure the attributes are an object. Null is considered an object so we\n\t  // have to test for this explicitly.\n\t  if (attrs === null || atype !== 'object') {\n\t    attrs = {};\n\t  }\n\t\n\t  // We open the element so we can set attrs after.\n\t  newElementOpenStart(tname, attrs.key, attrs.statics);\n\t\n\t  // Delete so special attrs don't actually get set.\n\t  delete attrs.key;\n\t  delete attrs.statics;\n\t\n\t  // Set attributes.\n\t  Object.keys(attrs).forEach(function (name) {\n\t    return newAttr(name, attrs[name]);\n\t  });\n\t\n\t  // Close before we render the descendant tree.\n\t  newElementOpenEnd(tname);\n\t\n\t  chren.forEach(function (ch) {\n\t    var ctype = typeof ch === 'undefined' ? 'undefined' : _typeof(ch);\n\t    if (ctype === 'function') {\n\t      ch();\n\t    } else if (ctype === 'string' || ctype === 'number') {\n\t      newText(ch);\n\t    } else if (Array.isArray(ch)) {\n\t      ch.forEach(function (sch) {\n\t        return sch();\n\t      });\n\t    }\n\t  });\n\t\n\t  return newElementClose(tname);\n\t}\n\t\n\t// Even further convenience for building a DSL out of JavaScript functions or hooking into standard\n\t// transpiles for JSX (React.createElement() / h).\n\tfunction builder() {\n\t  for (var _len6 = arguments.length, tags = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n\t    tags[_key6] = arguments[_key6];\n\t  }\n\t\n\t  if (tags.length === 0) {\n\t    return function () {\n\t      for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n\t        args[_key7] = arguments[_key7];\n\t      }\n\t\n\t      return element.bind.apply(element, [null].concat(args));\n\t    };\n\t  }\n\t  return tags.map(function (tag) {\n\t    return function () {\n\t      for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n\t        args[_key8] = arguments[_key8];\n\t      }\n\t\n\t      return element.bind.apply(element, [null, tag].concat(args));\n\t    };\n\t  });\n\t}\n\t\n\t// We don't have to do anything special for the text function; it's just a\n\t// straight export from Incremental DOM.\n\texports.attr = newAttr;\n\texports.elementClose = newElementClose;\n\texports.elementOpen = newElementOpen;\n\texports.elementOpenEnd = newElementOpenEnd;\n\texports.elementOpenStart = newElementOpenStart;\n\texports.elementVoid = newElementVoid;\n\texports.text = newText;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * @license\n\t * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *      http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS-IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *      http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS-IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t/**\n\t * A cached reference to the hasOwnProperty function.\n\t */\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t\n\t/**\n\t * A cached reference to the create function.\n\t */\n\tvar create = Object.create;\n\t\n\t/**\n\t * Used to prevent property collisions between our \"map\" and its prototype.\n\t * @param {!Object<string, *>} map The map to check.\n\t * @param {string} property The property to check.\n\t * @return {boolean} Whether map has property.\n\t */\n\tvar has = function (map, property) {\n\t  return hasOwnProperty.call(map, property);\n\t};\n\t\n\t/**\n\t * Creates an map object without a prototype.\n\t * @return {!Object}\n\t */\n\tvar createMap = function () {\n\t  return create(null);\n\t};\n\t\n\t/**\n\t * Keeps track of information needed to perform diffs for a given DOM node.\n\t * @param {!string} nodeName\n\t * @param {?string=} key\n\t * @constructor\n\t */\n\tfunction NodeData(nodeName, key) {\n\t  /**\n\t   * The attributes and their values.\n\t   * @const {!Object<string, *>}\n\t   */\n\t  this.attrs = createMap();\n\t\n\t  /**\n\t   * An array of attribute name/value pairs, used for quickly diffing the\n\t   * incomming attributes to see if the DOM node's attributes need to be\n\t   * updated.\n\t   * @const {Array<*>}\n\t   */\n\t  this.attrsArr = [];\n\t\n\t  /**\n\t   * The incoming attributes for this Node, before they are updated.\n\t   * @const {!Object<string, *>}\n\t   */\n\t  this.newAttrs = createMap();\n\t\n\t  /**\n\t   * The key used to identify this node, used to preserve DOM nodes when they\n\t   * move within their parent.\n\t   * @const\n\t   */\n\t  this.key = key;\n\t\n\t  /**\n\t   * Keeps track of children within this node by their key.\n\t   * {?Object<string, !Element>}\n\t   */\n\t  this.keyMap = null;\n\t\n\t  /**\n\t   * Whether or not the keyMap is currently valid.\n\t   * {boolean}\n\t   */\n\t  this.keyMapValid = true;\n\t\n\t  /**\n\t   * The node name for this node.\n\t   * @const {string}\n\t   */\n\t  this.nodeName = nodeName;\n\t\n\t  /**\n\t   * @type {?string}\n\t   */\n\t  this.text = null;\n\t}\n\t\n\t/**\n\t * Initializes a NodeData object for a Node.\n\t *\n\t * @param {Node} node The node to initialize data for.\n\t * @param {string} nodeName The node name of node.\n\t * @param {?string=} key The key that identifies the node.\n\t * @return {!NodeData} The newly initialized data object\n\t */\n\tvar initData = function (node, nodeName, key) {\n\t  var data = new NodeData(nodeName, key);\n\t  node['__incrementalDOMData'] = data;\n\t  return data;\n\t};\n\t\n\t/**\n\t * Retrieves the NodeData object for a Node, creating it if necessary.\n\t *\n\t * @param {Node} node The node to retrieve the data for.\n\t * @return {!NodeData} The NodeData for this Node.\n\t */\n\tvar getData = function (node) {\n\t  var data = node['__incrementalDOMData'];\n\t\n\t  if (!data) {\n\t    var nodeName = node.nodeName.toLowerCase();\n\t    var key = null;\n\t\n\t    if (node instanceof Element) {\n\t      key = node.getAttribute('key');\n\t    }\n\t\n\t    data = initData(node, nodeName, key);\n\t  }\n\t\n\t  return data;\n\t};\n\t\n\t/**\n\t * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *      http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS-IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t/** @const */\n\tvar symbols = {\n\t  default: '__default',\n\t\n\t  placeholder: '__placeholder'\n\t};\n\t\n\t/**\n\t * @param {string} name\n\t * @return {string|undefined} The namespace to use for the attribute.\n\t */\n\tvar getNamespace = function (name) {\n\t  if (name.lastIndexOf('xml:', 0) === 0) {\n\t    return 'http://www.w3.org/XML/1998/namespace';\n\t  }\n\t\n\t  if (name.lastIndexOf('xlink:', 0) === 0) {\n\t    return 'http://www.w3.org/1999/xlink';\n\t  }\n\t};\n\t\n\t/**\n\t * Applies an attribute or property to a given Element. If the value is null\n\t * or undefined, it is removed from the Element. Otherwise, the value is set\n\t * as an attribute.\n\t * @param {!Element} el\n\t * @param {string} name The attribute's name.\n\t * @param {?(boolean|number|string)=} value The attribute's value.\n\t */\n\tvar applyAttr = function (el, name, value) {\n\t  if (value == null) {\n\t    el.removeAttribute(name);\n\t  } else {\n\t    var attrNS = getNamespace(name);\n\t    if (attrNS) {\n\t      el.setAttributeNS(attrNS, name, value);\n\t    } else {\n\t      el.setAttribute(name, value);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Applies a property to a given Element.\n\t * @param {!Element} el\n\t * @param {string} name The property's name.\n\t * @param {*} value The property's value.\n\t */\n\tvar applyProp = function (el, name, value) {\n\t  el[name] = value;\n\t};\n\t\n\t/**\n\t * Applies a style to an Element. No vendor prefix expansion is done for\n\t * property names/values.\n\t * @param {!Element} el\n\t * @param {string} name The attribute's name.\n\t * @param {*} style The style to set. Either a string of css or an object\n\t *     containing property-value pairs.\n\t */\n\tvar applyStyle = function (el, name, style) {\n\t  if (typeof style === 'string') {\n\t    el.style.cssText = style;\n\t  } else {\n\t    el.style.cssText = '';\n\t    var elStyle = el.style;\n\t    var obj = /** @type {!Object<string,string>} */style;\n\t\n\t    for (var prop in obj) {\n\t      if (has(obj, prop)) {\n\t        elStyle[prop] = obj[prop];\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Updates a single attribute on an Element.\n\t * @param {!Element} el\n\t * @param {string} name The attribute's name.\n\t * @param {*} value The attribute's value. If the value is an object or\n\t *     function it is set on the Element, otherwise, it is set as an HTML\n\t *     attribute.\n\t */\n\tvar applyAttributeTyped = function (el, name, value) {\n\t  var type = typeof value;\n\t\n\t  if (type === 'object' || type === 'function') {\n\t    applyProp(el, name, value);\n\t  } else {\n\t    applyAttr(el, name, /** @type {?(boolean|number|string)} */value);\n\t  }\n\t};\n\t\n\t/**\n\t * Calls the appropriate attribute mutator for this attribute.\n\t * @param {!Element} el\n\t * @param {string} name The attribute's name.\n\t * @param {*} value The attribute's value.\n\t */\n\tvar updateAttribute = function (el, name, value) {\n\t  var data = getData(el);\n\t  var attrs = data.attrs;\n\t\n\t  if (attrs[name] === value) {\n\t    return;\n\t  }\n\t\n\t  var mutator = attributes[name] || attributes[symbols.default];\n\t  mutator(el, name, value);\n\t\n\t  attrs[name] = value;\n\t};\n\t\n\t/**\n\t * A publicly mutable object to provide custom mutators for attributes.\n\t * @const {!Object<string, function(!Element, string, *)>}\n\t */\n\tvar attributes = createMap();\n\t\n\t// Special generic mutator that's called for any attribute that does not\n\t// have a specific mutator.\n\tattributes[symbols.default] = applyAttributeTyped;\n\t\n\tattributes[symbols.placeholder] = function () {};\n\t\n\tattributes['style'] = applyStyle;\n\t\n\t/**\n\t * Gets the namespace to create an element (of a given tag) in.\n\t * @param {string} tag The tag to get the namespace for.\n\t * @param {?Node} parent\n\t * @return {?string} The namespace to create the tag in.\n\t */\n\tvar getNamespaceForTag = function (tag, parent) {\n\t  if (tag === 'svg') {\n\t    return 'http://www.w3.org/2000/svg';\n\t  }\n\t\n\t  if (getData(parent).nodeName === 'foreignObject') {\n\t    return null;\n\t  }\n\t\n\t  return parent.namespaceURI;\n\t};\n\t\n\t/**\n\t * Creates an Element.\n\t * @param {Document} doc The document with which to create the Element.\n\t * @param {?Node} parent\n\t * @param {string} tag The tag for the Element.\n\t * @param {?string=} key A key to identify the Element.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element.\n\t * @return {!Element}\n\t */\n\tvar createElement = function (doc, parent, tag, key, statics) {\n\t  var namespace = getNamespaceForTag(tag, parent);\n\t  var el = undefined;\n\t\n\t  if (namespace) {\n\t    el = doc.createElementNS(namespace, tag);\n\t  } else {\n\t    el = doc.createElement(tag);\n\t  }\n\t\n\t  initData(el, tag, key);\n\t\n\t  if (statics) {\n\t    for (var i = 0; i < statics.length; i += 2) {\n\t      updateAttribute(el, /** @type {!string}*/statics[i], statics[i + 1]);\n\t    }\n\t  }\n\t\n\t  return el;\n\t};\n\t\n\t/**\n\t * Creates a Text Node.\n\t * @param {Document} doc The document with which to create the Element.\n\t * @return {!Text}\n\t */\n\tvar createText = function (doc) {\n\t  var node = doc.createTextNode('');\n\t  initData(node, '#text', null);\n\t  return node;\n\t};\n\t\n\t/**\n\t * Creates a mapping that can be used to look up children using a key.\n\t * @param {?Node} el\n\t * @return {!Object<string, !Element>} A mapping of keys to the children of the\n\t *     Element.\n\t */\n\tvar createKeyMap = function (el) {\n\t  var map = createMap();\n\t  var child = el.firstElementChild;\n\t\n\t  while (child) {\n\t    var key = getData(child).key;\n\t\n\t    if (key) {\n\t      map[key] = child;\n\t    }\n\t\n\t    child = child.nextElementSibling;\n\t  }\n\t\n\t  return map;\n\t};\n\t\n\t/**\n\t * Retrieves the mapping of key to child node for a given Element, creating it\n\t * if necessary.\n\t * @param {?Node} el\n\t * @return {!Object<string, !Node>} A mapping of keys to child Elements\n\t */\n\tvar getKeyMap = function (el) {\n\t  var data = getData(el);\n\t\n\t  if (!data.keyMap) {\n\t    data.keyMap = createKeyMap(el);\n\t  }\n\t\n\t  return data.keyMap;\n\t};\n\t\n\t/**\n\t * Retrieves a child from the parent with the given key.\n\t * @param {?Node} parent\n\t * @param {?string=} key\n\t * @return {?Node} The child corresponding to the key.\n\t */\n\tvar getChild = function (parent, key) {\n\t  return key ? getKeyMap(parent)[key] : null;\n\t};\n\t\n\t/**\n\t * Registers an element as being a child. The parent will keep track of the\n\t * child using the key. The child can be retrieved using the same key using\n\t * getKeyMap. The provided key should be unique within the parent Element.\n\t * @param {?Node} parent The parent of child.\n\t * @param {string} key A key to identify the child with.\n\t * @param {!Node} child The child to register.\n\t */\n\tvar registerChild = function (parent, key, child) {\n\t  getKeyMap(parent)[key] = child;\n\t};\n\t\n\t/**\n\t * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *      http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS-IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t/** @const */\n\tvar notifications = {\n\t  /**\n\t   * Called after patch has compleated with any Nodes that have been created\n\t   * and added to the DOM.\n\t   * @type {?function(Array<!Node>)}\n\t   */\n\t  nodesCreated: null,\n\t\n\t  /**\n\t   * Called after patch has compleated with any Nodes that have been removed\n\t   * from the DOM.\n\t   * Note it's an applications responsibility to handle any childNodes.\n\t   * @type {?function(Array<!Node>)}\n\t   */\n\t  nodesDeleted: null\n\t};\n\t\n\t/**\n\t * Keeps track of the state of a patch.\n\t * @constructor\n\t */\n\tfunction Context() {\n\t  /**\n\t   * @type {(Array<!Node>|undefined)}\n\t   */\n\t  this.created = notifications.nodesCreated && [];\n\t\n\t  /**\n\t   * @type {(Array<!Node>|undefined)}\n\t   */\n\t  this.deleted = notifications.nodesDeleted && [];\n\t}\n\t\n\t/**\n\t * @param {!Node} node\n\t */\n\tContext.prototype.markCreated = function (node) {\n\t  if (this.created) {\n\t    this.created.push(node);\n\t  }\n\t};\n\t\n\t/**\n\t * @param {!Node} node\n\t */\n\tContext.prototype.markDeleted = function (node) {\n\t  if (this.deleted) {\n\t    this.deleted.push(node);\n\t  }\n\t};\n\t\n\t/**\n\t * Notifies about nodes that were created during the patch opearation.\n\t */\n\tContext.prototype.notifyChanges = function () {\n\t  if (this.created && this.created.length > 0) {\n\t    notifications.nodesCreated(this.created);\n\t  }\n\t\n\t  if (this.deleted && this.deleted.length > 0) {\n\t    notifications.nodesDeleted(this.deleted);\n\t  }\n\t};\n\t\n\t/**\n\t* Makes sure that keyed Element matches the tag name provided.\n\t* @param {!string} nodeName The nodeName of the node that is being matched.\n\t* @param {string=} tag The tag name of the Element.\n\t* @param {?string=} key The key of the Element.\n\t*/\n\tvar assertKeyedTagMatches = function (nodeName, tag, key) {\n\t  if (nodeName !== tag) {\n\t    throw new Error('Was expecting node with key \"' + key + '\" to be a ' + tag + ', not a ' + nodeName + '.');\n\t  }\n\t};\n\t\n\t/** @type {?Context} */\n\tvar context = null;\n\t\n\t/** @type {?Node} */\n\tvar currentNode = null;\n\t\n\t/** @type {?Node} */\n\tvar currentParent = null;\n\t\n\t/** @type {?Element|?DocumentFragment} */\n\tvar root = null;\n\t\n\t/** @type {?Document} */\n\tvar doc = null;\n\t\n\t/**\n\t * Returns a patcher function that sets up and restores a patch context,\n\t * running the run function with the provided data.\n\t * @param {function((!Element|!DocumentFragment),!function(T),T=)} run\n\t * @return {function((!Element|!DocumentFragment),!function(T),T=)}\n\t * @template T\n\t */\n\tvar patchFactory = function (run) {\n\t  /**\n\t   * TODO(moz): These annotations won't be necessary once we switch to Closure\n\t   * Compiler's new type inference. Remove these once the switch is done.\n\t   *\n\t   * @param {(!Element|!DocumentFragment)} node\n\t   * @param {!function(T)} fn\n\t   * @param {T=} data\n\t   * @template T\n\t   */\n\t  var f = function (node, fn, data) {\n\t    var prevContext = context;\n\t    var prevRoot = root;\n\t    var prevDoc = doc;\n\t    var prevCurrentNode = currentNode;\n\t    var prevCurrentParent = currentParent;\n\t    var previousInAttributes = false;\n\t    var previousInSkip = false;\n\t\n\t    context = new Context();\n\t    root = node;\n\t    doc = node.ownerDocument;\n\t    currentParent = node.parentNode;\n\t\n\t    if (false) {}\n\t\n\t    run(node, fn, data);\n\t\n\t    if (false) {}\n\t\n\t    context.notifyChanges();\n\t\n\t    context = prevContext;\n\t    root = prevRoot;\n\t    doc = prevDoc;\n\t    currentNode = prevCurrentNode;\n\t    currentParent = prevCurrentParent;\n\t  };\n\t  return f;\n\t};\n\t\n\t/**\n\t * Patches the document starting at node with the provided function. This\n\t * function may be called during an existing patch operation.\n\t * @param {!Element|!DocumentFragment} node The Element or Document\n\t *     to patch.\n\t * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n\t *     calls that describe the DOM.\n\t * @param {T=} data An argument passed to fn to represent DOM state.\n\t * @template T\n\t */\n\tvar patchInner = patchFactory(function (node, fn, data) {\n\t  currentNode = node;\n\t\n\t  enterNode();\n\t  fn(data);\n\t  exitNode();\n\t\n\t  if (false) {}\n\t});\n\t\n\t/**\n\t * Patches an Element with the the provided function. Exactly one top level\n\t * element call should be made corresponding to `node`.\n\t * @param {!Element} node The Element where the patch should start.\n\t * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n\t *     calls that describe the DOM. This should have at most one top level\n\t *     element call.\n\t * @param {T=} data An argument passed to fn to represent DOM state.\n\t * @template T\n\t */\n\tvar patchOuter = patchFactory(function (node, fn, data) {\n\t  currentNode = /** @type {!Element} */{ nextSibling: node };\n\t\n\t  fn(data);\n\t\n\t  if (false) {}\n\t});\n\t\n\t/**\n\t * Checks whether or not the current node matches the specified nodeName and\n\t * key.\n\t *\n\t * @param {?string} nodeName The nodeName for this node.\n\t * @param {?string=} key An optional key that identifies a node.\n\t * @return {boolean} True if the node matches, false otherwise.\n\t */\n\tvar matches = function (nodeName, key) {\n\t  var data = getData(currentNode);\n\t\n\t  // Key check is done using double equals as we want to treat a null key the\n\t  // same as undefined. This should be okay as the only values allowed are\n\t  // strings, null and undefined so the == semantics are not too weird.\n\t  return nodeName === data.nodeName && key == data.key;\n\t};\n\t\n\t/**\n\t * Aligns the virtual Element definition with the actual DOM, moving the\n\t * corresponding DOM node to the correct location or creating it if necessary.\n\t * @param {string} nodeName For an Element, this should be a valid tag string.\n\t *     For a Text, this should be #text.\n\t * @param {?string=} key The key used to identify this element.\n\t * @param {?Array<*>=} statics For an Element, this should be an array of\n\t *     name-value pairs.\n\t */\n\tvar alignWithDOM = function (nodeName, key, statics) {\n\t  if (currentNode && matches(nodeName, key)) {\n\t    return;\n\t  }\n\t\n\t  var node = undefined;\n\t\n\t  // Check to see if the node has moved within the parent.\n\t  if (key) {\n\t    node = getChild(currentParent, key);\n\t    if (node && 'production' !== 'production') {\n\t      assertKeyedTagMatches(getData(node).nodeName, nodeName, key);\n\t    }\n\t  }\n\t\n\t  // Create the node if it doesn't exist.\n\t  if (!node) {\n\t    if (nodeName === '#text') {\n\t      node = createText(doc);\n\t    } else {\n\t      node = createElement(doc, currentParent, nodeName, key, statics);\n\t    }\n\t\n\t    if (key) {\n\t      registerChild(currentParent, key, node);\n\t    }\n\t\n\t    context.markCreated(node);\n\t  }\n\t\n\t  // If the node has a key, remove it from the DOM to prevent a large number\n\t  // of re-orders in the case that it moved far or was completely removed.\n\t  // Since we hold on to a reference through the keyMap, we can always add it\n\t  // back.\n\t  if (currentNode && getData(currentNode).key) {\n\t    currentParent.replaceChild(node, currentNode);\n\t    getData(currentParent).keyMapValid = false;\n\t  } else {\n\t    currentParent.insertBefore(node, currentNode);\n\t  }\n\t\n\t  currentNode = node;\n\t};\n\t\n\t/**\n\t * Clears out any unvisited Nodes, as the corresponding virtual element\n\t * functions were never called for them.\n\t */\n\tvar clearUnvisitedDOM = function () {\n\t  var node = currentParent;\n\t  var data = getData(node);\n\t  var keyMap = data.keyMap;\n\t  var keyMapValid = data.keyMapValid;\n\t  var child = node.lastChild;\n\t  var key = undefined;\n\t\n\t  if (child === currentNode && keyMapValid) {\n\t    return;\n\t  }\n\t\n\t  if (data.attrs[symbols.placeholder] && node !== root) {\n\t    if (false) {}\n\t    return;\n\t  }\n\t\n\t  while (child !== currentNode) {\n\t    node.removeChild(child);\n\t    context.markDeleted( /** @type {!Node}*/child);\n\t\n\t    key = getData(child).key;\n\t    if (key) {\n\t      delete keyMap[key];\n\t    }\n\t    child = node.lastChild;\n\t  }\n\t\n\t  // Clean the keyMap, removing any unusued keys.\n\t  if (!keyMapValid) {\n\t    for (key in keyMap) {\n\t      child = keyMap[key];\n\t      if (child.parentNode !== node) {\n\t        context.markDeleted(child);\n\t        delete keyMap[key];\n\t      }\n\t    }\n\t\n\t    data.keyMapValid = true;\n\t  }\n\t};\n\t\n\t/**\n\t * Changes to the first child of the current node.\n\t */\n\tvar enterNode = function () {\n\t  currentParent = currentNode;\n\t  currentNode = null;\n\t};\n\t\n\t/**\n\t * Changes to the next sibling of the current node.\n\t */\n\tvar nextNode = function () {\n\t  if (currentNode) {\n\t    currentNode = currentNode.nextSibling;\n\t  } else {\n\t    currentNode = currentParent.firstChild;\n\t  }\n\t};\n\t\n\t/**\n\t * Changes to the parent of the current node, removing any unvisited children.\n\t */\n\tvar exitNode = function () {\n\t  clearUnvisitedDOM();\n\t\n\t  currentNode = currentParent;\n\t  currentParent = currentParent.parentNode;\n\t};\n\t\n\t/**\n\t * Makes sure that the current node is an Element with a matching tagName and\n\t * key.\n\t *\n\t * @param {string} tag The element's tag.\n\t * @param {?string=} key The key used to identify this element. This can be an\n\t *     empty string, but performance may be better if a unique value is used\n\t *     when iterating over an array of items.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element. These will only be set once when the\n\t *     Element is created.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar coreElementOpen = function (tag, key, statics) {\n\t  nextNode();\n\t  alignWithDOM(tag, key, statics);\n\t  enterNode();\n\t  return (/** @type {!Element} */currentParent\n\t  );\n\t};\n\t\n\t/**\n\t * Closes the currently open Element, removing any unvisited children if\n\t * necessary.\n\t *\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar coreElementClose = function () {\n\t  if (false) {}\n\t\n\t  exitNode();\n\t  return (/** @type {!Element} */currentNode\n\t  );\n\t};\n\t\n\t/**\n\t * Makes sure the current node is a Text node and creates a Text node if it is\n\t * not.\n\t *\n\t * @return {!Text} The corresponding Text Node.\n\t */\n\tvar coreText = function () {\n\t  nextNode();\n\t  alignWithDOM('#text', null, null);\n\t  return (/** @type {!Text} */currentNode\n\t  );\n\t};\n\t\n\t/**\n\t * Gets the current Element being patched.\n\t * @return {!Element}\n\t */\n\tvar currentElement = function () {\n\t  if (false) {}\n\t  return (/** @type {!Element} */currentParent\n\t  );\n\t};\n\t\n\t/**\n\t * Skips the children in a subtree, allowing an Element to be closed without\n\t * clearing out the children.\n\t */\n\tvar skip = function () {\n\t  if (false) {}\n\t  currentNode = currentParent.lastChild;\n\t};\n\t\n\t/**\n\t * The offset in the virtual element declaration where the attributes are\n\t * specified.\n\t * @const\n\t */\n\tvar ATTRIBUTES_OFFSET = 3;\n\t\n\t/**\n\t * Builds an array of arguments for use with elementOpenStart, attr and\n\t * elementOpenEnd.\n\t * @const {Array<*>}\n\t */\n\tvar argsBuilder = [];\n\t\n\t/**\n\t * @param {string} tag The element's tag.\n\t * @param {?string=} key The key used to identify this element. This can be an\n\t *     empty string, but performance may be better if a unique value is used\n\t *     when iterating over an array of items.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element. These will only be set once when the\n\t *     Element is created.\n\t * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n\t *     for the Element.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar elementOpen = function (tag, key, statics, const_args) {\n\t  if (false) {}\n\t\n\t  var node = coreElementOpen(tag, key, statics);\n\t  var data = getData(node);\n\t\n\t  /*\n\t   * Checks to see if one or more attributes have changed for a given Element.\n\t   * When no attributes have changed, this is much faster than checking each\n\t   * individual argument. When attributes have changed, the overhead of this is\n\t   * minimal.\n\t   */\n\t  var attrsArr = data.attrsArr;\n\t  var newAttrs = data.newAttrs;\n\t  var attrsChanged = false;\n\t  var i = ATTRIBUTES_OFFSET;\n\t  var j = 0;\n\t\n\t  for (; i < arguments.length; i += 1, j += 1) {\n\t    if (attrsArr[j] !== arguments[i]) {\n\t      attrsChanged = true;\n\t      break;\n\t    }\n\t  }\n\t\n\t  for (; i < arguments.length; i += 1, j += 1) {\n\t    attrsArr[j] = arguments[i];\n\t  }\n\t\n\t  if (j < attrsArr.length) {\n\t    attrsChanged = true;\n\t    attrsArr.length = j;\n\t  }\n\t\n\t  /*\n\t   * Actually perform the attribute update.\n\t   */\n\t  if (attrsChanged) {\n\t    for (i = ATTRIBUTES_OFFSET; i < arguments.length; i += 2) {\n\t      newAttrs[arguments[i]] = arguments[i + 1];\n\t    }\n\t\n\t    for (var _attr in newAttrs) {\n\t      updateAttribute(node, _attr, newAttrs[_attr]);\n\t      newAttrs[_attr] = undefined;\n\t    }\n\t  }\n\t\n\t  return node;\n\t};\n\t\n\t/**\n\t * Declares a virtual Element at the current location in the document. This\n\t * corresponds to an opening tag and a elementClose tag is required. This is\n\t * like elementOpen, but the attributes are defined using the attr function\n\t * rather than being passed as arguments. Must be folllowed by 0 or more calls\n\t * to attr, then a call to elementOpenEnd.\n\t * @param {string} tag The element's tag.\n\t * @param {?string=} key The key used to identify this element. This can be an\n\t *     empty string, but performance may be better if a unique value is used\n\t *     when iterating over an array of items.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element. These will only be set once when the\n\t *     Element is created.\n\t */\n\tvar elementOpenStart = function (tag, key, statics) {\n\t  if (false) {}\n\t\n\t  argsBuilder[0] = tag;\n\t  argsBuilder[1] = key;\n\t  argsBuilder[2] = statics;\n\t};\n\t\n\t/***\n\t * Defines a virtual attribute at this point of the DOM. This is only valid\n\t * when called between elementOpenStart and elementOpenEnd.\n\t *\n\t * @param {string} name\n\t * @param {*} value\n\t */\n\tvar attr = function (name, value) {\n\t  if (false) {}\n\t\n\t  argsBuilder.push(name, value);\n\t};\n\t\n\t/**\n\t * Closes an open tag started with elementOpenStart.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar elementOpenEnd = function () {\n\t  if (false) {}\n\t\n\t  var node = elementOpen.apply(null, argsBuilder);\n\t  argsBuilder.length = 0;\n\t  return node;\n\t};\n\t\n\t/**\n\t * Closes an open virtual Element.\n\t *\n\t * @param {string} tag The element's tag.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar elementClose = function (tag) {\n\t  if (false) {}\n\t\n\t  var node = coreElementClose();\n\t\n\t  if (false) {}\n\t\n\t  return node;\n\t};\n\t\n\t/**\n\t * Declares a virtual Element at the current location in the document that has\n\t * no children.\n\t * @param {string} tag The element's tag.\n\t * @param {?string=} key The key used to identify this element. This can be an\n\t *     empty string, but performance may be better if a unique value is used\n\t *     when iterating over an array of items.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element. These will only be set once when the\n\t *     Element is created.\n\t * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n\t *     for the Element.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar elementVoid = function (tag, key, statics, const_args) {\n\t  elementOpen.apply(null, arguments);\n\t  return elementClose(tag);\n\t};\n\t\n\t/**\n\t * Declares a virtual Element at the current location in the document that is a\n\t * placeholder element. Children of this Element can be manually managed and\n\t * will not be cleared by the library.\n\t *\n\t * A key must be specified to make sure that this node is correctly preserved\n\t * across all conditionals.\n\t *\n\t * @param {string} tag The element's tag.\n\t * @param {string} key The key used to identify this element.\n\t * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n\t *     static attributes for the Element. These will only be set once when the\n\t *     Element is created.\n\t * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n\t *     for the Element.\n\t * @return {!Element} The corresponding Element.\n\t */\n\tvar elementPlaceholder = function (tag, key, statics, const_args) {\n\t  if (false) {}\n\t\n\t  elementOpen.apply(null, arguments);\n\t  skip();\n\t  return elementClose(tag);\n\t};\n\t\n\t/**\n\t * Declares a virtual Text at this point in the document.\n\t *\n\t * @param {string|number|boolean} value The value of the Text.\n\t * @param {...(function((string|number|boolean)):string)} const_args\n\t *     Functions to format the value which are called only when the value has\n\t *     changed.\n\t * @return {!Text} The corresponding text node.\n\t */\n\tvar text = function (value, const_args) {\n\t  if (false) {}\n\t\n\t  var node = coreText();\n\t  var data = getData(node);\n\t\n\t  if (data.text !== value) {\n\t    data.text = /** @type {string} */value;\n\t\n\t    var formatted = value;\n\t    for (var i = 1; i < arguments.length; i += 1) {\n\t      /*\n\t       * Call the formatter function directly to prevent leaking arguments.\n\t       * https://github.com/google/incremental-dom/pull/204#issuecomment-178223574\n\t       */\n\t      var fn = arguments[i];\n\t      formatted = fn(formatted);\n\t    }\n\t\n\t    node.data = formatted;\n\t  }\n\t\n\t  return node;\n\t};\n\t\n\texports.patch = patchInner;\n\texports.patchInner = patchInner;\n\texports.patchOuter = patchOuter;\n\texports.currentElement = currentElement;\n\texports.skip = skip;\n\texports.elementVoid = elementVoid;\n\texports.elementOpenStart = elementOpenStart;\n\texports.elementOpenEnd = elementOpenEnd;\n\texports.elementOpen = elementOpen;\n\texports.elementClose = elementClose;\n\texports.elementPlaceholder = elementPlaceholder;\n\texports.text = text;\n\texports.attr = attr;\n\texports.symbols = symbols;\n\texports.attributes = attributes;\n\texports.applyAttr = applyAttr;\n\texports.applyProp = applyProp;\n\texports.notifications = notifications;\n\t\n\t//# sourceMappingURL=incremental-dom-cjs.js.map\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (object, props) {\n\t  return function (func) {\n\t    return function () {\n\t      var saved = enter(object, props);\n\t      var result = func.apply(undefined, arguments);\n\t      exit(object, saved);\n\t      return result;\n\t    };\n\t  };\n\t};\n\t\n\tvar _assign = __webpack_require__(2);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction enter(object, props) {\n\t  var saved = {};\n\t  Object.keys(props).forEach(function (key) {\n\t    saved[key] = object[key];\n\t    object[key] = props[key];\n\t  });\n\t  return saved;\n\t}\n\t\n\tfunction exit(object, saved) {\n\t  (0, _assign2.default)(object, saved);\n\t}\n\t\n\t// Decorates a function with a side effect that changes the properties of an\n\t// object during its execution, and restores them after. There is no error\n\t// handling here, if the wrapped function throws an error, properties are not\n\t// restored and all bets are off.\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict'\n\tmodule.exports = (typeof self === 'object' && self.self === self && self) ||\n\t  (typeof global === 'object' && global.global === global && global) ||\n\t  this\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _incrementalDom = __webpack_require__(8);\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _assign = __webpack_require__(2);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _createSymbol = __webpack_require__(12);\n\t\n\tvar _createSymbol2 = _interopRequireDefault(_createSymbol);\n\t\n\tvar _data = __webpack_require__(13);\n\t\n\tvar _data2 = _interopRequireDefault(_data);\n\t\n\tvar _debounce = __webpack_require__(14);\n\t\n\tvar _debounce2 = _interopRequireDefault(_debounce);\n\t\n\tvar _getAllKeys = __webpack_require__(3);\n\t\n\tvar _getAllKeys2 = _interopRequireDefault(_getAllKeys);\n\t\n\tvar _getOwnPropertyDescriptors = __webpack_require__(16);\n\t\n\tvar _getOwnPropertyDescriptors2 = _interopRequireDefault(_getOwnPropertyDescriptors);\n\t\n\tvar _getPropsMap = __webpack_require__(17);\n\t\n\tvar _getPropsMap2 = _interopRequireDefault(_getPropsMap);\n\t\n\tvar _props = __webpack_require__(21);\n\t\n\tvar _props2 = _interopRequireDefault(_props);\n\t\n\tvar _propsInit = __webpack_require__(22);\n\t\n\tvar _setCtorNativeProperty = __webpack_require__(20);\n\t\n\tvar _setCtorNativeProperty2 = _interopRequireDefault(_setCtorNativeProperty);\n\t\n\tvar _syncPropToAttr = __webpack_require__(26);\n\t\n\tvar _syncPropToAttr2 = _interopRequireDefault(_syncPropToAttr);\n\t\n\tvar _windowOrGlobal = __webpack_require__(10);\n\t\n\tvar _windowOrGlobal2 = _interopRequireDefault(_windowOrGlobal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar HTMLElement = _windowOrGlobal2.default.HTMLElement || function () {\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\t  }\n\t\n\t  return _class;\n\t}();\n\tvar _prevName = (0, _createSymbol2.default)('prevName');\n\tvar _prevOldValue = (0, _createSymbol2.default)('prevOldValue');\n\tvar _prevNewValue = (0, _createSymbol2.default)('prevNewValue');\n\t\n\tfunction preventDoubleCalling(elem, name, oldValue, newValue) {\n\t  return name === elem[_prevName] && oldValue === elem[_prevOldValue] && newValue === elem[_prevNewValue];\n\t}\n\t\n\tfunction syncPropsToAttrs(elem) {\n\t  var props = (0, _getPropsMap2.default)(elem.constructor);\n\t  Object.keys(props).forEach(function (propName) {\n\t    (0, _syncPropToAttr2.default)(elem, props[propName], true);\n\t  });\n\t}\n\t\n\t// TODO remove when not catering to Safari < 10.\n\t//\n\tfunction createNativePropertyDescriptors(Ctor) {\n\t  var propDefs = (0, _getPropsMap2.default)(Ctor);\n\t  return (0, _getAllKeys2.default)(propDefs).reduce(function (propDescriptors, propName) {\n\t    propDescriptors[propName] = (0, _propsInit.createNativePropertyDescriptor)(propDefs[propName]);\n\t    return propDescriptors;\n\t  }, {});\n\t}\n\t\n\t// TODO refactor when not catering to Safari < 10.\n\t//\n\t// We should be able to simplify this where all we do is Object.defineProperty().\n\tfunction createInitProps(Ctor) {\n\t  var props = createNativePropertyDescriptors(Ctor);\n\t\n\t  return function (elem) {\n\t    (0, _getAllKeys2.default)(props).forEach(function (name) {\n\t      var prop = props[name];\n\t      prop.created(elem);\n\t\n\t      // We check here before defining to see if the prop was specified prior\n\t      // to upgrading.\n\t      var hasPropBeforeUpgrading = name in elem;\n\t\n\t      // This is saved prior to defining so that we can set it after it it was\n\t      // defined prior to upgrading. We don't want to invoke the getter if we\n\t      // don't need to, so we only get the value if we need to re-sync.\n\t      var valueBeforeUpgrading = hasPropBeforeUpgrading && elem[name];\n\t\n\t      // https://bugs.webkit.org/show_bug.cgi?id=49739\n\t      //\n\t      // When Webkit fixes that bug so that native property accessors can be\n\t      // retrieved, we can move defining the property to the prototype and away\n\t      // from having to do if for every instance as all other browsers support\n\t      // this.\n\t      Object.defineProperty(elem, name, prop);\n\t\n\t      // DEPRECATED\n\t      //\n\t      // We'll be removing get / set callbacks on properties. Use the\n\t      // updatedCallback() instead.\n\t      //\n\t      // We re-set the prop if it was specified prior to upgrading because we\n\t      // need to ensure set() is triggered both in polyfilled environments and\n\t      // in native where the definition may be registerd after elements it\n\t      // represents have already been created.\n\t      if (hasPropBeforeUpgrading) {\n\t        elem[name] = valueBeforeUpgrading;\n\t      }\n\t    });\n\t  };\n\t}\n\t\n\tvar _class2 = function (_HTMLElement) {\n\t  _inherits(_class2, _HTMLElement);\n\t\n\t  _createClass(_class2, null, [{\n\t    key: 'observedAttributes',\n\t\n\t\n\t    /**\n\t     * Returns unique attribute names configured with props and\n\t     * those set on the Component constructor if any\n\t     */\n\t    get: function get() {\n\t      var attrsOnCtor = this.hasOwnProperty(_symbols.ctorObservedAttributes) ? this[_symbols.ctorObservedAttributes] : [];\n\t\n\t      var props = (0, _getPropsMap2.default)(this);\n\t      var attrsFromLinkedProps = Object.keys(props).map(function (key) {\n\t        return props[key].attrIn;\n\t      }).filter(Boolean);\n\t\n\t      var all = attrsFromLinkedProps.concat(attrsOnCtor).concat(_get(_class2.__proto__ || Object.getPrototypeOf(_class2), 'observedAttributes', this));\n\t\n\t      return all.filter(function (item, index) {\n\t        return all.indexOf(item) === index;\n\t      });\n\t    },\n\t    set: function set(value) {\n\t      value = Array.isArray(value) ? value : [];\n\t      (0, _setCtorNativeProperty2.default)(this, 'observedAttributes', value);\n\t    }\n\t\n\t    // Returns superclass props overwritten with this Component props\n\t\n\t  }, {\n\t    key: 'props',\n\t    get: function get() {\n\t      return (0, _assign2.default)({}, _get(_class2.__proto__ || Object.getPrototypeOf(_class2), 'props', this), this[_symbols.ctorProps]);\n\t    },\n\t    set: function set(value) {\n\t      (0, _setCtorNativeProperty2.default)(this, _symbols.ctorProps, value);\n\t    }\n\t  }]);\n\t\n\t  function _class2() {\n\t    _classCallCheck(this, _class2);\n\t\n\t    var _this = _possibleConstructorReturn(this, (_class2.__proto__ || Object.getPrototypeOf(_class2)).call(this));\n\t\n\t    var constructor = _this.constructor;\n\t\n\t    // Used for the ready() function so it knows when it can call its callback.\n\t\n\t    _this[_symbols.created] = true;\n\t\n\t    // TODO refactor to not cater to Safari < 10. This means we can depend on\n\t    // built-in property descriptors.\n\t    // Must be defined on constructor and not from a superclass\n\t    if (!constructor.hasOwnProperty(_symbols.ctorCreateInitProps)) {\n\t      (0, _setCtorNativeProperty2.default)(constructor, _symbols.ctorCreateInitProps, createInitProps(constructor));\n\t    }\n\t\n\t    // Set up a renderer that is debounced for property sets to call directly.\n\t    _this[_symbols.rendererDebounced] = (0, _debounce2.default)(_this[_symbols.renderer].bind(_this));\n\t\n\t    // Set up property lifecycle.\n\t    var propsMapCount = (0, _getAllKeys2.default)((0, _getPropsMap2.default)(constructor)).length;\n\t    if (propsMapCount && constructor[_symbols.ctorCreateInitProps]) {\n\t      constructor[_symbols.ctorCreateInitProps](_this);\n\t    }\n\t\n\t    // DEPRECATED\n\t    //\n\t    // static render()\n\t    if (!_this.renderCallback && constructor.render) {\n\t      _this.renderCallback = constructor.render.bind(constructor, _this);\n\t    }\n\t\n\t    // DEPRECATED\n\t    //\n\t    // static created()\n\t    //\n\t    // Props should be set up before calling this.\n\t    if (typeof constructor.created === 'function') {\n\t      constructor.created(_this);\n\t    }\n\t\n\t    // DEPRECATED\n\t    //\n\t    // Feature has rarely been used.\n\t    //\n\t    // Created should be set before invoking the ready listeners.\n\t    var elemData = (0, _data2.default)(_this);\n\t    var readyCallbacks = elemData.readyCallbacks;\n\t    if (readyCallbacks) {\n\t      readyCallbacks.forEach(function (cb) {\n\t        return cb(_this);\n\t      });\n\t      delete elemData.readyCallbacks;\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  // Custom Elements v1\n\t\n\t\n\t  _createClass(_class2, [{\n\t    key: 'connectedCallback',\n\t    value: function connectedCallback() {\n\t      var constructor = this.constructor;\n\t\n\t      // DEPRECATED\n\t      //\n\t      // No more reflecting back to attributes in favour of one-way reflection.\n\t\n\t      syncPropsToAttrs(this);\n\t\n\t      // Used to check whether or not the component can render.\n\t      this[_symbols.connected] = true;\n\t\n\t      // Render!\n\t      this[_symbols.rendererDebounced]();\n\t\n\t      // DEPRECATED\n\t      //\n\t      // static attached()\n\t      if (typeof constructor.attached === 'function') {\n\t        constructor.attached(this);\n\t      }\n\t\n\t      // DEPRECATED\n\t      //\n\t      // We can remove this once all browsers support :defined.\n\t      this.setAttribute('defined', '');\n\t    }\n\t\n\t    // Custom Elements v1\n\t\n\t  }, {\n\t    key: 'disconnectedCallback',\n\t    value: function disconnectedCallback() {\n\t      var constructor = this.constructor;\n\t\n\t      // Ensures the component can't be rendered while disconnected.\n\t\n\t      this[_symbols.connected] = false;\n\t\n\t      // DEPRECATED\n\t      //\n\t      // static detached()\n\t      if (typeof constructor.detached === 'function') {\n\t        constructor.detached(this);\n\t      }\n\t    }\n\t\n\t    // Custom Elements v1\n\t\n\t  }, {\n\t    key: 'attributeChangedCallback',\n\t    value: function attributeChangedCallback(name, oldValue, newValue) {\n\t      // Polyfill calls this twice.\n\t      if (preventDoubleCalling(this, name, oldValue, newValue)) {\n\t        return;\n\t      }\n\t\n\t      // Set data so we can prevent double calling if the polyfill.\n\t      this[_prevName] = name;\n\t      this[_prevOldValue] = oldValue;\n\t      this[_prevNewValue] = newValue;\n\t\n\t      var attributeChanged = this.constructor.attributeChanged;\n\t\n\t      var propertyName = (0, _data2.default)(this, 'attributeLinks')[name];\n\t\n\t      if (propertyName) {\n\t        var propData = (0, _data2.default)(this, 'props')[propertyName];\n\t\n\t        // This ensures a property set doesn't cause the attribute changed\n\t        // handler to run again once we set this flag. This only ever has a\n\t        // chance to run when you set an attribute, it then sets a property and\n\t        // then that causes the attribute to be set again.\n\t        if (propData.syncingAttribute) {\n\t          propData.syncingAttribute = false;\n\t        } else {\n\t          // Sync up the property.\n\t          var propOpts = (0, _getPropsMap2.default)(this.constructor)[propertyName];\n\t          propData.settingAttribute = true;\n\t          var newPropVal = newValue !== null && propOpts.deserialize ? propOpts.deserialize(newValue) : newValue;\n\t          this[propertyName] = newPropVal;\n\t        }\n\t      }\n\t\n\t      if (attributeChanged) {\n\t        attributeChanged(this, { name: name, newValue: newValue, oldValue: oldValue });\n\t      }\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // Maps to the static updated() callback. That logic should be moved here\n\t    // when that is finally removed.\n\t\n\t  }, {\n\t    key: 'updatedCallback',\n\t    value: function updatedCallback(prev) {\n\t      return this.constructor.updated(this, prev);\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // Maps to the static rendered() callback. That logic should be moved here\n\t    // when that is finally removed.\n\t\n\t  }, {\n\t    key: 'renderedCallback',\n\t    value: function renderedCallback() {\n\t      return this.constructor.rendered(this);\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // Maps to the static renderer() callback. That logic should be moved here\n\t    // when that is finally removed.\n\t\n\t  }, {\n\t    key: 'rendererCallback',\n\t    value: function rendererCallback() {\n\t      return this.constructor.renderer(this);\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // Invokes the complete render lifecycle.\n\t\n\t  }, {\n\t    key: _symbols.renderer,\n\t    value: function value() {\n\t      if (this[_symbols.rendering] || !this[_symbols.connected]) {\n\t        return;\n\t      }\n\t\n\t      // Flag as rendering. This prevents anything from trying to render - or\n\t      // queueing a render - while there is a pending render.\n\t      this[_symbols.rendering] = true;\n\t\n\t      if (this[_symbols.updated]() && typeof this.renderCallback === 'function') {\n\t        this.rendererCallback();\n\t        this.renderedCallback();\n\t      }\n\t\n\t      this[_symbols.rendering] = false;\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // Calls the user-defined updated() lifecycle callback.\n\t\n\t  }, {\n\t    key: _symbols.updated,\n\t    value: function value() {\n\t      var prev = this[_symbols.props];\n\t      this[_symbols.props] = (0, _props2.default)(this);\n\t      return this.updatedCallback(prev);\n\t    }\n\t\n\t    // Skate\n\t\n\t  }], [{\n\t    key: 'extend',\n\t    value: function extend() {\n\t      var definition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      var Base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this;\n\t\n\t      // Create class for the user.\n\t      var Ctor = function (_Base) {\n\t        _inherits(Ctor, _Base);\n\t\n\t        function Ctor() {\n\t          _classCallCheck(this, Ctor);\n\t\n\t          return _possibleConstructorReturn(this, (Ctor.__proto__ || Object.getPrototypeOf(Ctor)).apply(this, arguments));\n\t        }\n\t\n\t        return Ctor;\n\t      }(Base);\n\t\n\t      // For inheriting from the object literal.\n\t\n\t\n\t      var opts = (0, _getOwnPropertyDescriptors2.default)(definition);\n\t      var prot = (0, _getOwnPropertyDescriptors2.default)(definition.prototype);\n\t\n\t      // Prototype is non configurable (but is writable).\n\t      delete opts.prototype;\n\t\n\t      // Pass on static and instance members from the definition.\n\t      Object.defineProperties(Ctor, opts);\n\t      Object.defineProperties(Ctor.prototype, prot);\n\t\n\t      return Ctor;\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // DEPRECATED\n\t    //\n\t    // Move this to rendererCallback() before removing.\n\t\n\t  }, {\n\t    key: 'updated',\n\t    value: function updated(elem, prev) {\n\t      if (!prev) {\n\t        return true;\n\t      }\n\t\n\t      // use get all keys so that we check Symbols as well as regular props\n\t      // using a for loop so we can break early\n\t      var allKeys = (0, _getAllKeys2.default)(prev);\n\t      for (var i = 0; i < allKeys.length; i += 1) {\n\t        if (prev[allKeys[i]] !== elem[allKeys[i]]) {\n\t          return true;\n\t        }\n\t      }\n\t\n\t      return false;\n\t    }\n\t\n\t    // Skate\n\t    //\n\t    // DEPRECATED\n\t    //\n\t    // Move this to rendererCallback() before removing.\n\t\n\t  }, {\n\t    key: 'rendered',\n\t    value: function rendered() {}\n\t\n\t    // Skate\n\t    //\n\t    // DEPRECATED\n\t    //\n\t    // Move this to rendererCallback() before removing.\n\t\n\t  }, {\n\t    key: 'renderer',\n\t    value: function renderer(elem) {\n\t      if (!elem.shadowRoot) {\n\t        elem.attachShadow({ mode: 'open' });\n\t      }\n\t      (0, _incrementalDom.patchInner)(elem.shadowRoot, function () {\n\t        var possibleFn = elem.renderCallback();\n\t        if (typeof possibleFn === 'function') {\n\t          possibleFn();\n\t        } else if (Array.isArray(possibleFn)) {\n\t          possibleFn.forEach(function (fn) {\n\t            if (typeof fn === 'function') {\n\t              fn();\n\t            }\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return _class2;\n\t}(HTMLElement);\n\t\n\texports.default = _class2;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = createSymbol;\n\tfunction createSymbol(description) {\n\t  return typeof Symbol === 'function' ? Symbol(description) : description;\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (element) {\n\t  var namespace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t  var data = element.__SKATE_DATA || (element.__SKATE_DATA = {});\n\t  return namespace && (data[namespace] || (data[namespace] = {})) || data; // eslint-disable-line no-mixed-operators\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _native = __webpack_require__(15);\n\t\n\tvar _native2 = _interopRequireDefault(_native);\n\t\n\tvar _windowOrGlobal = __webpack_require__(10);\n\t\n\tvar _windowOrGlobal2 = _interopRequireDefault(_windowOrGlobal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar MutationObserver = _windowOrGlobal2.default.MutationObserver;\n\t\n\t\n\tfunction microtaskDebounce(cbFunc) {\n\t  var scheduled = false;\n\t  var i = 0;\n\t  var cbArgs = [];\n\t  var elem = document.createElement('span');\n\t  var observer = new MutationObserver(function () {\n\t    cbFunc.apply(undefined, _toConsumableArray(cbArgs));\n\t    scheduled = false;\n\t    cbArgs = null;\n\t  });\n\t\n\t  observer.observe(elem, { childList: true });\n\t\n\t  return function () {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    cbArgs = args;\n\t    if (!scheduled) {\n\t      scheduled = true;\n\t      elem.textContent = '' + i;\n\t      i += 1;\n\t    }\n\t  };\n\t}\n\t\n\t// We have to use setTimeout() for IE9 and 10 because the Mutation Observer\n\t// polyfill requires that the element be in the document to trigger Mutation\n\t// Events. Mutation Events are also synchronous and thus wouldn't debounce.\n\t//\n\t// The soonest we can set the timeout for in IE is 1 as they have issues when\n\t// setting to 0.\n\tfunction taskDebounce(cbFunc) {\n\t  var scheduled = false;\n\t  var cbArgs = [];\n\t  return function () {\n\t    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      args[_key2] = arguments[_key2];\n\t    }\n\t\n\t    cbArgs = args;\n\t    if (!scheduled) {\n\t      scheduled = true;\n\t      setTimeout(function () {\n\t        scheduled = false;\n\t        cbFunc.apply(undefined, _toConsumableArray(cbArgs));\n\t      }, 1);\n\t    }\n\t  };\n\t}\n\texports.default = (0, _native2.default)(MutationObserver) ? microtaskDebounce : taskDebounce;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar nativeHints = ['native code', '[object MutationObserverConstructor]' // for mobile safari iOS 9.0\n\t];\n\t\n\texports.default = function (fn) {\n\t  return nativeHints.map(function (hint) {\n\t    return (fn || '').toString().indexOf([hint]) > -1;\n\t  }).reduce(function (a, b) {\n\t    return a || b;\n\t  });\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  return (0, _getAllKeys2.default)(obj).reduce(function (prev, curr) {\n\t    prev[curr] = Object.getOwnPropertyDescriptor(obj, curr);\n\t    return prev;\n\t  }, {});\n\t};\n\t\n\tvar _getAllKeys = __webpack_require__(3);\n\t\n\tvar _getAllKeys2 = _interopRequireDefault(_getAllKeys);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getPropsMap;\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _getAllKeys = __webpack_require__(3);\n\t\n\tvar _getAllKeys2 = _interopRequireDefault(_getAllKeys);\n\t\n\tvar _propDefinition = __webpack_require__(18);\n\t\n\tvar _propDefinition2 = _interopRequireDefault(_propDefinition);\n\t\n\tvar _setCtorNativeProperty = __webpack_require__(20);\n\t\n\tvar _setCtorNativeProperty2 = _interopRequireDefault(_setCtorNativeProperty);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Returns a cached map of property options for the given component class.\n\t * Keys in the map are the properties name which can a string or a symbol.\n\t *\n\t * The map is created by caching the result of: static get props\n\t */\n\tfunction getPropsMap(Ctor) {\n\t  // Must be defined on constructor and not from a superclass\n\t  if (!Ctor.hasOwnProperty(_symbols.ctorPropsMap)) {\n\t    (function () {\n\t      var props = Ctor.props || {};\n\t\n\t      var propsMap = (0, _getAllKeys2.default)(props).reduce(function (result, propNameOrSymbol) {\n\t        result[propNameOrSymbol] = new _propDefinition2.default(propNameOrSymbol, props[propNameOrSymbol]);\n\t        return result;\n\t      }, {});\n\t      (0, _setCtorNativeProperty2.default)(Ctor, _symbols.ctorPropsMap, propsMap);\n\t    })();\n\t  }\n\t\n\t  return Ctor[_symbols.ctorPropsMap];\n\t}\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _assign = __webpack_require__(2);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _dashCase = __webpack_require__(19);\n\t\n\tvar _dashCase2 = _interopRequireDefault(_dashCase);\n\t\n\tvar _empty = __webpack_require__(4);\n\t\n\tvar _empty2 = _interopRequireDefault(_empty);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * @internal\n\t * Property Definition\n\t *\n\t * Internal meta data and strategies for a property.\n\t * Created from the options of a PropOptions config object.\n\t *\n\t * Once created a PropDefinition should be treated as immutable and final\n\t * PropDefinitions are created and cached by Component's Class by getPropsMap()\n\t *\n\t * Note: some options of PropOptions no longer exist in PropDefinition\n\t */\n\tvar PropDefinition = function () {\n\t\n\t  // constructor(name:string|symbol, cfg:PropOptions) {\n\t  function PropDefinition(name, cfg) {\n\t    _classCallCheck(this, PropDefinition);\n\t\n\t    this._name = name;\n\t\n\t    cfg = cfg || {};\n\t\n\t    if (typeof cfg === 'function') {\n\t      // todo: Where is documented that a config can just be the coerce function?\n\t      cfg = { coerce: cfg };\n\t    }\n\t\n\t    this.coerce = null;\n\t    this.get = null;\n\t    this.set = null;\n\t\n\t    // Note: initial option is truly optional and it cannot be initialized.\n\t    // Its presence is tested using hasOwnProperty()\n\t\n\t    // todo: we probabbly need to update the doc\n\t    // from doc one would think default value is undefined\n\t    // value was defined inside props-init.js\n\t    this.default = null;\n\t\n\t    // todo: should be JSON.stringify ?\n\t    // value was defined inside props-init.js\n\t    this.deserialize = function (value) {\n\t      return value;\n\t    };\n\t\n\t    // todo: should be JSON.parse ?\n\t    // value was defined inside props-init.js\n\t    this.serialize = function (value) {\n\t      return value;\n\t    };\n\t\n\t    // Merge options from PropOptions config\n\t    (0, _assign2.default)(this, cfg);\n\t\n\t    // attribute option\n\t    if (!(0, _empty2.default)(cfg.attribute)) {\n\t      this.attrIn = cfg.attribute;\n\t      this.attrOut = cfg.attribute;\n\t    }\n\t\n\t    // attribute option is not a member of IPropDef\n\t    delete this.attribute;\n\t\n\t    this.attrIn = resolveAttrName(this.attrIn, name);\n\t    this.attrOut = resolveAttrName(this.attrOut, name);\n\t  }\n\t\n\t  _createClass(PropDefinition, [{\n\t    key: 'name',\n\t    get: function get() {\n\t      return this._name;\n\t    }\n\t  }]);\n\t\n\t  return PropDefinition;\n\t}();\n\t\n\texports.default = PropDefinition;\n\t\n\t\n\tfunction resolveAttrName(attrOption, nameOrSymbol) {\n\t  if (attrOption === true) {\n\t    if (typeof nameOrSymbol === 'string') {\n\t      return (0, _dashCase2.default)(nameOrSymbol);\n\t    }\n\t    if ((typeof nameOrSymbol === 'undefined' ? 'undefined' : _typeof(nameOrSymbol)) === 'symbol') {\n\t      // todo: should we even allow a symbol prop to have a linked attribute?\n\t      console.error('attribute must be a string for property ' + nameOrSymbol.toString());\n\t    }\n\t  }\n\t  if (typeof attrOption === 'string') {\n\t    return attrOption;\n\t  }\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (str) {\n\t  return str.split(/([A-Z])/).reduce(function (one, two, idx) {\n\t    var dash = !one || idx % 2 === 0 ? '' : '-';\n\t    return '' + one + dash + two.toLowerCase();\n\t  });\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = setCtorNativeProperty;\n\t/**\n\t * This is needed to avoid IE11 \"stack size errors\" when creating\n\t * a new property on the constructor of an HTMLElement\n\t */\n\tfunction setCtorNativeProperty(Ctor, propName, value) {\n\t  Object.defineProperty(Ctor, propName, { configurable: true, value: value });\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (elem, newProps) {\n\t  return typeof newProps === 'undefined' ? get(elem) : set(elem, newProps);\n\t};\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _assign = __webpack_require__(2);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _getPropsMap = __webpack_require__(17);\n\t\n\tvar _getPropsMap2 = _interopRequireDefault(_getPropsMap);\n\t\n\tvar _getAllKeys = __webpack_require__(3);\n\t\n\tvar _getAllKeys2 = _interopRequireDefault(_getAllKeys);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction get(elem) {\n\t  var props = {};\n\t  (0, _getAllKeys2.default)((0, _getPropsMap2.default)(elem.constructor)).forEach(function (key) {\n\t    props[key] = elem[key];\n\t  });\n\t\n\t  return props;\n\t}\n\t\n\tfunction set(elem, newProps) {\n\t  (0, _assign2.default)(elem, newProps);\n\t  if (elem[_symbols.renderer]) {\n\t    elem[_symbols.renderer]();\n\t  }\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.createNativePropertyDescriptor = createNativePropertyDescriptor;\n\t\n\texports.default = function (opts) {\n\t  var propDef = new _propDefinition2.default(opts);\n\t  return function () {\n\t    return createNativePropertyDescriptor(propDef);\n\t  };\n\t};\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _data = __webpack_require__(13);\n\t\n\tvar _data2 = _interopRequireDefault(_data);\n\t\n\tvar _empty = __webpack_require__(4);\n\t\n\tvar _empty2 = _interopRequireDefault(_empty);\n\t\n\tvar _getDefaultValue = __webpack_require__(23);\n\t\n\tvar _getDefaultValue2 = _interopRequireDefault(_getDefaultValue);\n\t\n\tvar _getInitialValue = __webpack_require__(24);\n\t\n\tvar _getInitialValue2 = _interopRequireDefault(_getInitialValue);\n\t\n\tvar _getPropData = __webpack_require__(25);\n\t\n\tvar _getPropData2 = _interopRequireDefault(_getPropData);\n\t\n\tvar _propDefinition = __webpack_require__(18);\n\t\n\tvar _propDefinition2 = _interopRequireDefault(_propDefinition);\n\t\n\tvar _syncPropToAttr = __webpack_require__(26);\n\t\n\tvar _syncPropToAttr2 = _interopRequireDefault(_syncPropToAttr);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction createNativePropertyDescriptor(opts) {\n\t  var name = opts.name;\n\t\n\t  var prop = {\n\t    configurable: true,\n\t    enumerable: true\n\t  };\n\t\n\t  prop.created = function created(elem) {\n\t    var propData = (0, _getPropData2.default)(elem, name);\n\t    var attributeName = opts.attrIn;\n\t    var initialValue = elem[name];\n\t\n\t    // Store property to attribute link information.\n\t    if (attributeName) {\n\t      (0, _data2.default)(elem, 'attributeLinks')[attributeName] = name;\n\t    }\n\t\n\t    // Set up initial value if it wasn't specified.\n\t    if ((0, _empty2.default)(initialValue)) {\n\t      if (attributeName && elem.hasAttribute(attributeName)) {\n\t        initialValue = opts.deserialize(elem.getAttribute(attributeName));\n\t      } else if (opts.hasOwnProperty('initial')) {\n\t        initialValue = (0, _getInitialValue2.default)(elem, opts);\n\t      } else if (opts.hasOwnProperty('default')) {\n\t        initialValue = (0, _getDefaultValue2.default)(elem, opts);\n\t      }\n\t    }\n\t\n\t    propData.internalValue = opts.coerce ? opts.coerce(initialValue) : initialValue;\n\t  };\n\t\n\t  prop.get = function get() {\n\t    var propData = (0, _getPropData2.default)(this, name);\n\t    var internalValue = propData.internalValue;\n\t\n\t    return typeof opts.get === 'function' ? opts.get(this, { name: name, internalValue: internalValue }) : internalValue;\n\t  };\n\t\n\t  prop.set = function set(newValue) {\n\t    var propData = (0, _getPropData2.default)(this, name);\n\t    propData.lastAssignedValue = newValue;\n\t    var oldValue = propData.oldValue;\n\t\n\t\n\t    if ((0, _empty2.default)(oldValue)) {\n\t      // todo: the doc is incorrect:  When the property is initialised, oldValue will always be undefined\n\t      // we probabbly need to update the doc\n\t      oldValue = null;\n\t    }\n\t\n\t    if ((0, _empty2.default)(newValue)) {\n\t      newValue = (0, _getDefaultValue2.default)(this, opts);\n\t    }\n\t\n\t    if (typeof opts.coerce === 'function') {\n\t      newValue = opts.coerce(newValue);\n\t    }\n\t\n\t    var changeData = { name: name, newValue: newValue, oldValue: oldValue };\n\t\n\t    if (typeof opts.set === 'function') {\n\t      opts.set(this, changeData);\n\t    }\n\t\n\t    // Queue a re-render.\n\t    this[_symbols.rendererDebounced](this);\n\t\n\t    // Update prop data so we can use it next time.\n\t    propData.internalValue = propData.oldValue = newValue;\n\t\n\t    // Link up the attribute.\n\t    if (this[_symbols.connected]) {\n\t      (0, _syncPropToAttr2.default)(this, opts, false);\n\t    }\n\t  };\n\t\n\t  return prop;\n\t}\n\t\n\t// todo: This is only used from unit tests\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getDefaultValue;\n\tfunction getDefaultValue(elem, opts) {\n\t  return typeof opts.default === 'function' ? opts.default(elem, { name: opts.name }) : opts.default;\n\t}\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getInitialValue;\n\tfunction getInitialValue(elem, opts) {\n\t  return typeof opts.initial === 'function' ? opts.initial(elem, { name: opts.name }) : opts.initial;\n\t}\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getPropData;\n\t\n\tvar _data = __webpack_require__(13);\n\t\n\tvar _data2 = _interopRequireDefault(_data);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getPropData(elem, name) {\n\t  var elemData = (0, _data2.default)(elem, 'props');\n\t  return elemData[name] || (elemData[name] = {});\n\t}\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = syncPropToAttr;\n\t\n\tvar _empty = __webpack_require__(4);\n\t\n\tvar _empty2 = _interopRequireDefault(_empty);\n\t\n\tvar _getDefaultValue = __webpack_require__(23);\n\t\n\tvar _getDefaultValue2 = _interopRequireDefault(_getDefaultValue);\n\t\n\tvar _getInitialValue = __webpack_require__(24);\n\t\n\tvar _getInitialValue2 = _interopRequireDefault(_getInitialValue);\n\t\n\tvar _getPropData = __webpack_require__(25);\n\t\n\tvar _getPropData2 = _interopRequireDefault(_getPropData);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction syncFirstTimeProp(elem, prop) {\n\t  var propData = (0, _getPropData2.default)(elem, prop.name);\n\t\n\t  var syncAttrValue = propData.lastAssignedValue;\n\t  if ((0, _empty2.default)(syncAttrValue)) {\n\t    if (prop.hasOwnProperty('initial')) {\n\t      syncAttrValue = (0, _getInitialValue2.default)(elem, prop);\n\t    } else if (prop.hasOwnProperty('default')) {\n\t      syncAttrValue = (0, _getDefaultValue2.default)(elem, prop);\n\t    }\n\t  }\n\t  if (!(0, _empty2.default)(syncAttrValue) && prop.serialize) {\n\t    syncAttrValue = prop.serialize(syncAttrValue);\n\t  }\n\t  if (!(0, _empty2.default)(syncAttrValue)) {\n\t    propData.syncingAttribute = true;\n\t    elem.setAttribute(prop.attrOut, syncAttrValue);\n\t  }\n\t}\n\t\n\tfunction syncExistingProp(elem, prop) {\n\t  var propData = (0, _getPropData2.default)(elem, prop.name);\n\t  var attributeName = prop.attrOut;\n\t\n\t  if (attributeName && !propData.settingAttribute) {\n\t    var internalValue = propData.internalValue;\n\t\n\t    var serializedValue = prop.serialize(internalValue);\n\t    var currentAttrValue = elem.getAttribute(attributeName);\n\t    var serializedIsEmpty = (0, _empty2.default)(serializedValue);\n\t    var attributeChanged = !(serializedIsEmpty && (0, _empty2.default)(currentAttrValue) || serializedValue === currentAttrValue);\n\t\n\t    propData.syncingAttribute = true;\n\t\n\t    var shouldRemoveAttribute = (0, _empty2.default)(propData.lastAssignedValue);\n\t    if (shouldRemoveAttribute || serializedIsEmpty) {\n\t      elem.removeAttribute(attributeName);\n\t    } else {\n\t      elem.setAttribute(attributeName, serializedValue);\n\t    }\n\t\n\t    if (!attributeChanged && propData.syncingAttribute) {\n\t      propData.syncingAttribute = false;\n\t    }\n\t  }\n\t\n\t  // Allow the attribute to be linked again.\n\t  propData.settingAttribute = false;\n\t}\n\t\n\tfunction syncPropToAttr(elem, prop, isFirstSync) {\n\t  if (prop.attrOut) {\n\t    if (isFirstSync) {\n\t      syncFirstTimeProp(elem, prop);\n\t    } else {\n\t      syncExistingProp(elem, prop);\n\t    }\n\t  }\n\t}\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\texports.default = function () {\n\t  var customElements = _windowOrGlobal2.default.customElements;\n\t\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  var name = args[0],\n\t      Ctor = args[1];\n\t\n\t\n\t  if (!customElements) {\n\t    throw new Error('Skate requires native custom element support or a polyfill.');\n\t  }\n\t\n\t  // Support passing an anonymous definition.\n\t  if (args.length === 1) {\n\t    // We are checking string for now, but once we remove the ability to pass\n\t    // an object literal, we can change this to check \"function\" and invert the\n\t    // blocks of logic.\n\t    if (typeof name === 'string') {\n\t      throw new Error('When passing only one argument to define(), it must be a custom element constructor.');\n\t    } else {\n\t      Ctor = name;\n\t      name = (0, _uniqueId2.default)();\n\t    }\n\t  }\n\t\n\t  // Ensure there's no conflicts.\n\t  if (customElements.get(name)) {\n\t    name = (0, _uniqueId2.default)(name);\n\t  }\n\t\n\t  // DEPRECATED\n\t  //\n\t  // Object literals.\n\t  if ((typeof Ctor === 'undefined' ? 'undefined' : _typeof(Ctor)) === 'object') {\n\t    Ctor = _component2.default.extend(Ctor);\n\t  }\n\t\n\t  // This allows us to check this before instantiating the custom element to\n\t  // find its name from the constructor in the vdom module, thus improving\n\t  // performance but still falling back to a robust method.\n\t  Ctor[_symbols.name] = name;\n\t\n\t  // Sipmle define. Not supporting customised built-ins yet.\n\t  customElements.define(name, Ctor);\n\t\n\t  // The spec doesn't return but this allows for a simpler, more concise API.\n\t  return Ctor;\n\t};\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _component = __webpack_require__(11);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tvar _uniqueId = __webpack_require__(28);\n\t\n\tvar _uniqueId2 = _interopRequireDefault(_uniqueId);\n\t\n\tvar _windowOrGlobal = __webpack_require__(10);\n\t\n\tvar _windowOrGlobal2 = _interopRequireDefault(_windowOrGlobal);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = uniqueId;\n\tfunction uniqueId(prefix) {\n\t  // http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript/2117523#2117523\n\t  var rand = 'xxxxxxxx'.replace(/[xy]/g, function (c) {\n\t    var r = Math.random() * 16 | 0;\n\t    // eslint-disable-next-line no-mixed-operators\n\t    var v = c === 'x' ? r : r & 0x3 | 0x8;\n\t    return v.toString(16);\n\t  });\n\t  return (prefix || 'x') + '-' + rand;\n\t}\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (elem, name) {\n\t  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t  if (opts.bubbles === undefined) {\n\t    opts.bubbles = true;\n\t  }\n\t  if (opts.cancelable === undefined) {\n\t    opts.cancelable = true;\n\t  }\n\t  if (opts.composed === undefined) {\n\t    opts.composed = true;\n\t  }\n\t  return elem.dispatchEvent(createCustomEvent(name, opts));\n\t};\n\t\n\tvar _windowOrGlobal = __webpack_require__(10);\n\t\n\tvar _windowOrGlobal2 = _interopRequireDefault(_windowOrGlobal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Event = function (TheEvent) {\n\t  if (TheEvent) {\n\t    try {\n\t      new TheEvent('emit-init'); // eslint-disable-line no-new\n\t    } catch (e) {\n\t      return undefined;\n\t    }\n\t  }\n\t  return TheEvent;\n\t}(_windowOrGlobal2.default.Event);\n\t\n\tfunction createCustomEvent(name) {\n\t  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t  var detail = opts.detail;\n\t\n\t  delete opts.detail;\n\t\n\t  var e = void 0;\n\t  if (Event) {\n\t    e = new Event(name, opts);\n\t    Object.defineProperty(e, 'detail', { value: detail });\n\t  } else {\n\t    e = document.createEvent('CustomEvent');\n\t    Object.defineProperty(e, 'composed', { value: opts.composed });\n\t    e.initCustomEvent(name, opts.bubbles, opts.cancelable, detail);\n\t  }\n\t  return e;\n\t}\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (elem, target) {\n\t  return function (e) {\n\t    var value = getValue(e.target);\n\t    var localTarget = target || e.target.name || 'value';\n\t\n\t    if (localTarget.indexOf('.') > -1) {\n\t      var parts = localTarget.split('.');\n\t      var firstPart = parts[0];\n\t      var propName = parts.pop();\n\t      var obj = parts.reduce(function (prev, curr) {\n\t        return prev && prev[curr];\n\t      }, elem);\n\t\n\t      obj[propName || e.target.name] = value;\n\t      (0, _props4.default)(elem, _defineProperty({}, firstPart, elem[firstPart]));\n\t    } else {\n\t      (0, _props4.default)(elem, _defineProperty({}, localTarget, value));\n\t    }\n\t  };\n\t};\n\t\n\tvar _props3 = __webpack_require__(21);\n\t\n\tvar _props4 = _interopRequireDefault(_props3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction getValue(elem) {\n\t  var type = elem.type;\n\t  if (type === 'checkbox' || type === 'radio') {\n\t    return elem.checked ? elem.value || true : false;\n\t  }\n\t  return elem.value;\n\t}\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (elem, done) {\n\t  var info = (0, _data2.default)(elem);\n\t  if (elem[_symbols.created]) {\n\t    done(elem);\n\t  } else if (info.readyCallbacks) {\n\t    info.readyCallbacks.push(done);\n\t  } else {\n\t    info.readyCallbacks = [done];\n\t  }\n\t};\n\t\n\tvar _symbols = __webpack_require__(6);\n\t\n\tvar _data = __webpack_require__(13);\n\t\n\tvar _data2 = _interopRequireDefault(_data);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=index-with-deps.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./lib/skatejs/index-with-deps.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}