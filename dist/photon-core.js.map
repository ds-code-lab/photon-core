{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8199a805f3c68ff5a8cc","webpack:///./~/skatejs-named-slots/dist/index.js","webpack:///./~/custom-event-polyfill/custom-event-polyfill.js","webpack:///./~/debounce/index.js","webpack:///./~/date-now/index.js","webpack:///./~/weakmap/weakmap.js","webpack:///./~/document-register-element/build/document-register-element.node.js","webpack:///./src/index.js","webpack:///./src/core/definePhoton.js","webpack:///./src/core/PhotonComponent.js","webpack:///./~/incremental-dom/dist/incremental-dom-cjs.js","webpack:///./~/process/browser.js","webpack:///./src/util/support.js","webpack:///./src/core/emit.js","webpack:///./src/core/PropTypes.js","webpack:///./src/util/isUtil.js","webpack:///./src/util/snakeCase.js","webpack:///./src/core/PropRules.js","webpack:///./src/util/iDOMHelpers.js"],"names":["vdom","PhotonCore","Component","PropTypes","PropType","PropRules","PropRule","define","definePhoton","componentClass","baseHtmlClass","HTMLElement","extendsTag","propTypes","PhotonElement","getObservedAttributes","self","propsValues","photon","_photon","elem","props","createProps","Object","keys","propRules","createPropRules","mustRender","defineProperties","buildPropsConfig","publicMethods","map","name","p","bind","configurePropRules","_flags","isInitialized","initialize","connectedCallback","disconnectedCallback","attrName","oldVal","newVal","attributeChangedCallback","ext","extends","undefined","window","customElements","is","result","forEach","propType","_attribute","push","_getAttrName","names","values","config","enumerable","get","changedCB","create","_attrPropRules","rule","getConfig","d","PhotonComponent","useIDom","useShadowDom","isConnected","isRendering","requestAnimationFrame","renderCycle","_initialize","changed","_setValue","deserialize","_syncAttr","_reflAttr","_onChange","val","sr","shadowRoot","attachShadow","mode","patch","render","console","warn","tagName","detail","firstChild","getElementsByTagName","found","length","tag","attrs","content","params","attr","el","elementOpen","apply","__innerHTML","innerHTML","skip","elementClose","doc","document","win","div","createElement","customElementsV0","registerElement","customElementsV1","shadowDomV0","createShadowRoot","shadowDomV1","log","emitCustomEvent","CustomEvent","Event","e","createCustomEvent","opts","createEvent","initCustomEvent","bubbles","cancelable","dispatchEvent","bool","number","string","object","arrayOf","PropArrayOf","type","_type","_nullable","_reflect","_attrName","String","_arrayOf","noValue","hasValue","isBoolean","isNumber","isNumNaN","isString","noEmptyString","isNaN","snakeCase","str","split","reduce","one","two","idx","dash","toLowerCase","_nullTo","_nanTo","NaN","_propsValues","_changedCB","_name","v","fn","equals","coerce","serialized","serialize","removeAttribute","setAttribute","toString","_configed","set","_setValueAndNotify","ObjRule","JSON","stringify","parse","BoolNullRule","BoolRule","NumNullRule","Number","NumRule","StrNullRule","StrRule","ArrayOfStringRule","vals","trim","s","clazz","nullable","runtime","value","IncrementalDOM","forOwn","iterator","hasOwn","prototype","hasOwnProperty","prop","call","jsxWrapper","elementClosure","args","wrapper","jsxClosure","__jsxDOMWrapper","renderArbitrary","_renderArbitrary","child","Array","isArray","exports","iDOMHelpers"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA,wEAAuE;AACvE,EAAC;;AAED;AACA;;AAEA;AACA,sCAAqC;;AAErC;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B,QAAQ;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B,QAAQ;AACpC;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,YAAW;AACX,cAAa;AACb;AACA;AACA,mDAAkD,sBAAsB,sBAAsB;AAC9F;;AAEA;AACA,YAAW;AACX,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA,kBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,4CAA2C,OAAO;AAClD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP,sCAAqC;AACrC,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;AAED;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;;AAEA;;AAEA,+CAA8C,cAAc;;AAE5D,EAAC;AACD;;;;;;;;;;AC5oCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC;AACnC;;;;;;;;;;;AC1CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACpDA;;AAEA;AACA;AACA;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,kCAAiC,mDAAmD;AACpF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAoB,SAAS,mCAAmC,EAAE;AAClE,wCAAuC,kBAAkB;AACzD;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAkC,eAAe;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA,4CAA2C,8BAA8B;AACzE,+CAA8C,2BAA2B;;AAEzE;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAgB,gBAAgB;AAChC,qBAAoB;AACpB,qBAAoB;;AAEpB;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA,IAAG;;AAEH;AACA,kBAAiB;AACjB,kBAAiB,UAAU;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;;;;AC/OD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+BAA8B,sBAAsB;AACpD;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD,cAAc;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,uDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D,cAAc;AACxE;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAAyC,YAAY;AACrD;AACA;AACA;;AAEA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,aAAa;AAC/C;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,8CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,6CAA4C,oBAAoB;AAChE;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,SAAS;AAClE;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT,WAAU;AACV;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,eAAc;AACd;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;AC54CA;;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AARA;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAPA;;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AATA;;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;SATYA,I;AAWL,KAAMC,kCAAa;AACrBC,iDADqB;AAErBC,qCAFqB;AAGrBC,mCAHqB;AAIrBC,qCAJqB;AAKrBC,mCALqB;AAMrBC;AANqB,EAAnB;AAQP,G;;;;;;;;;;;;;;;;;SCjBgBC,Y,GAAAA,Y;;AANhB;;AACA;;AACA;;;;;;;;AAEA;AACA;AACO,UAASA,YAAT,CAAsBC,cAAtB,EAAwH;AAAA,SAA3DC,aAA2D,uEAAvCC,WAAuC;AAAA,SAA1BC,UAA0B,uEAAN,IAAM;;;AAE3H,SAAIC,YAAkCJ,eAAeI,SAArD;;AAEA;;AAJ2H,SAKrHC,aALqH;AAAA;;AAAA;AAAA;AAAA,iCAOvF;AAC5B,wBAAOC,sBAAsBF,SAAtB,CAAP;AACH;AATsH;;AAavH,gCAAYG,IAAZ,EAAgC;AAAA;;AAAA;;AAC5BA,2IAAaA,IAAb;AACA,iBAAIC,cAA+B,EAAnC;AACA,iBAAIC,SAAyBF,KAAKG,OAAL,GAAe,IAAIV,cAAJ,EAA5C;AACAS,oBAAOE,IAAP,GAAcJ,IAAd;AACAE,oBAAOG,KAAP,GAAeC,YAAYC,OAAOC,IAAP,CAAYX,SAAZ,CAAZ,EAAoCI,WAApC,CAAf;AACAC,oBAAOO,SAAP,GAAmBC,gBAAgBb,SAAhB,EAA2BI,WAA3B,EAAwCC,OAAOS,UAA/C,CAAnB;;AAEA;AACAJ,oBAAOK,gBAAP,CAAwBZ,IAAxB,EAA8Ba,iBAAiBX,MAAjB,CAA9B;AACA;AACAA,oBAAOY,aAAP,CAAqBC,GAArB,CAAyB,UAACC,IAAD,EAAiB;AACtC,qBAAIC,IAAQf,MAAZ;AACAF,sBAAKgB,IAAL,IAAaC,EAAED,IAAF,EAAQE,IAAR,CAAahB,MAAb,CAAb;AACH,cAHD;;AAKAA,oBAAOiB,kBAAP,CAA0BjB,OAAOO,SAAjC;AACA,2BAAOT,IAAP;AACH;;AA/BsH;AAAA;AAAA,iDAiCnG;AAChB,qBAAIG,UAA0B,KAAKA,OAAnC;AACA,qBAAI,CAACA,QAAQiB,MAAR,CAAeC,aAApB,EAAmC;AAC/BlB,6BAAQmB,UAAR;AACAnB,6BAAQiB,MAAR,CAAeC,aAAf,GAA+B,IAA/B;AACH;AACDlB,yBAAQoB,iBAAR;AACH;AAxCsH;AAAA;AAAA,oDA0ChG;AACnB,sBAAKpB,OAAL,CAAaqB,oBAAb;AACH;AA5CsH;AAAA;AAAA,sDA8C9FC,QA9C8F,EA8C7EC,MA9C6E,EA8C9DC,MA9C8D,EA8C/C;AACpE,sBAAKxB,OAAL,CAAayB,wBAAb,CAAsCH,QAAtC,EAAgDC,MAAhD,EAAwDC,MAAxD;AACH;AAhDsH;;AAAA;AAAA,OAK/FjC,aAL+F;;AAmD3H,SAAImC,MAAMjC,aAAa,EAACkC,SAASlC,UAAV,EAAb,GAAqCmC,SAA/C;AACAC,YAAOC,cAAP,CAAsB1C,MAAtB,CAA6BE,eAAeyC,EAA5C,EAAgDpC,aAAhD,EAA+D+B,GAA/D;;AAEA,YAAO/B,aAAP;AACH;;AAED,UAASC,qBAAT,CAA+BF,SAA/B,EAAyE;AACrE,SAAIsC,SAAkB,EAAtB;AACA5B,YAAOC,IAAP,CAAYX,SAAZ,EAAuBuC,OAAvB,CAA+B,UAAUpB,IAAV,EAAuB;AAClD,aAAIqB,WAAoBxC,UAAUmB,IAAV,CAAxB;AACAqB,kBAASrB,IAAT,GAAgBA,IAAhB;AACA,aAAIqB,SAASC,UAAb,EAAyB;AACrBH,oBAAOI,IAAP,CAAYF,SAASG,YAAT,EAAZ;AACH;AACJ,MAND;AAOA;AACA,YAAOL,MAAP;AACH;;AAED,UAAS7B,WAAT,CAAqBmC,KAArB,EAAqCC,MAArC,EAA8D;AAC1D,SAAIC,SAAa,EAAjB;AACAF,WAAML,OAAN,CAAc,UAACpB,IAAD,EAAiB;AAC3B2B,gBAAO3B,IAAP,IAAe;AACX4B,yBAAY,IADD;AAEXC,kBAAK,eAAM;AACP,wBAAOH,OAAO1B,IAAP,CAAP;AACH;AAJU,UAAf;AAMH,MAPD;AAQA,YAAOT,OAAOK,gBAAP,CAAwB,EAAxB,EAA4B+B,MAA5B,CAAP;AACH;;AAED,UAASjC,eAAT,CAAyBb,SAAzB,EACyBI,WADzB,EAEyB6C,SAFzB,EAEqE;AACjE,SAAIrC,YAAkC,EAAtC;AACAF,YAAOC,IAAP,CAAYX,SAAZ,EAAuBuC,OAAvB,CAA+B,UAAUpB,IAAV,EAAuB;AAClD,aAAIqB,WAAoBxC,UAAUmB,IAAV,CAAxB;AACAqB,kBAASrB,IAAT,GAAgBA,IAAhB;AACAP,mBAAUO,IAAV,IAAkB,qBAAU+B,MAAV,CAAiBV,QAAjB,EAA2BpC,WAA3B,EAAwC6C,SAAxC,CAAlB;AACH,MAJD;AAKA,YAAOrC,SAAP;AACH;;AAED,UAASI,gBAAT,CAA0BX,MAA1B,EAAsD;AAClD,SAAIyC,SAAa,EAAjB;AACA,SAAIlC,YAAkCP,OAAOO,SAA7C;AACAP,YAAO8C,cAAP,GAAwB,EAAxB;AACAzC,YAAOC,IAAP,CAAYC,SAAZ,EAAuB2B,OAAvB,CAA+B,UAACpB,IAAD,EAAiB;AAC5C,aAAIiC,OAAgBxC,UAAUO,IAAV,CAApB;AACAd,gBAAO8C,cAAP,CAAsBC,KAAKxB,QAA3B,IAAuCwB,IAAvC;AACAN,gBAAO3B,IAAP,IAAeiC,KAAKC,SAAL,CAAehD,OAAOE,IAAtB,CAAf;AACH,MAJD;AAKA,YAAOuC,MAAP;AACH,E;;;;;;;;;;;;;;;;;;AChHD;;KAAYQ,C;;AAEZ;;AAEA;;AACA;;AACA;;;;;;KAEaC,e,WAAAA,e;;;;;;cAWTC,O,GAAkB,I;cAClBC,Y,GAAuB,I;cASvBlC,M,GAAa;AACTC,4BAAc,KADL;AAETkC,0BAAY,KAFH;AAGT5C,yBAAW,KAHF;AAIT6C,0BAAY;AAJH,U;;cAuDb7C,U,GAAa,YAAM;AACf;AACA,mBAAKS,MAAL,CAAYT,UAAZ,GAAyB,IAAzB;AACAqB,oBAAOyB,qBAAP,CAA6B,YAAM;AAC/B,qBAAI,MAAKrC,MAAL,CAAYT,UAAhB,EAA4B;AACxB,2BAAKS,MAAL,CAAYT,UAAZ,GAAyB,KAAzB;AACA,2BAAK+C,WAAL;AACH;AACJ,cALD;AAMH,U;;;;;4CArDkBjD,S,EAAwC;AACvD;AACH;;;sCAEY;AAAA;;AACT;;AAEA;AACA,iBAAIA,YAAY,KAAKA,SAArB;AACAF,oBAAOC,IAAP,CAAYC,SAAZ,EAAuB2B,OAAvB,CAA+B,UAACpB,IAAD,EAAiB;AAC5CP,2BAAUO,IAAV,EAAgB2C,WAAhB,CAA4B,OAAKvD,IAAjC;AACH,cAFD;AAGH;;;6CAEmB;AAChB;AACA,kBAAKgB,MAAL,CAAYmC,WAAZ,GAA0B,IAA1B;AACA,kBAAK5C,UAAL;AACH;;;gDAEsB;AACnB;AACA,kBAAKS,MAAL,CAAYmC,WAAZ,GAA0B,KAA1B;AACH;;;kDAEwB9B,Q,EAAiBC,M,EAAeC,M,EAAe;AACpE,iBAAIsB,OAAgB,KAAKD,cAAL,CAAoBvB,QAApB,CAApB;AACA;AACA,iBAAIwB,IAAJ,EAAU;AACN,qBAAIW,UAAkBX,KAAKY,SAAL,CAAeZ,KAAKa,WAAL,CAAiBnC,MAAjB,CAAf,CAAtB;AACA,qBAAIiC,OAAJ,EAAa;AACTX,0BAAKc,SAAL,CAAe,KAAK3D,IAApB,EAA0B6C,KAAKe,SAA/B;AACA,yBAAIf,KAAKgB,SAAT,EAAoB;AAChBhB,8BAAKgB,SAAL,CAAehB,KAAKiB,GAApB;AACH;AACD,0BAAKvD,UAAL;AACH;AACJ;AACJ;;;gCAEMX,I,EAAc;AACjB;AACH;;;uCAea;AACV,iBAAI,KAAKoB,MAAL,CAAYoC,WAAZ,IAA2B,CAAC,KAAKpC,MAAL,CAAYmC,WAA5C,EAAyD;AACrD;AACH;AACD,kBAAKnC,MAAL,CAAYoC,WAAZ,GAA0B,IAA1B;;AAGA;AACA,iBAAIW,KAAK,KAAKC,UAAd;;AAEA;AACA,iBAAI,CAACD,EAAL,EAAS;AACL,qBAAI/D,OAAW,KAAKA,IAApB;AACA,qBAAI,KAAKkD,YAAL,wBAAJ,EAAsC;AAClCa,0BAAK/D,KAAKiE,YAAL,CAAkB,EAACC,MAAM,MAAP,EAAlB,CAAL;AACH;AACD;AACA;AACA;AALA,sBAMK;AACDH,8BAAK/D,IAAL;AACH;AACD,sBAAKgE,UAAL,GAAkBD,EAAlB;AACH;;AAED,iBAAG,KAAKd,OAAR,EAAiB;AACbF,mBAAEoB,KAAF,CAAQJ,EAAR,EAAY,KAAKK,MAAjB,EAAyB,IAAzB;AACH,cAFD,MAEO;AACH,qBAAI,KAAKA,MAAL,CAAY,IAAZ,CAAJ,EAAwB;AACpBC,6BAAQC,IAAR,CAAa,KAAKtE,IAAL,CAAUuE,OAAV,GAAoB,gBAAjC;AACH;AACJ;;AAED,kBAAKvD,MAAL,CAAYoC,WAAZ,GAA0B,KAA1B;AACH;;;8BAEIxC,I,EAAa4D,M,EAAa;AAC3B,wCAAgB,KAAKxE,IAArB,EAA2BY,IAA3B,EAAiC,EAAC4D,QAAOA,MAAR,EAAjC;AACH;;;8CAEoB5D,I,EAAiB;AAClC,oBAAQ,KAAKoD,UAAL,CAAgBS,UAAjB,GAA+B,KAAKT,UAAL,CAAgBS,UAAhB,CAA2BC,oBAA3B,CAAgD9D,IAAhD,CAA/B,GAAuF,EAA9F;AACH;;;6CAEmBA,I,EAAiB;AACjC,iBAAI+D,QAAc,KAAKD,oBAAL,CAA0B9D,IAA1B,CAAlB;AACA,iBAAI+D,SAASA,MAAMC,MAAN,GAAe,CAA5B,EAA+B;AAC3B,wBAAOD,MAAM,CAAN,CAAP;AACH;AACD,oBAAOhD,SAAP;AACH;;;8CAEoBkD,G,EAAYC,K,EAAWC,O,EAAgB;AACxD,iBAAIC,SAAS,CAACH,GAAD,EAAM,IAAN,EAAY,IAAZ,CAAb;AACA,iBAAIC,KAAJ,EAAW;AACP3E,wBAAOC,IAAP,CAAY0E,KAAZ,EAAmB9C,OAAnB,CAA2B,gBAAQ;AAC/BgD,4BAAO7C,IAAP,CAAY8C,IAAZ;AACAD,4BAAO7C,IAAP,CAAY2C,MAAMG,IAAN,CAAZ;AACH,kBAHD;AAIH;AACD,iBAAIC,KAAKnC,EAAEoC,WAAF,CAAcC,KAAd,CAAoB,IAApB,EAA0BJ,MAA1B,CAAT;AACA,iBAAIE,GAAGG,WAAH,KAAmBN,OAAvB,EAAgC;AAC5BG,oBAAGG,WAAH,GAAiBN,OAAjB;AACAG,oBAAGI,SAAH,GAAeP,OAAf;AACH;AACDhC,eAAEwC,IAAF;AACAxC,eAAEyC,YAAF,CAAeX,GAAf;AACH;;;6BAhI4B;AACzB,oBAAO,EAAP;AACH;;;6BA5BsB;AACnB,oBAAO,EAAP;AACH;;;6BAE4C;AACzC,oBAAO,EAAP;AAEH;;;;;;;;;;;;;;ACjBL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW,mBAAmB;AAC9B,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,KAAK;AAChB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,uBAAuB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC,OAAO;AAC1C;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,MAAM;AACjB;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,QAAQ;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,aAAY,cAAc;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW,SAAS;AACpB;;AAEA,YAAW,MAAM;AACjB;;AAEA,YAAW,MAAM;AACjB;;AAEA,YAAW,UAAU;AACrB;;AAEA;AACA,YAAW,aAAa;AACxB,YAAW,QAAQ;AACnB;AACA;AACA,kBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,8DAA8D;AACzE,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,6BAA6B;AAC1C,cAAa,aAAa;AAC1B,cAAa,GAAG;AAChB,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,2BAA2B;AACtC;AACA,YAAW,aAAa;AACxB;AACA,YAAW,GAAG;AACd,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,aAAa;AACxB;AACA;AACA,YAAW,GAAG;AACd,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,8BAA6B,SAAS,IAAI;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB,YAAW,SAAS;AACpB,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,0BAA0B;AACrC;AACA;AACA;AACA,mCAAkC,MAAM;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,sBAAqB,MAAM;AAC3B;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA,aAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAW,OAAO;AAClB,aAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,QAAQ;AACnB,YAAW,EAAE;AACb;AACA;AACA;AACA,wCAAuC,OAAO;AAC9C,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,0BAAyB,uBAAuB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,oCAAmC,yBAAyB;AAC5D;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA,YAAW,WAAW;AACtB;AACA;AACA,YAAW,KAAK;AAChB;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAsB,qBAAqB;AAC3C,+BAA8B,OAAO;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,sBAAsB;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,qBAAqB;AACpC,6BAA4B,OAAO;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA,YAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA,YAAW,WAAW;AACtB;AACA;AACA,YAAW,KAAK;AAChB;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,sBAAsB;AACjC,YAAW,8CAA8C;AACzD;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA2B,OAAO;;AAElC;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gD;;;;;;;;;;AC14CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AAC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","file":"photon-core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"photon-core\"] = factory();\n\telse\n\t\troot[\"photon-core\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8199a805f3c68ff5a8cc\n **/","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('custom-event-polyfill'), require('debounce'), require('weakmap')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'custom-event-polyfill', 'debounce', 'weakmap'], factory) :\n    (factory((global.skatejsNamedSlots = global.skatejsNamedSlots || {}),global.customEventPolyfill,global.debounce,global.WeakMap));\n}(this, (function (exports,customEventPolyfill,debounce,WeakMap) {\n\ndebounce = 'default' in debounce ? debounce['default'] : debounce;\nWeakMap = 'default' in WeakMap ? WeakMap['default'] : WeakMap;\n\nvar div = document.createElement('div');\nvar shadowDomV1 = !!div.attachShadow; // eslint-disable-line import/prefer-default-export\n\nvar _window$1 = window;\nvar DocumentFragment = _window$1.DocumentFragment;\n\n\nfunction eachChildNode(node, func) {\n  if (!node) {\n    return;\n  }\n\n  var chs = node.childNodes;\n  var chsLen = chs.length;\n  for (var a = 0; a < chsLen; a++) {\n    var ret = func(chs[a], a, chs);\n    if (typeof ret !== 'undefined') {\n      return ret; // eslint-disable-line consistent-return\n    }\n  }\n}\n\n// Re-implemented to avoid Array.prototype.slice.call for performance reasons\nfunction reverse(arr) {\n  var reversedArray = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    reversedArray.push(arr[i]);\n  }\n  return reversedArray;\n}\n\n/**\n * Execute func over all child nodes or a document fragment, or a single node\n * @param node the node or document fragment\n * @param func a function to execute on node or the children of node, if node is a document fragment.\n *        func may optionally append the node elsewhere, in the case of a document fragment\n */\nfunction eachNodeOrFragmentNodes(node, func) {\n  if (node instanceof DocumentFragment) {\n    var chs = node.childNodes;\n    var chsLen = chs.length;\n\n    // We must iterate in reverse to handle the case where child nodes are moved elsewhere during execution\n    for (var a = chsLen - 1; a >= 0; a--) {\n      var thisNode = reverse(node.childNodes)[a];\n      func(thisNode, a);\n    }\n  } else {\n    func(node, 0);\n  }\n}\n\nvar _window$3 = window;\nvar Node$1 = _window$3.Node;\n\nvar div$1 = document.createElement('div');\n\nfunction getPrototype(obj, key) {\n  var descriptor = void 0;\n\n  while (obj && !(descriptor = Object.getOwnPropertyDescriptor(obj, key))) {\n    // eslint-disable-line no-cond-assign\n    obj = Object.getPrototypeOf(obj);\n  }\n  return descriptor;\n}\nvar getPropertyDescriptor = function (obj, key) {\n  if (obj instanceof Node$1) {\n    obj = div$1;\n  }\n  var proto = getPrototype(obj, key);\n\n  if (proto) {\n    var getter = proto.get;\n    var setter = proto.set;\n    var _descriptor = {\n      configurable: true,\n      enumerable: true\n    };\n\n    if (getter) {\n      _descriptor.get = getter;\n      _descriptor.set = setter;\n      return _descriptor;\n    } else if (typeof obj[key] === 'function') {\n      _descriptor.value = obj[key];\n      return _descriptor;\n    }\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  if (descriptor && descriptor.get) {\n    return descriptor;\n  }\n};\n\n// Any code referring to this is because it has to work around this bug in\n// WebKit: https://bugs.webkit.org/show_bug.cgi?id=49739\n\nvar _window$2 = window;\nvar Element = _window$2.Element;\n\nvar nativeParentNode = getPropertyDescriptor(Element.prototype, 'innerHTML');\n\nvar canPatchNativeAccessors = !!nativeParentNode;\n\n/**\n * See https://w3c.github.io/DOM-Parsing/#serializing\n * @param {TextNode}\n * @returns {string}\n */\nfunction getEscapedTextContent(textNode) {\n  return textNode.textContent.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @param {TextNode}\n * @returns {string}\n */\nfunction getRawTextContent(textNode) {\n  return textNode.textContent;\n}\n\n/**\n * @returns {string}\n * @param {commentNode}\n */\nfunction getCommentNodeOuterHtml(commentNode) {\n  return commentNode.text || \"<!--\" + commentNode.textContent + \"-->\";\n}\n\nvar isSlotNode = function (node) {\n  return node.tagName === 'SLOT';\n};\n\nvar _window$4 = window;\nvar Node$2 = _window$4.Node;\n\n\nfunction findSlots(root) {\n  var slots = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var childNodes = root.childNodes;\n\n\n  if (!childNodes || [Node$2.ELEMENT_NODE, Node$2.DOCUMENT_FRAGMENT_NODE].indexOf(root.nodeType) === -1) {\n    return slots;\n  }\n\n  var length = childNodes.length;\n\n\n  for (var a = 0; a < length; a++) {\n    var childNode = childNodes[a];\n\n    if (isSlotNode(childNode)) {\n      slots.push(childNode);\n    }\n    findSlots(childNode, slots);\n  }\n\n  return slots;\n}\n\nvar isRootNode = function (node) {\n  return node.tagName === '_SHADOW_ROOT_';\n};\n\nvar pseudoArrayToArray = (function (pseudoArray) {\n  return Array.prototype.slice.call(pseudoArray);\n});\n\nvar _window = window;\nvar Comment = _window.Comment;\nvar CustomEvent = _window.CustomEvent;\nvar DOMParser = _window.DOMParser;\nvar HTMLElement = _window.HTMLElement;\nvar Node = _window.Node;\nvar SVGElement = _window.SVGElement;\nvar Text = _window.Text;\n\nvar arrProto = Array.prototype;\nvar forEach = arrProto.forEach;\n\n// We use a real DOM node for a shadow root. This is because the host node\n// basically becomes a virtual entry point for your element leaving the shadow\n// root the only thing that can receive instructions on how the host should\n// render to the browser.\n\nvar defaultShadowRootTagName = '_shadow_root_';\n\n// * WebKit only *\n//\n// These members we need cannot override as we require native access to their\n// original values at some point.\nvar polyfillAtRuntime = ['childNodes', 'parentNode'];\n\n// Some properties that should not be overridden in the Text prototype.\nvar doNotOverridePropertiesInTextNodes = ['textContent'];\n\n// Some new properties that should be defined in the Text prototype.\nvar defineInTextNodes = ['assignedSlot'];\n\n// Some properties that should not be overridden in the Comment prototype.\nvar doNotOverridePropertiesInCommNodes = ['textContent'];\n\n// Some new properties that should be defined in the Comment prototype.\nvar defineInCommNodes = [];\n\n// Nodes that should be slotted\nvar slottedNodeTypes = [Node.ELEMENT_NODE, Node.TEXT_NODE];\n\n// Private data stores.\nvar assignedToSlotMap = new WeakMap();\nvar hostToModeMap = new WeakMap();\nvar hostToRootMap = new WeakMap();\nvar nodeToChildNodesMap = new WeakMap();\nvar nodeToParentNodeMap = new WeakMap();\nvar nodeToSlotMap = new WeakMap();\nvar rootToHostMap = new WeakMap();\nvar rootToSlotMap = new WeakMap();\nvar slotToRootMap = new WeakMap();\n\n// Unfortunately manual DOM parsing is because of WebKit.\nvar parser = new DOMParser();\nfunction parse(html) {\n  var tree = document.createElement('div');\n\n  // Everything not WebKit can do this easily.\n  if (canPatchNativeAccessors) {\n    tree.__innerHTML = html;\n    return tree;\n  }\n\n  var parsed = parser.parseFromString('<div>' + html + '</div>', 'text/html').body.firstChild;\n\n  while (parsed.hasChildNodes()) {\n    var firstChild = parsed.firstChild;\n    parsed.removeChild(firstChild);\n    tree.appendChild(firstChild);\n  }\n\n  // Need to import the node to initialise the custom elements from the parser.\n  return document.importNode(tree, true);\n}\n\nfunction staticProp(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    get: function get() {\n      return value;\n    }\n  });\n}\n\n// Slotting helpers.\n\nfunction arrayItem(idx) {\n  return this[idx];\n}\n\nfunction makeLikeNodeList(arr) {\n  arr.item = arrayItem;\n  return arr;\n}\n\nfunction isHostNode(node) {\n  return !!hostToRootMap.get(node);\n}\n\nfunction getNodeType(node) {\n  if (isHostNode(node)) {\n    return 'host';\n  }\n\n  if (isSlotNode(node)) {\n    return 'slot';\n  }\n\n  if (isRootNode(node)) {\n    return 'root';\n  }\n\n  return 'node';\n}\n\nfunction findClosest(node, func) {\n  while (node) {\n    if (node === document) {\n      break;\n    }\n    if (func(node)) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n}\n\nfunction getSlotNameFromSlot(node) {\n  return node.getAttribute && node.getAttribute('name') || 'default';\n}\n\nfunction getSlotNameFromNode(node) {\n  return node.getAttribute && node.getAttribute('slot') || 'default';\n}\n\nfunction slotNodeIntoSlot(slot, node, insertBefore) {\n  // Only Text and Element nodes should be slotted.\n  if (slottedNodeTypes.indexOf(node.nodeType) === -1) {\n    return;\n  }\n\n  var assignedNodes = slot.assignedNodes();\n  var shouldGoIntoContentMode = assignedNodes.length === 0;\n  var slotInsertBeforeIndex = assignedNodes.indexOf(insertBefore);\n\n  // Assign the slot to the node internally.\n  nodeToSlotMap.set(node, slot);\n\n  // Remove the fallback content and state if we're going into content mode.\n  if (shouldGoIntoContentMode) {\n    forEach.call(slot.childNodes, function (child) {\n      return slot.__removeChild(child);\n    });\n  }\n\n  if (slotInsertBeforeIndex > -1) {\n    slot.__insertBefore(node, insertBefore !== undefined ? insertBefore : null);\n    assignedNodes.splice(slotInsertBeforeIndex, 0, node);\n  } else {\n    slot.__appendChild(node);\n    assignedNodes.push(node);\n  }\n\n  slot.____triggerSlotChangeEvent();\n}\n\nfunction slotNodeFromSlot(node) {\n  var slot = nodeToSlotMap.get(node);\n\n  if (slot) {\n    var assignedNodes = slot.assignedNodes();\n    var index = assignedNodes.indexOf(node);\n\n    if (index > -1) {\n      var shouldGoIntoDefaultMode = assignedNodes.length === 1;\n\n      assignedNodes.splice(index, 1);\n      nodeToSlotMap.set(node, null);\n\n      // Actually remove the child.\n      slot.__removeChild(node);\n\n      // If this was the last slotted node, then insert fallback content.\n      if (shouldGoIntoDefaultMode) {\n        forEach.call(slot.childNodes, function (child) {\n          return slot.__appendChild(child);\n        });\n      }\n\n      slot.____triggerSlotChangeEvent();\n    }\n  }\n}\n\n// Returns the index of the node in the host's childNodes.\nfunction indexOfNode(host, node) {\n  var chs = host.childNodes;\n  var chsLen = chs.length;\n  for (var a = 0; a < chsLen; a++) {\n    if (chs[a] === node) {\n      return a;\n    }\n  }\n  return -1;\n}\n\n// Adds the node to the list of childNodes on the host and fakes any necessary\n// information such as parentNode.\nfunction registerNode(host, node, insertBefore, func) {\n  var index = indexOfNode(host, insertBefore);\n  eachNodeOrFragmentNodes(node, function (eachNode, eachIndex) {\n    func(eachNode, eachIndex);\n\n    if (canPatchNativeAccessors) {\n      nodeToParentNodeMap.set(eachNode, host);\n    } else {\n      staticProp(eachNode, 'parentNode', host);\n    }\n\n    if (index > -1) {\n      arrProto.splice.call(host.childNodes, index + eachIndex, 0, eachNode);\n    } else {\n      arrProto.push.call(host.childNodes, eachNode);\n    }\n  });\n}\n\n// Cleans up registerNode().\nfunction unregisterNode(host, node, func) {\n  var index = indexOfNode(host, node);\n\n  if (index > -1) {\n    func(node, 0);\n\n    if (canPatchNativeAccessors) {\n      nodeToParentNodeMap.set(node, null);\n    } else {\n      staticProp(node, 'parentNode', null);\n    }\n\n    arrProto.splice.call(host.childNodes, index, 1);\n  }\n}\n\nfunction addNodeToNode(host, node, insertBefore) {\n  registerNode(host, node, insertBefore, function (eachNode) {\n    host.__insertBefore(eachNode, insertBefore !== undefined ? insertBefore : null);\n  });\n}\n\nfunction addNodeToHost(host, node, insertBefore) {\n  registerNode(host, node, insertBefore, function (eachNode) {\n    var rootNode = hostToRootMap.get(host);\n    var slotNodes = rootToSlotMap.get(rootNode);\n    var slotNode = slotNodes[getSlotNameFromNode(eachNode)];\n    if (slotNode) {\n      slotNodeIntoSlot(slotNode, eachNode, insertBefore);\n    }\n  });\n}\n\nfunction addSlotToRoot(root, slot) {\n  var slotName = getSlotNameFromSlot(slot);\n\n  // Ensure a slot node's childNodes are overridden at the earliest point\n  // possible for WebKit.\n  if (!canPatchNativeAccessors && !Array.isArray(slot.childNodes)) {\n    staticProp(slot, 'childNodes', pseudoArrayToArray(slot.childNodes));\n  }\n\n  rootToSlotMap.get(root)[slotName] = slot;\n\n  if (!slotToRootMap.has(slot)) {\n    slotToRootMap.set(slot, root);\n  }\n\n  eachChildNode(rootToHostMap.get(root), function (eachNode) {\n    if (!eachNode.assignedSlot && slotName === getSlotNameFromNode(eachNode)) {\n      slotNodeIntoSlot(slot, eachNode);\n    }\n  });\n}\n\nfunction addNodeToRoot(root, node, insertBefore) {\n  eachNodeOrFragmentNodes(node, function (child) {\n    if (isSlotNode(child)) {\n      addSlotToRoot(root, child);\n    } else {\n      var slotNodes = findSlots(child);\n      if (slotNodes) {\n        var slotNodesLen = slotNodes.length;\n        for (var a = 0; a < slotNodesLen; a++) {\n          addSlotToRoot(root, slotNodes[a]);\n        }\n      }\n    }\n  });\n  addNodeToNode(root, node, insertBefore);\n}\n\n// Adds a node to a slot. In other words, adds default content to a slot. It\n// ensures that if the slot doesn't have any assigned nodes yet, that the node\n// is actually displayed, otherwise it's just registered as child content.\nfunction addNodeToSlot(slot, node, insertBefore) {\n  var isInDefaultMode = slot.assignedNodes().length === 0;\n  registerNode(slot, node, insertBefore, function (eachNode) {\n    if (isInDefaultMode) {\n      slot.__insertBefore(eachNode, insertBefore !== undefined ? insertBefore : null);\n    }\n  });\n}\n\n// Removes a node from a slot (default content). It ensures that if the slot\n// doesn't have any assigned nodes yet, that the node is actually removed,\n// otherwise it's just unregistered.\nfunction removeNodeFromSlot(slot, node) {\n  var isInDefaultMode = slot.assignedNodes().length === 0;\n  unregisterNode(slot, node, function () {\n    if (isInDefaultMode) {\n      slot.__removeChild(node);\n    }\n  });\n}\n\nfunction removeNodeFromNode(host, node) {\n  unregisterNode(host, node, function () {\n    host.__removeChild(node);\n  });\n}\n\nfunction removeNodeFromHost(host, node) {\n  unregisterNode(host, node, function () {\n    slotNodeFromSlot(node);\n  });\n}\n\nfunction removeSlotFromRoot(root, node) {\n  var assignedNodes = Array.prototype.slice.call(node.assignedNodes());\n  assignedNodes.forEach(slotNodeFromSlot);\n  delete rootToSlotMap.get(root)[getSlotNameFromSlot(node)];\n  slotToRootMap.delete(node);\n}\n\nfunction removeNodeFromRoot(root, node) {\n  unregisterNode(root, node, function () {\n    if (isSlotNode(node)) {\n      removeSlotFromRoot(root, node);\n    } else {\n      var nodes = findSlots(node);\n      if (nodes) {\n        for (var a = 0; a < nodes.length; a++) {\n          removeSlotFromRoot(root, nodes[a]);\n        }\n      }\n    }\n    root.__removeChild(node);\n  });\n}\n\n// TODO terribly inefficient\nfunction getRootNode(host) {\n  if (isRootNode(host)) {\n    return host;\n  }\n\n  if (!host.parentNode) {\n    return;\n  }\n\n  return getRootNode(host.parentNode);\n}\n\nfunction appendChildOrInsertBefore(host, newNode, refNode) {\n  var nodeType = getNodeType(host);\n  var parentNode = newNode.parentNode;\n  var rootNode = getRootNode(host);\n\n  // Ensure childNodes is patched so we can manually update it for WebKit.\n  if (!canPatchNativeAccessors && !Array.isArray(host.childNodes)) {\n    staticProp(host, 'childNodes', pseudoArrayToArray(host.childNodes));\n  }\n\n  if (rootNode && getNodeType(newNode) === 'slot') {\n    addSlotToRoot(rootNode, newNode);\n  }\n\n  // If we append a child to a host, the host tells the shadow root to distribute\n  // it. If the root decides it doesn't need to be distributed, it is never\n  // removed from the old parent because in polyfill land we store a reference\n  // to the node but we don't move it. Due to that, we must explicitly remove the\n  // node from its old parent.\n  if (parentNode && getNodeType(parentNode) === 'host') {\n    if (canPatchNativeAccessors) {\n      nodeToParentNodeMap.set(newNode, null);\n    } else {\n      staticProp(newNode, 'parentNode', null);\n    }\n  }\n\n  // safari doesn't update its children properly for some reason, so it needs a little push\n  if (!canPatchNativeAccessors && parentNode) {\n    parentNode.removeChild(newNode);\n  }\n\n  if (nodeType === 'node') {\n    if (canPatchNativeAccessors) {\n      nodeToParentNodeMap.set(newNode, host);\n      return host.__insertBefore(newNode, refNode !== undefined ? refNode : null);\n    }\n\n    return addNodeToNode(host, newNode, refNode);\n  }\n\n  if (nodeType === 'slot') {\n    return addNodeToSlot(host, newNode, refNode);\n  }\n\n  if (nodeType === 'host') {\n    return addNodeToHost(host, newNode, refNode);\n  }\n\n  if (nodeType === 'root') {\n    return addNodeToRoot(host, newNode, refNode);\n  }\n}\n\nfunction syncSlotChildNodes(node) {\n  if (canPatchNativeAccessors && getNodeType(node) === 'slot' && node.__childNodes.length !== node.childNodes.length) {\n    while (node.hasChildNodes()) {\n      node.removeChild(node.firstChild);\n    }\n\n    forEach.call(node.__childNodes, function (child) {\n      return node.appendChild(child);\n    });\n  }\n}\n\nvar members = {\n  // For testing purposes.\n  ____assignedNodes: {\n    get: function get() {\n      return this.______assignedNodes || (this.______assignedNodes = []);\n    }\n  },\n\n  // For testing purposes.\n  ____isInFallbackMode: {\n    get: function get() {\n      return this.assignedNodes().length === 0;\n    }\n  },\n\n  ____slotChangeListeners: {\n    get: function get() {\n      if (typeof this.______slotChangeListeners === 'undefined') {\n        this.______slotChangeListeners = 0;\n      }\n      return this.______slotChangeListeners;\n    },\n    set: function set(value) {\n      this.______slotChangeListeners = value;\n    }\n  },\n  ____triggerSlotChangeEvent: {\n    value: debounce(function callback() {\n      if (this.____slotChangeListeners) {\n        this.dispatchEvent(new CustomEvent('slotchange', {\n          bubbles: false,\n          cancelable: false\n        }));\n      }\n    })\n  },\n  addEventListener: {\n    value: function value(name, func, opts) {\n      if (name === 'slotchange' && isSlotNode(this)) {\n        this.____slotChangeListeners++;\n      }\n      return this.__addEventListener(name, func, opts);\n    }\n  },\n  appendChild: {\n    value: function value(newNode) {\n      appendChildOrInsertBefore(this, newNode);\n      return newNode;\n    }\n  },\n  assignedSlot: {\n    get: function get() {\n      var slot = nodeToSlotMap.get(this);\n\n      if (!slot) {\n        return null;\n      }\n\n      var root = slotToRootMap.get(slot);\n      var host = rootToHostMap.get(root);\n      var mode = hostToModeMap.get(host);\n\n      return mode === 'open' ? slot : null;\n    }\n  },\n  attachShadow: {\n    value: function value(opts) {\n      var _this = this;\n\n      var mode = opts && opts.mode;\n      if (mode !== 'closed' && mode !== 'open') {\n        throw new Error('You must specify { mode } as \"open\" or \"closed\" to attachShadow().');\n      }\n\n      // Return the existing shadow root if it exists.\n      var existingShadowRoot = hostToRootMap.get(this);\n      if (existingShadowRoot) {\n        return existingShadowRoot;\n      }\n\n      var lightNodes = makeLikeNodeList([].slice.call(this.childNodes));\n      var shadowRoot = document.createElement(opts.polyfillShadowRootTagName || defaultShadowRootTagName);\n\n      // Host and shadow root data.\n      hostToModeMap.set(this, mode);\n      hostToRootMap.set(this, shadowRoot);\n      rootToHostMap.set(shadowRoot, this);\n      rootToSlotMap.set(shadowRoot, {});\n\n      if (canPatchNativeAccessors) {\n        nodeToChildNodesMap.set(this, lightNodes);\n      } else {\n        staticProp(this, 'childNodes', lightNodes);\n      }\n\n      // Process light DOM.\n      lightNodes.forEach(function (node) {\n        // Existing children should be removed from being displayed, but still\n        // appear to be child nodes. This is how light DOM works; they're still\n        // child nodes but not in the composed DOM yet as there won't be any\n        // slots for them to go into.\n        _this.__removeChild(node);\n\n        // We must register the parentNode here as this has the potential to\n        // become out of sync if the node is moved before being slotted.\n        if (canPatchNativeAccessors) {\n          nodeToParentNodeMap.set(node, _this);\n        } else {\n          staticProp(node, 'parentNode', _this);\n        }\n      });\n\n      // The shadow root is actually the only child of the host.\n      return this.__appendChild(shadowRoot);\n    }\n  },\n  childElementCount: {\n    get: function get() {\n      return this.children.length;\n    }\n  },\n  childNodes: {\n    get: function get() {\n      if (canPatchNativeAccessors && getNodeType(this) === 'node') {\n        return this.__childNodes;\n      }\n      var childNodes = nodeToChildNodesMap.get(this);\n\n      if (!childNodes) {\n        nodeToChildNodesMap.set(this, childNodes = makeLikeNodeList([]));\n      }\n\n      return childNodes;\n    }\n  },\n  children: {\n    get: function get() {\n      var chs = [];\n      eachChildNode(this, function (node) {\n        if (node.nodeType === 1) {\n          chs.push(node);\n        }\n      });\n      return makeLikeNodeList(chs);\n    }\n  },\n  firstChild: {\n    get: function get() {\n      return this.childNodes[0] || null;\n    }\n  },\n  firstElementChild: {\n    get: function get() {\n      return this.children[0] || null;\n    }\n  },\n  assignedNodes: {\n    value: function value() {\n      if (isSlotNode(this)) {\n        var assigned = assignedToSlotMap.get(this);\n\n        if (!assigned) {\n          assignedToSlotMap.set(this, assigned = []);\n        }\n\n        return assigned;\n      }\n    }\n  },\n  hasChildNodes: {\n    value: function value() {\n      return this.childNodes.length > 0;\n    }\n  },\n  innerHTML: {\n    get: function get() {\n      var innerHTML = '';\n\n      var getHtmlNodeOuterHtml = function getHtmlNodeOuterHtml(node) {\n        return node.outerHTML;\n      };\n      var getOuterHtmlByNodeType = {};\n      getOuterHtmlByNodeType[Node.ELEMENT_NODE] = getHtmlNodeOuterHtml;\n      getOuterHtmlByNodeType[Node.COMMENT_NODE] = getCommentNodeOuterHtml;\n\n      // Text nodes with these ancestors should be treated as raw text\n      // See section 8.4 of\n      // https://www.w3.org/TR/2008/WD-html5-20080610/serializing.html#html-fragment\n      // Though Chrome does not adhere to spec for <noscript/>\n      var rawTextNodeNames = {\n        style: true,\n        script: true,\n        xmp: true,\n        iframe: true,\n        noembed: true,\n        noframes: true,\n        noscript: true,\n        plaintext: true\n      };\n\n      function isRawTextNode(node) {\n        return node.nodeType === Node.ELEMENT_NODE && node.nodeName.toLowerCase() in rawTextNodeNames;\n      }\n\n      var isParentNodeRawText = isRawTextNode(this);\n\n      eachChildNode(this, function (node) {\n        var getOuterHtml = void 0;\n        if (node.nodeType === Node.TEXT_NODE) {\n          if (isParentNodeRawText) {\n            getOuterHtml = getRawTextContent;\n          } else {\n            getOuterHtml = getEscapedTextContent;\n          }\n        } else {\n          getOuterHtml = getOuterHtmlByNodeType[node.nodeType] || getHtmlNodeOuterHtml;\n        }\n        innerHTML += getOuterHtml(node);\n      });\n      return innerHTML;\n    },\n    set: function set(innerHTML) {\n      var parsed = parse(innerHTML);\n\n      while (this.hasChildNodes()) {\n        this.removeChild(this.firstChild);\n      }\n\n      // when we are doing this: root.innerHTML = \"<slot><div></div></slot>\";\n      // slot.__childNodes is out of sync with slot.childNodes.\n      // to fix it we have to manually remove and insert them\n      var slots = findSlots(parsed);\n      forEach.call(slots, function (slot) {\n        return syncSlotChildNodes(slot);\n      });\n\n      while (parsed.hasChildNodes()) {\n        var firstChild = parsed.firstChild;\n\n        // When we polyfill everything on HTMLElement.prototype, we overwrite\n        // properties. This makes it so that parentNode reports null even though\n        // it's actually a parent of the HTML parser. For this reason,\n        // cleanNode() won't work and we must manually remove it from the\n        // parser before it is moved to the host just in case it's added as a\n        // light node but not assigned to a slot.\n        parsed.removeChild(firstChild);\n\n        this.appendChild(firstChild);\n      }\n    }\n  },\n  insertBefore: {\n    value: function value(newNode, refNode) {\n      appendChildOrInsertBefore(this, newNode, refNode);\n\n      return newNode;\n    }\n  },\n  lastChild: {\n    get: function get() {\n      var ch = this.childNodes;\n      return ch[ch.length - 1] || null;\n    }\n  },\n  lastElementChild: {\n    get: function get() {\n      var ch = this.children;\n      return ch[ch.length - 1] || null;\n    }\n  },\n  name: {\n    get: function get() {\n      return this.getAttribute('name');\n    },\n    set: function set(name) {\n      var oldName = this.name;\n      var ret = this.__setAttribute('name', name);\n\n      if (name === oldName) {\n        return ret;\n      }\n\n      if (!isSlotNode(this)) {\n        return ret;\n      }\n      var root = slotToRootMap.get(this);\n      if (root) {\n        removeSlotFromRoot(root, this);\n        addSlotToRoot(root, this);\n      }\n      return ret;\n    }\n  },\n  nextSibling: {\n    get: function get() {\n      var host = this;\n      return eachChildNode(this.parentNode, function (child, index, nodes) {\n        if (host === child) {\n          return nodes[index + 1] || null;\n        }\n      });\n    }\n  },\n  nextElementSibling: {\n    get: function get() {\n      var host = this;\n      var found = void 0;\n      return eachChildNode(this.parentNode, function (child) {\n        if (found && child.nodeType === 1) {\n          return child;\n        }\n        if (host === child) {\n          found = true;\n        }\n      });\n    }\n  },\n  outerHTML: {\n    get: function get() {\n      var name = this.tagName.toLowerCase();\n      var attributes = Array.prototype.slice.call(this.attributes).map(function (attr) {\n        return ' ' + attr.name + (attr.value ? '=\"' + attr.value + '\"' : '');\n      }).join('');\n      return '<' + name + attributes + '>' + this.innerHTML + '</' + name + '>';\n    },\n    set: function set(outerHTML) {\n      if (this.parentNode) {\n        var parsed = parse(outerHTML);\n        this.parentNode.replaceChild(parsed.firstChild, this);\n      } else if (canPatchNativeAccessors) {\n        this.__outerHTML = outerHTML; // this will throw a native error;\n      } else {\n        throw new Error('Failed to set the \\'outerHTML\\' property on \\'Element\\': This element has no parent node.');\n      }\n    }\n  },\n  parentElement: {\n    get: function get() {\n      return findClosest(this.parentNode, function (node) {\n        return node.nodeType === 1;\n      });\n    }\n  },\n  parentNode: {\n    get: function get() {\n      return nodeToParentNodeMap.get(this) || this.__parentNode || null;\n    }\n  },\n  previousSibling: {\n    get: function get() {\n      var host = this;\n      return eachChildNode(this.parentNode, function (child, index, nodes) {\n        if (host === child) {\n          return nodes[index - 1] || null;\n        }\n      });\n    }\n  },\n  previousElementSibling: {\n    get: function get() {\n      var host = this;\n      var found = void 0;\n      return eachChildNode(this.parentNode, function (child) {\n        if (found && host === child) {\n          return found;\n        }\n        if (child.nodeType === 1) {\n          found = child;\n        }\n      });\n    }\n  },\n  removeChild: {\n    value: function value(refNode) {\n      var nodeType = getNodeType(this);\n\n      switch (nodeType) {\n        case 'node':\n          if (canPatchNativeAccessors) {\n            nodeToParentNodeMap.set(refNode, null);\n            return this.__removeChild(refNode);\n          }\n          removeNodeFromNode(this, refNode);\n          break;\n        case 'slot':\n          removeNodeFromSlot(this, refNode);\n          break;\n        case 'host':\n          removeNodeFromHost(this, refNode);\n          break;\n        case 'root':\n          removeNodeFromRoot(this, refNode);\n          break;\n        default:\n          break;\n      }\n      return refNode;\n    }\n  },\n  removeEventListener: {\n    value: function value(name, func, opts) {\n      if (name === 'slotchange' && this.____slotChangeListeners && isSlotNode(this)) {\n        this.____slotChangeListeners--;\n      }\n      return this.__removeEventListener(name, func, opts);\n    }\n  },\n  replaceChild: {\n    value: function value(newNode, refNode) {\n      this.insertBefore(newNode, refNode);\n      return this.removeChild(refNode);\n    }\n  },\n  setAttribute: {\n    value: function value(attrName, attrValue) {\n      if (attrName === 'slot') {\n        this[attrName] = attrValue;\n      }\n      if (isSlotNode(this)) {\n        if (attrName === 'name') {\n          this[attrName] = attrValue;\n        }\n      }\n      return this.__setAttribute(attrName, attrValue);\n    }\n  },\n  shadowRoot: {\n    get: function get() {\n      return hostToModeMap.get(this) === 'open' ? hostToRootMap.get(this) : null;\n    }\n  },\n  slot: {\n    get: function get() {\n      return this.getAttribute('slot');\n    },\n    set: function set(name) {\n      var oldName = this.name;\n      var ret = this.__setAttribute('slot', name);\n\n      if (oldName === name) {\n        return ret;\n      }\n\n      var slot = nodeToSlotMap.get(this);\n      var root = slot && slotToRootMap.get(slot);\n      var host = root && rootToHostMap.get(root);\n\n      if (host) {\n        removeNodeFromHost(host, this);\n        addNodeToHost(host, this);\n      }\n      return ret;\n    }\n  },\n  textContent: {\n    get: function get() {\n      var textContent = '';\n      eachChildNode(this, function (node) {\n        if (node.nodeType !== Node.COMMENT_NODE) {\n          textContent += node.textContent;\n        }\n      });\n      return textContent;\n    },\n    set: function set(textContent) {\n      while (this.hasChildNodes()) {\n        this.removeChild(this.firstChild);\n      }\n      if (!textContent) {\n        return;\n      }\n      this.appendChild(document.createTextNode(textContent));\n    }\n  }\n};\n\nvar v1 = (function () {\n  var commProto = Comment.prototype;\n  var elementProto = HTMLElement.prototype;\n  var svgProto = SVGElement && SVGElement.prototype;\n  var textProto = Text.prototype;\n  var textNode = document.createTextNode('');\n  var commNode = document.createComment('');\n\n  Object.keys(members).forEach(function (memberName) {\n    var memberProperty = members[memberName];\n\n    // All properties should be configurable and enumerable.\n    memberProperty.configurable = true;\n    memberProperty.enumerable = true;\n\n    // Applying to the data properties only since we can't have writable accessor properties.\n    if (memberProperty.hasOwnProperty('value')) {\n      // eslint-disable-line no-prototype-builtins\n      memberProperty.writable = true;\n    }\n\n    // Polyfill as much as we can and work around WebKit in other areas.\n    if (canPatchNativeAccessors || polyfillAtRuntime.indexOf(memberName) === -1) {\n      var nativeDescriptor = getPropertyDescriptor(elementProto, memberName);\n      var nativeTextDescriptor = getPropertyDescriptor(textProto, memberName);\n      var nativeCommDescriptor = getPropertyDescriptor(commProto, memberName);\n      var shouldOverrideInTextNode = memberName in textNode && doNotOverridePropertiesInTextNodes.indexOf(memberName) === -1 || ~defineInTextNodes.indexOf(memberName);\n      var shouldOverrideInCommentNode = memberName in commNode && doNotOverridePropertiesInCommNodes.indexOf(memberName) === -1 || ~defineInCommNodes.indexOf(memberName);\n      var nativeMemberName = '__' + memberName;\n\n      Object.defineProperty(elementProto, memberName, memberProperty);\n      svgProto && Object.defineProperty(svgProto, memberName, memberProperty);\n\n      if (nativeDescriptor) {\n        Object.defineProperty(elementProto, nativeMemberName, nativeDescriptor);\n        svgProto && Object.defineProperty(svgProto, nativeMemberName, nativeDescriptor);\n      }\n\n      if (shouldOverrideInTextNode) {\n        Object.defineProperty(textProto, memberName, memberProperty);\n      }\n\n      if (shouldOverrideInTextNode && nativeTextDescriptor) {\n        Object.defineProperty(textProto, nativeMemberName, nativeTextDescriptor);\n      }\n\n      if (shouldOverrideInCommentNode) {\n        Object.defineProperty(commProto, memberName, memberProperty);\n      }\n\n      if (shouldOverrideInCommentNode && nativeCommDescriptor) {\n        Object.defineProperty(commProto, nativeMemberName, nativeCommDescriptor);\n      }\n    }\n  });\n});\n\n// TODO move into the skatejs-web-components package.\nif (shadowDomV1) {\n  // then we should probably not be loading this\n} else {\n  v1();\n}\n\n // eslint-disable-line import/prefer-default-export\n\nexports.v1 = v1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=index.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/skatejs-named-slots/dist/index.js\n ** module id = 1\n ** module chunks = 0\n **/","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\ntry {\n    var ce = new window.CustomEvent('test');\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n        // IE has problems with .preventDefault() on custom events\n        // http://stackoverflow.com/questions/23349191\n        throw new Error('Could not prevent default');\n    }\n} catch(e) {\n  var CustomEvent = function(event, params) {\n    var evt, origPrevent;\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n\n    evt = document.createEvent(\"CustomEvent\");\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    origPrevent = evt.preventDefault;\n    evt.preventDefault = function () {\n      origPrevent.call(this);\n      try {\n        Object.defineProperty(this, 'defaultPrevented', {\n          get: function () {\n            return true;\n          }\n        });\n      } catch(e) {\n        this.defaultPrevented = true;\n      }\n    };\n    return evt;\n  };\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent; // expose definition to window\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/custom-event-polyfill/custom-event-polyfill.js\n ** module id = 2\n ** module chunks = 0\n **/","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/debounce/index.js\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/date-now/index.js\n ** module id = 4\n ** module chunks = 0\n **/","/* (The MIT License)\r\n *\r\n * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n * associated documentation files (the 'Software'), to deal in the Software without restriction,\r\n * including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included with all copies or\r\n * substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,\r\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991\r\n// Updated and bugfixed by Raynos @ https://gist.github.com/1638059\r\n// Expanded by Benvie @ https://github.com/Benvie/harmony-collections\r\n\r\nvoid function(global, undefined_, undefined){\r\n  var getProps = Object.getOwnPropertyNames,\r\n      defProp  = Object.defineProperty,\r\n      toSource = Function.prototype.toString,\r\n      create   = Object.create,\r\n      hasOwn   = Object.prototype.hasOwnProperty,\r\n      funcName = /^\\n?function\\s?(\\w*)?_?\\(/;\r\n\r\n\r\n  function define(object, key, value){\r\n    if (typeof key === 'function') {\r\n      value = key;\r\n      key = nameOf(value).replace(/_$/, '');\r\n    }\r\n    return defProp(object, key, { configurable: true, writable: true, value: value });\r\n  }\r\n\r\n  function nameOf(func){\r\n    return typeof func !== 'function'\r\n          ? '' : 'name' in func\r\n          ? func.name : toSource.call(func).match(funcName)[1];\r\n  }\r\n\r\n  // ############\r\n  // ### Data ###\r\n  // ############\r\n\r\n  var Data = (function(){\r\n    var dataDesc = { value: { writable: true, value: undefined } },\r\n        datalock = 'return function(k){if(k===s)return l}',\r\n        uids     = create(null),\r\n\r\n        createUID = function(){\r\n          var key = Math.random().toString(36).slice(2);\r\n          return key in uids ? createUID() : uids[key] = key;\r\n        },\r\n\r\n        globalID = createUID(),\r\n\r\n        storage = function(obj){\r\n          if (hasOwn.call(obj, globalID))\r\n            return obj[globalID];\r\n\r\n          if (!Object.isExtensible(obj))\r\n            throw new TypeError(\"Object must be extensible\");\r\n\r\n          var store = create(null);\r\n          defProp(obj, globalID, { value: store });\r\n          return store;\r\n        };\r\n\r\n    // common per-object storage area made visible by patching getOwnPropertyNames'\r\n    define(Object, function getOwnPropertyNames(obj){\r\n      var props = getProps(obj);\r\n      if (hasOwn.call(obj, globalID))\r\n        props.splice(props.indexOf(globalID), 1);\r\n      return props;\r\n    });\r\n\r\n    function Data(){\r\n      var puid = createUID(),\r\n          secret = {};\r\n\r\n      this.unlock = function(obj){\r\n        var store = storage(obj);\r\n        if (hasOwn.call(store, puid))\r\n          return store[puid](secret);\r\n\r\n        var data = create(null, dataDesc);\r\n        defProp(store, puid, {\r\n          value: new Function('s', 'l', datalock)(secret, data)\r\n        });\r\n        return data;\r\n      }\r\n    }\r\n\r\n    define(Data.prototype, function get(o){ return this.unlock(o).value });\r\n    define(Data.prototype, function set(o, v){ this.unlock(o).value = v });\r\n\r\n    return Data;\r\n  }());\r\n\r\n\r\n  var WM = (function(data){\r\n    var validate = function(key){\r\n      if (key == null || typeof key !== 'object' && typeof key !== 'function')\r\n        throw new TypeError(\"Invalid WeakMap key\");\r\n    }\r\n\r\n    var wrap = function(collection, value){\r\n      var store = data.unlock(collection);\r\n      if (store.value)\r\n        throw new TypeError(\"Object is already a WeakMap\");\r\n      store.value = value;\r\n    }\r\n\r\n    var unwrap = function(collection){\r\n      var storage = data.unlock(collection).value;\r\n      if (!storage)\r\n        throw new TypeError(\"WeakMap is not generic\");\r\n      return storage;\r\n    }\r\n\r\n    var initialize = function(weakmap, iterable){\r\n      if (iterable !== null && typeof iterable === 'object' && typeof iterable.forEach === 'function') {\r\n        iterable.forEach(function(item, i){\r\n          if (item instanceof Array && item.length === 2)\r\n            set.call(weakmap, iterable[i][0], iterable[i][1]);\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    function WeakMap(iterable){\r\n      if (this === global || this == null || this === WeakMap.prototype)\r\n        return new WeakMap(iterable);\r\n\r\n      wrap(this, new Data);\r\n      initialize(this, iterable);\r\n    }\r\n\r\n    function get(key){\r\n      validate(key);\r\n      var value = unwrap(this).get(key);\r\n      return value === undefined_ ? undefined : value;\r\n    }\r\n\r\n    function set(key, value){\r\n      validate(key);\r\n      // store a token for explicit undefined so that \"has\" works correctly\r\n      unwrap(this).set(key, value === undefined ? undefined_ : value);\r\n    }\r\n\r\n    function has(key){\r\n      validate(key);\r\n      return unwrap(this).get(key) !== undefined;\r\n    }\r\n\r\n    function delete_(key){\r\n      validate(key);\r\n      var data = unwrap(this),\r\n          had = data.get(key) !== undefined;\r\n      data.set(key, undefined);\r\n      return had;\r\n    }\r\n\r\n    function toString(){\r\n      unwrap(this);\r\n      return '[object WeakMap]';\r\n    }\r\n\r\n    try {\r\n      var src = ('return '+delete_).replace('e_', '\\\\u0065'),\r\n          del = new Function('unwrap', 'validate', src)(unwrap, validate);\r\n    } catch (e) {\r\n      var del = delete_;\r\n    }\r\n\r\n    var src = (''+Object).split('Object');\r\n    var stringifier = function toString(){\r\n      return src[0] + nameOf(this) + src[1];\r\n    };\r\n\r\n    define(stringifier, stringifier);\r\n\r\n    var prep = { __proto__: [] } instanceof Array\r\n      ? function(f){ f.__proto__ = stringifier }\r\n      : function(f){ define(f, stringifier) };\r\n\r\n    prep(WeakMap);\r\n\r\n    [toString, get, set, has, del].forEach(function(method){\r\n      define(WeakMap.prototype, method);\r\n      prep(method);\r\n    });\r\n\r\n    return WeakMap;\r\n  }(new Data));\r\n\r\n  var defaultCreator = Object.create\r\n    ? function(){ return Object.create(null) }\r\n    : function(){ return {} };\r\n\r\n  function createStorage(creator){\r\n    var weakmap = new WM;\r\n    creator || (creator = defaultCreator);\r\n\r\n    function storage(object, value){\r\n      if (value || arguments.length === 2) {\r\n        weakmap.set(object, value);\r\n      } else {\r\n        value = weakmap.get(object);\r\n        if (value === undefined) {\r\n          value = creator(object);\r\n          weakmap.set(object, value);\r\n        }\r\n      }\r\n      return value;\r\n    }\r\n\r\n    return storage;\r\n  }\r\n\r\n\r\n  if (typeof module !== 'undefined') {\r\n    module.exports = WM;\r\n  } else if (typeof exports !== 'undefined') {\r\n    exports.WeakMap = WM;\r\n  } else if (!('WeakMap' in global)) {\r\n    global.WeakMap = WM;\r\n  }\r\n\r\n  WM.createStorage = createStorage;\r\n  if (global.WeakMap)\r\n    global.WeakMap.createStorage = createStorage;\r\n}((0, eval)('this'));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/weakmap/weakmap.js\n ** module id = 5\n ** module chunks = 0\n **/","/*!\n\nCopyright (C) 2014-2016 by Andrea Giammarchi - @WebReflection\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\nfunction installCustomElements(window) {'use strict';\n\n  // DO NOT USE THIS FILE DIRECTLY, IT WON'T WORK\n  // THIS IS A PROJECT BASED ON A BUILD SYSTEM\n  // THIS FILE IS JUST WRAPPED UP RESULTING IN\n  // build/document-register-element.node.js\n\n  var\n    document = window.document,\n    Object = window.Object\n  ;\n\n  var htmlClass = (function (info) {\n    // (C) Andrea Giammarchi - @WebReflection - MIT Style\n    var\n      catchClass = /^[A-Z]+[a-z]/,\n      filterBy = function (re) {\n        var arr = [], tag;\n        for (tag in register) {\n          if (re.test(tag)) arr.push(tag);\n        }\n        return arr;\n      },\n      add = function (Class, tag) {\n        tag = tag.toLowerCase();\n        if (!(tag in register)) {\n          register[Class] = (register[Class] || []).concat(tag);\n          register[tag] = (register[tag.toUpperCase()] = Class);\n        }\n      },\n      register = (Object.create || Object)(null),\n      htmlClass = {},\n      i, section, tags, Class\n    ;\n    for (section in info) {\n      for (Class in info[section]) {\n        tags = info[section][Class];\n        register[Class] = tags;\n        for (i = 0; i < tags.length; i++) {\n          register[tags[i].toLowerCase()] =\n          register[tags[i].toUpperCase()] = Class;\n        }\n      }\n    }\n    htmlClass.get = function get(tagOrClass) {\n      return typeof tagOrClass === 'string' ?\n        (register[tagOrClass] || (catchClass.test(tagOrClass) ? [] : '')) :\n        filterBy(tagOrClass);\n    };\n    htmlClass.set = function set(tag, Class) {\n      return (catchClass.test(tag) ?\n        add(tag, Class) :\n        add(Class, tag)\n      ), htmlClass;\n    };\n    return htmlClass;\n  }({\n    \"collections\": {\n      \"HTMLAllCollection\": [\n        \"all\"\n      ],\n      \"HTMLCollection\": [\n        \"forms\"\n      ],\n      \"HTMLFormControlsCollection\": [\n        \"elements\"\n      ],\n      \"HTMLOptionsCollection\": [\n        \"options\"\n      ]\n    },\n    \"elements\": {\n      \"Element\": [\n        \"element\"\n      ],\n      \"HTMLAnchorElement\": [\n        \"a\"\n      ],\n      \"HTMLAppletElement\": [\n        \"applet\"\n      ],\n      \"HTMLAreaElement\": [\n        \"area\"\n      ],\n      \"HTMLAttachmentElement\": [\n        \"attachment\"\n      ],\n      \"HTMLAudioElement\": [\n        \"audio\"\n      ],\n      \"HTMLBRElement\": [\n        \"br\"\n      ],\n      \"HTMLBaseElement\": [\n        \"base\"\n      ],\n      \"HTMLBodyElement\": [\n        \"body\"\n      ],\n      \"HTMLButtonElement\": [\n        \"button\"\n      ],\n      \"HTMLCanvasElement\": [\n        \"canvas\"\n      ],\n      \"HTMLContentElement\": [\n        \"content\"\n      ],\n      \"HTMLDListElement\": [\n        \"dl\"\n      ],\n      \"HTMLDataElement\": [\n        \"data\"\n      ],\n      \"HTMLDataListElement\": [\n        \"datalist\"\n      ],\n      \"HTMLDetailsElement\": [\n        \"details\"\n      ],\n      \"HTMLDialogElement\": [\n        \"dialog\"\n      ],\n      \"HTMLDirectoryElement\": [\n        \"dir\"\n      ],\n      \"HTMLDivElement\": [\n        \"div\"\n      ],\n      \"HTMLDocument\": [\n        \"document\"\n      ],\n      \"HTMLElement\": [\n        \"element\",\n        \"abbr\",\n        \"address\",\n        \"article\",\n        \"aside\",\n        \"b\",\n        \"bdi\",\n        \"bdo\",\n        \"cite\",\n        \"code\",\n        \"command\",\n        \"dd\",\n        \"dfn\",\n        \"dt\",\n        \"em\",\n        \"figcaption\",\n        \"figure\",\n        \"footer\",\n        \"header\",\n        \"i\",\n        \"kbd\",\n        \"mark\",\n        \"nav\",\n        \"noscript\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"section\",\n        \"small\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"u\",\n        \"var\",\n        \"wbr\"\n      ],\n      \"HTMLEmbedElement\": [\n        \"embed\"\n      ],\n      \"HTMLFieldSetElement\": [\n        \"fieldset\"\n      ],\n      \"HTMLFontElement\": [\n        \"font\"\n      ],\n      \"HTMLFormElement\": [\n        \"form\"\n      ],\n      \"HTMLFrameElement\": [\n        \"frame\"\n      ],\n      \"HTMLFrameSetElement\": [\n        \"frameset\"\n      ],\n      \"HTMLHRElement\": [\n        \"hr\"\n      ],\n      \"HTMLHeadElement\": [\n        \"head\"\n      ],\n      \"HTMLHeadingElement\": [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n      ],\n      \"HTMLHtmlElement\": [\n        \"html\"\n      ],\n      \"HTMLIFrameElement\": [\n        \"iframe\"\n      ],\n      \"HTMLImageElement\": [\n        \"img\"\n      ],\n      \"HTMLInputElement\": [\n        \"input\"\n      ],\n      \"HTMLKeygenElement\": [\n        \"keygen\"\n      ],\n      \"HTMLLIElement\": [\n        \"li\"\n      ],\n      \"HTMLLabelElement\": [\n        \"label\"\n      ],\n      \"HTMLLegendElement\": [\n        \"legend\"\n      ],\n      \"HTMLLinkElement\": [\n        \"link\"\n      ],\n      \"HTMLMapElement\": [\n        \"map\"\n      ],\n      \"HTMLMarqueeElement\": [\n        \"marquee\"\n      ],\n      \"HTMLMediaElement\": [\n        \"media\"\n      ],\n      \"HTMLMenuElement\": [\n        \"menu\"\n      ],\n      \"HTMLMenuItemElement\": [\n        \"menuitem\"\n      ],\n      \"HTMLMetaElement\": [\n        \"meta\"\n      ],\n      \"HTMLMeterElement\": [\n        \"meter\"\n      ],\n      \"HTMLModElement\": [\n        \"del\",\n        \"ins\"\n      ],\n      \"HTMLOListElement\": [\n        \"ol\"\n      ],\n      \"HTMLObjectElement\": [\n        \"object\"\n      ],\n      \"HTMLOptGroupElement\": [\n        \"optgroup\"\n      ],\n      \"HTMLOptionElement\": [\n        \"option\"\n      ],\n      \"HTMLOutputElement\": [\n        \"output\"\n      ],\n      \"HTMLParagraphElement\": [\n        \"p\"\n      ],\n      \"HTMLParamElement\": [\n        \"param\"\n      ],\n      \"HTMLPictureElement\": [\n        \"picture\"\n      ],\n      \"HTMLPreElement\": [\n        \"pre\"\n      ],\n      \"HTMLProgressElement\": [\n        \"progress\"\n      ],\n      \"HTMLQuoteElement\": [\n        \"blockquote\",\n        \"q\",\n        \"quote\"\n      ],\n      \"HTMLScriptElement\": [\n        \"script\"\n      ],\n      \"HTMLSelectElement\": [\n        \"select\"\n      ],\n      \"HTMLShadowElement\": [\n        \"shadow\"\n      ],\n      \"HTMLSlotElement\": [\n        \"slot\"\n      ],\n      \"HTMLSourceElement\": [\n        \"source\"\n      ],\n      \"HTMLSpanElement\": [\n        \"span\"\n      ],\n      \"HTMLStyleElement\": [\n        \"style\"\n      ],\n      \"HTMLTableCaptionElement\": [\n        \"caption\"\n      ],\n      \"HTMLTableCellElement\": [\n        \"td\",\n        \"th\"\n      ],\n      \"HTMLTableColElement\": [\n        \"col\",\n        \"colgroup\"\n      ],\n      \"HTMLTableElement\": [\n        \"table\"\n      ],\n      \"HTMLTableRowElement\": [\n        \"tr\"\n      ],\n      \"HTMLTableSectionElement\": [\n        \"thead\",\n        \"tbody\",\n        \"tfoot\"\n      ],\n      \"HTMLTemplateElement\": [\n        \"template\"\n      ],\n      \"HTMLTextAreaElement\": [\n        \"textarea\"\n      ],\n      \"HTMLTimeElement\": [\n        \"time\"\n      ],\n      \"HTMLTitleElement\": [\n        \"title\"\n      ],\n      \"HTMLTrackElement\": [\n        \"track\"\n      ],\n      \"HTMLUListElement\": [\n        \"ul\"\n      ],\n      \"HTMLUnknownElement\": [\n        \"unknown\",\n        \"vhgroupv\",\n        \"vkeygen\"\n      ],\n      \"HTMLVideoElement\": [\n        \"video\"\n      ]\n    },\n    \"nodes\": {\n      \"Attr\": [\n        \"node\"\n      ],\n      \"Audio\": [\n        \"audio\"\n      ],\n      \"CDATASection\": [\n        \"node\"\n      ],\n      \"CharacterData\": [\n        \"node\"\n      ],\n      \"Comment\": [\n        \"#comment\"\n      ],\n      \"Document\": [\n        \"#document\"\n      ],\n      \"DocumentFragment\": [\n        \"#document-fragment\"\n      ],\n      \"DocumentType\": [\n        \"node\"\n      ],\n      \"HTMLDocument\": [\n        \"#document\"\n      ],\n      \"Image\": [\n        \"img\"\n      ],\n      \"Option\": [\n        \"option\"\n      ],\n      \"ProcessingInstruction\": [\n        \"node\"\n      ],\n      \"ShadowRoot\": [\n        \"#shadow-root\"\n      ],\n      \"Text\": [\n        \"#text\"\n      ],\n      \"XMLDocument\": [\n        \"xml\"\n      ]\n    }\n  }));\n  \n  \n    var\n    // V0 polyfill entry\n    REGISTER_ELEMENT = 'registerElement',\n  \n    // IE < 11 only + old WebKit for attributes + feature detection\n    EXPANDO_UID = '__' + REGISTER_ELEMENT + (window.Math.random() * 10e4 >> 0),\n  \n    // shortcuts and costants\n    ADD_EVENT_LISTENER = 'addEventListener',\n    ATTACHED = 'attached',\n    CALLBACK = 'Callback',\n    DETACHED = 'detached',\n    EXTENDS = 'extends',\n  \n    ATTRIBUTE_CHANGED_CALLBACK = 'attributeChanged' + CALLBACK,\n    ATTACHED_CALLBACK = ATTACHED + CALLBACK,\n    CONNECTED_CALLBACK = 'connected' + CALLBACK,\n    DISCONNECTED_CALLBACK = 'disconnected' + CALLBACK,\n    CREATED_CALLBACK = 'created' + CALLBACK,\n    DETACHED_CALLBACK = DETACHED + CALLBACK,\n  \n    ADDITION = 'ADDITION',\n    MODIFICATION = 'MODIFICATION',\n    REMOVAL = 'REMOVAL',\n  \n    DOM_ATTR_MODIFIED = 'DOMAttrModified',\n    DOM_CONTENT_LOADED = 'DOMContentLoaded',\n    DOM_SUBTREE_MODIFIED = 'DOMSubtreeModified',\n  \n    PREFIX_TAG = '<',\n    PREFIX_IS = '=',\n  \n    // valid and invalid node names\n    validName = /^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,\n    invalidNames = [\n      'ANNOTATION-XML',\n      'COLOR-PROFILE',\n      'FONT-FACE',\n      'FONT-FACE-SRC',\n      'FONT-FACE-URI',\n      'FONT-FACE-FORMAT',\n      'FONT-FACE-NAME',\n      'MISSING-GLYPH'\n    ],\n  \n    // registered types and their prototypes\n    types = [],\n    protos = [],\n  \n    // to query subnodes\n    query = '',\n  \n    // html shortcut used to feature detect\n    documentElement = document.documentElement,\n  \n    // ES5 inline helpers || basic patches\n    indexOf = types.indexOf || function (v) {\n      for(var i = this.length; i-- && this[i] !== v;){}\n      return i;\n    },\n  \n    // other helpers / shortcuts\n    OP = Object.prototype,\n    hOP = OP.hasOwnProperty,\n    iPO = OP.isPrototypeOf,\n  \n    defineProperty = Object.defineProperty,\n    empty = [],\n    gOPD = Object.getOwnPropertyDescriptor,\n    gOPN = Object.getOwnPropertyNames,\n    gPO = Object.getPrototypeOf,\n    sPO = Object.setPrototypeOf,\n  \n    // jshint proto: true\n    hasProto = !!Object.__proto__,\n  \n    // V1 helpers\n    fixGetClass = false,\n    DRECEV1 = '__dreCEv1',\n    customElements = window.customElements,\n    usableCustomElements = !!(\n      customElements &&\n      customElements.define &&\n      customElements.get &&\n      customElements.whenDefined\n    ),\n    Dict = Object.create || Object,\n    Map = window.Map || function Map() {\n      var K = [], V = [], i;\n      return {\n        get: function (k) {\n          return V[indexOf.call(K, k)];\n        },\n        set: function (k, v) {\n          i = indexOf.call(K, k);\n          if (i < 0) V[K.push(k) - 1] = v;\n          else V[i] = v;\n        }\n      };\n    },\n    Promise = window.Promise || function (fn) {\n      var\n        notify = [],\n        done = false,\n        p = {\n          'catch': function () {\n            return p;\n          },\n          'then': function (cb) {\n            notify.push(cb);\n            if (done) setTimeout(resolve, 1);\n            return p;\n          }\n        }\n      ;\n      function resolve(value) {\n        done = true;\n        while (notify.length) notify.shift()(value);\n      }\n      fn(resolve);\n      return p;\n    },\n    justCreated = false,\n    constructors = Dict(null),\n    waitingList = Dict(null),\n    nodeNames = new Map(),\n    secondArgument = String,\n  \n    // used to create unique instances\n    create = Object.create || function Bridge(proto) {\n      // silly broken polyfill probably ever used but short enough to work\n      return proto ? ((Bridge.prototype = proto), new Bridge()) : this;\n    },\n  \n    // will set the prototype if possible\n    // or copy over all properties\n    setPrototype = sPO || (\n      hasProto ?\n        function (o, p) {\n          o.__proto__ = p;\n          return o;\n        } : (\n      (gOPN && gOPD) ?\n        (function(){\n          function setProperties(o, p) {\n            for (var\n              key,\n              names = gOPN(p),\n              i = 0, length = names.length;\n              i < length; i++\n            ) {\n              key = names[i];\n              if (!hOP.call(o, key)) {\n                defineProperty(o, key, gOPD(p, key));\n              }\n            }\n          }\n          return function (o, p) {\n            do {\n              setProperties(o, p);\n            } while ((p = gPO(p)) && !iPO.call(p, o));\n            return o;\n          };\n        }()) :\n        function (o, p) {\n          for (var key in p) {\n            o[key] = p[key];\n          }\n          return o;\n        }\n    )),\n  \n    // DOM shortcuts and helpers, if any\n  \n    MutationObserver = window.MutationObserver ||\n                       window.WebKitMutationObserver,\n  \n    HTMLElementPrototype = (\n      window.HTMLElement ||\n      window.Element ||\n      window.Node\n    ).prototype,\n  \n    IE8 = !iPO.call(HTMLElementPrototype, documentElement),\n  \n    safeProperty = IE8 ? function (o, k, d) {\n      o[k] = d.value;\n      return o;\n    } : defineProperty,\n  \n    isValidNode = IE8 ?\n      function (node) {\n        return node.nodeType === 1;\n      } :\n      function (node) {\n        return iPO.call(HTMLElementPrototype, node);\n      },\n  \n    targets = IE8 && [],\n  \n    attachShadow = HTMLElementPrototype.attachShadow,\n    cloneNode = HTMLElementPrototype.cloneNode,\n    dispatchEvent = HTMLElementPrototype.dispatchEvent,\n    getAttribute = HTMLElementPrototype.getAttribute,\n    hasAttribute = HTMLElementPrototype.hasAttribute,\n    removeAttribute = HTMLElementPrototype.removeAttribute,\n    setAttribute = HTMLElementPrototype.setAttribute,\n  \n    // replaced later on\n    createElement = document.createElement,\n    patchedCreateElement = createElement,\n  \n    // shared observer for all attributes\n    attributesObserver = MutationObserver && {\n      attributes: true,\n      characterData: true,\n      attributeOldValue: true\n    },\n  \n    // useful to detect only if there's no MutationObserver\n    DOMAttrModified = MutationObserver || function(e) {\n      doesNotSupportDOMAttrModified = false;\n      documentElement.removeEventListener(\n        DOM_ATTR_MODIFIED,\n        DOMAttrModified\n      );\n    },\n  \n    // will both be used to make DOMNodeInserted asynchronous\n    asapQueue,\n    asapTimer = 0,\n  \n    // internal flags\n    setListener = false,\n    doesNotSupportDOMAttrModified = true,\n    dropDomContentLoaded = true,\n  \n    // needed for the innerHTML helper\n    notFromInnerHTMLHelper = true,\n  \n    // optionally defined later on\n    onSubtreeModified,\n    callDOMAttrModified,\n    getAttributesMirror,\n    observer,\n    observe,\n  \n    // based on setting prototype capability\n    // will check proto or the expando attribute\n    // in order to setup the node once\n    patchIfNotAlready,\n    patch\n  ;\n  \n  // only if needed\n  if (!(REGISTER_ELEMENT in document)) {\n  \n    if (sPO || hasProto) {\n        patchIfNotAlready = function (node, proto) {\n          if (!iPO.call(proto, node)) {\n            setupNode(node, proto);\n          }\n        };\n        patch = setupNode;\n    } else {\n        patchIfNotAlready = function (node, proto) {\n          if (!node[EXPANDO_UID]) {\n            node[EXPANDO_UID] = Object(true);\n            setupNode(node, proto);\n          }\n        };\n        patch = patchIfNotAlready;\n    }\n  \n    if (IE8) {\n      doesNotSupportDOMAttrModified = false;\n      (function (){\n        var\n          descriptor = gOPD(HTMLElementPrototype, ADD_EVENT_LISTENER),\n          addEventListener = descriptor.value,\n          patchedRemoveAttribute = function (name) {\n            var e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n            e.attrName = name;\n            e.prevValue = getAttribute.call(this, name);\n            e.newValue = null;\n            e[REMOVAL] = e.attrChange = 2;\n            removeAttribute.call(this, name);\n            dispatchEvent.call(this, e);\n          },\n          patchedSetAttribute = function (name, value) {\n            var\n              had = hasAttribute.call(this, name),\n              old = had && getAttribute.call(this, name),\n              e = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true})\n            ;\n            setAttribute.call(this, name, value);\n            e.attrName = name;\n            e.prevValue = had ? old : null;\n            e.newValue = value;\n            if (had) {\n              e[MODIFICATION] = e.attrChange = 1;\n            } else {\n              e[ADDITION] = e.attrChange = 0;\n            }\n            dispatchEvent.call(this, e);\n          },\n          onPropertyChange = function (e) {\n            // jshint eqnull:true\n            var\n              node = e.currentTarget,\n              superSecret = node[EXPANDO_UID],\n              propertyName = e.propertyName,\n              event\n            ;\n            if (superSecret.hasOwnProperty(propertyName)) {\n              superSecret = superSecret[propertyName];\n              event = new CustomEvent(DOM_ATTR_MODIFIED, {bubbles: true});\n              event.attrName = superSecret.name;\n              event.prevValue = superSecret.value || null;\n              event.newValue = (superSecret.value = node[propertyName] || null);\n              if (event.prevValue == null) {\n                event[ADDITION] = event.attrChange = 0;\n              } else {\n                event[MODIFICATION] = event.attrChange = 1;\n              }\n              dispatchEvent.call(node, event);\n            }\n          }\n        ;\n        descriptor.value = function (type, handler, capture) {\n          if (\n            type === DOM_ATTR_MODIFIED &&\n            this[ATTRIBUTE_CHANGED_CALLBACK] &&\n            this.setAttribute !== patchedSetAttribute\n          ) {\n            this[EXPANDO_UID] = {\n              className: {\n                name: 'class',\n                value: this.className\n              }\n            };\n            this.setAttribute = patchedSetAttribute;\n            this.removeAttribute = patchedRemoveAttribute;\n            addEventListener.call(this, 'propertychange', onPropertyChange);\n          }\n          addEventListener.call(this, type, handler, capture);\n        };\n        defineProperty(HTMLElementPrototype, ADD_EVENT_LISTENER, descriptor);\n      }());\n    } else if (!MutationObserver) {\n      documentElement[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, DOMAttrModified);\n      documentElement.setAttribute(EXPANDO_UID, 1);\n      documentElement.removeAttribute(EXPANDO_UID);\n      if (doesNotSupportDOMAttrModified) {\n        onSubtreeModified = function (e) {\n          var\n            node = this,\n            oldAttributes,\n            newAttributes,\n            key\n          ;\n          if (node === e.target) {\n            oldAttributes = node[EXPANDO_UID];\n            node[EXPANDO_UID] = (newAttributes = getAttributesMirror(node));\n            for (key in newAttributes) {\n              if (!(key in oldAttributes)) {\n                // attribute was added\n                return callDOMAttrModified(\n                  0,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  ADDITION\n                );\n              } else if (newAttributes[key] !== oldAttributes[key]) {\n                // attribute was changed\n                return callDOMAttrModified(\n                  1,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  MODIFICATION\n                );\n              }\n            }\n            // checking if it has been removed\n            for (key in oldAttributes) {\n              if (!(key in newAttributes)) {\n                // attribute removed\n                return callDOMAttrModified(\n                  2,\n                  node,\n                  key,\n                  oldAttributes[key],\n                  newAttributes[key],\n                  REMOVAL\n                );\n              }\n            }\n          }\n        };\n        callDOMAttrModified = function (\n          attrChange,\n          currentTarget,\n          attrName,\n          prevValue,\n          newValue,\n          action\n        ) {\n          var e = {\n            attrChange: attrChange,\n            currentTarget: currentTarget,\n            attrName: attrName,\n            prevValue: prevValue,\n            newValue: newValue\n          };\n          e[action] = attrChange;\n          onDOMAttrModified(e);\n        };\n        getAttributesMirror = function (node) {\n          for (var\n            attr, name,\n            result = {},\n            attributes = node.attributes,\n            i = 0, length = attributes.length;\n            i < length; i++\n          ) {\n            attr = attributes[i];\n            name = attr.name;\n            if (name !== 'setAttribute') {\n              result[name] = attr.value;\n            }\n          }\n          return result;\n        };\n      }\n    }\n  \n    // set as enumerable, writable and configurable\n    document[REGISTER_ELEMENT] = function registerElement(type, options) {\n      upperType = type.toUpperCase();\n      if (!setListener) {\n        // only first time document.registerElement is used\n        // we need to set this listener\n        // setting it by default might slow down for no reason\n        setListener = true;\n        if (MutationObserver) {\n          observer = (function(attached, detached){\n            function checkEmAll(list, callback) {\n              for (var i = 0, length = list.length; i < length; callback(list[i++])){}\n            }\n            return new MutationObserver(function (records) {\n              for (var\n                current, node, newValue,\n                i = 0, length = records.length; i < length; i++\n              ) {\n                current = records[i];\n                if (current.type === 'childList') {\n                  checkEmAll(current.addedNodes, attached);\n                  checkEmAll(current.removedNodes, detached);\n                } else {\n                  node = current.target;\n                  if (notFromInnerHTMLHelper &&\n                      node[ATTRIBUTE_CHANGED_CALLBACK] &&\n                      current.attributeName !== 'style') {\n                    newValue = getAttribute.call(node, current.attributeName);\n                    if (newValue !== current.oldValue) {\n                      node[ATTRIBUTE_CHANGED_CALLBACK](\n                        current.attributeName,\n                        current.oldValue,\n                        newValue\n                      );\n                    }\n                  }\n                }\n              }\n            });\n          }(executeAction(ATTACHED), executeAction(DETACHED)));\n          observe = function (node) {\n            observer.observe(\n              node,\n              {\n                childList: true,\n                subtree: true\n              }\n            );\n            return node;\n          };\n          observe(document);\n          if (attachShadow) {\n            HTMLElementPrototype.attachShadow = function () {\n              return observe(attachShadow.apply(this, arguments));\n            };\n          }\n        } else {\n          asapQueue = [];\n          document[ADD_EVENT_LISTENER]('DOMNodeInserted', onDOMNode(ATTACHED));\n          document[ADD_EVENT_LISTENER]('DOMNodeRemoved', onDOMNode(DETACHED));\n        }\n  \n        document[ADD_EVENT_LISTENER](DOM_CONTENT_LOADED, onReadyStateChange);\n        document[ADD_EVENT_LISTENER]('readystatechange', onReadyStateChange);\n  \n        HTMLElementPrototype.cloneNode = function (deep) {\n          var\n            node = cloneNode.call(this, !!deep),\n            i = getTypeIndex(node)\n          ;\n          if (-1 < i) patch(node, protos[i]);\n          if (deep) loopAndSetup(node.querySelectorAll(query));\n          return node;\n        };\n      }\n  \n      if (-2 < (\n        indexOf.call(types, PREFIX_IS + upperType) +\n        indexOf.call(types, PREFIX_TAG + upperType)\n      )) {\n        throwTypeError(type);\n      }\n  \n      if (!validName.test(upperType) || -1 < indexOf.call(invalidNames, upperType)) {\n        throw new Error('The type ' + type + ' is invalid');\n      }\n  \n      var\n        constructor = function () {\n          return extending ?\n            document.createElement(nodeName, upperType) :\n            document.createElement(nodeName);\n        },\n        opt = options || OP,\n        extending = hOP.call(opt, EXTENDS),\n        nodeName = extending ? options[EXTENDS].toUpperCase() : upperType,\n        upperType,\n        i\n      ;\n  \n      if (extending && -1 < (\n        indexOf.call(types, PREFIX_TAG + nodeName)\n      )) {\n        throwTypeError(nodeName);\n      }\n  \n      i = types.push((extending ? PREFIX_IS : PREFIX_TAG) + upperType) - 1;\n  \n      query = query.concat(\n        query.length ? ',' : '',\n        extending ? nodeName + '[is=\"' + type.toLowerCase() + '\"]' : nodeName\n      );\n  \n      constructor.prototype = (\n        protos[i] = hOP.call(opt, 'prototype') ?\n          opt.prototype :\n          create(HTMLElementPrototype)\n      );\n  \n      loopAndVerify(\n        document.querySelectorAll(query),\n        ATTACHED\n      );\n  \n      return constructor;\n    };\n  \n    document.createElement = (patchedCreateElement = function (localName, typeExtension) {\n      var\n        is = getIs(typeExtension),\n        node = is ?\n          createElement.call(document, localName, secondArgument(is)) :\n          createElement.call(document, localName),\n        name = '' + localName,\n        i = indexOf.call(\n          types,\n          (is ? PREFIX_IS : PREFIX_TAG) +\n          (is || name).toUpperCase()\n        ),\n        setup = -1 < i\n      ;\n      if (is) {\n        node.setAttribute('is', is = is.toLowerCase());\n        if (setup) {\n          setup = isInQSA(name.toUpperCase(), is);\n        }\n      }\n      notFromInnerHTMLHelper = !document.createElement.innerHTMLHelper;\n      if (setup) patch(node, protos[i]);\n      return node;\n    });\n  \n  }\n  \n  function ASAP() {\n    var queue = asapQueue.splice(0, asapQueue.length);\n    asapTimer = 0;\n    while (queue.length) {\n      queue.shift().call(\n        null, queue.shift()\n      );\n    }\n  }\n  \n  function loopAndVerify(list, action) {\n    for (var i = 0, length = list.length; i < length; i++) {\n      verifyAndSetupAndAction(list[i], action);\n    }\n  }\n  \n  function loopAndSetup(list) {\n    for (var i = 0, length = list.length, node; i < length; i++) {\n      node = list[i];\n      patch(node, protos[getTypeIndex(node)]);\n    }\n  }\n  \n  function executeAction(action) {\n    return function (node) {\n      if (isValidNode(node)) {\n        verifyAndSetupAndAction(node, action);\n        loopAndVerify(\n          node.querySelectorAll(query),\n          action\n        );\n      }\n    };\n  }\n  \n  function getTypeIndex(target) {\n    var\n      is = getAttribute.call(target, 'is'),\n      nodeName = target.nodeName.toUpperCase(),\n      i = indexOf.call(\n        types,\n        is ?\n            PREFIX_IS + is.toUpperCase() :\n            PREFIX_TAG + nodeName\n      )\n    ;\n    return is && -1 < i && !isInQSA(nodeName, is) ? -1 : i;\n  }\n  \n  function isInQSA(name, type) {\n    return -1 < query.indexOf(name + '[is=\"' + type + '\"]');\n  }\n  \n  function onDOMAttrModified(e) {\n    var\n      node = e.currentTarget,\n      attrChange = e.attrChange,\n      attrName = e.attrName,\n      target = e.target,\n      addition = e[ADDITION] || 2,\n      removal = e[REMOVAL] || 3\n    ;\n    if (notFromInnerHTMLHelper &&\n        (!target || target === node) &&\n        node[ATTRIBUTE_CHANGED_CALLBACK] &&\n        attrName !== 'style' && (\n          e.prevValue !== e.newValue ||\n          // IE9, IE10, and Opera 12 gotcha\n          e.newValue === '' && (\n            attrChange === addition ||\n            attrChange === removal\n          )\n    )) {\n      node[ATTRIBUTE_CHANGED_CALLBACK](\n        attrName,\n        attrChange === addition ? null : e.prevValue,\n        attrChange === removal ? null : e.newValue\n      );\n    }\n  }\n  \n  function onDOMNode(action) {\n    var executor = executeAction(action);\n    return function (e) {\n      asapQueue.push(executor, e.target);\n      if (asapTimer) clearTimeout(asapTimer);\n      asapTimer = setTimeout(ASAP, 1);\n    };\n  }\n  \n  function onReadyStateChange(e) {\n    if (dropDomContentLoaded) {\n      dropDomContentLoaded = false;\n      e.currentTarget.removeEventListener(DOM_CONTENT_LOADED, onReadyStateChange);\n    }\n    loopAndVerify(\n      (e.target || document).querySelectorAll(query),\n      e.detail === DETACHED ? DETACHED : ATTACHED\n    );\n    if (IE8) purge();\n  }\n  \n  function patchedSetAttribute(name, value) {\n    // jshint validthis:true\n    var self = this;\n    setAttribute.call(self, name, value);\n    onSubtreeModified.call(self, {target: self});\n  }\n  \n  function setupNode(node, proto) {\n    setPrototype(node, proto);\n    if (observer) {\n      observer.observe(node, attributesObserver);\n    } else {\n      if (doesNotSupportDOMAttrModified) {\n        node.setAttribute = patchedSetAttribute;\n        node[EXPANDO_UID] = getAttributesMirror(node);\n        node[ADD_EVENT_LISTENER](DOM_SUBTREE_MODIFIED, onSubtreeModified);\n      }\n      node[ADD_EVENT_LISTENER](DOM_ATTR_MODIFIED, onDOMAttrModified);\n    }\n    if (node[CREATED_CALLBACK] && notFromInnerHTMLHelper) {\n      node.created = true;\n      node[CREATED_CALLBACK]();\n      node.created = false;\n    }\n  }\n  \n  function purge() {\n    for (var\n      node,\n      i = 0,\n      length = targets.length;\n      i < length; i++\n    ) {\n      node = targets[i];\n      if (!documentElement.contains(node)) {\n        length--;\n        targets.splice(i--, 1);\n        verifyAndSetupAndAction(node, DETACHED);\n      }\n    }\n  }\n  \n  function throwTypeError(type) {\n    throw new Error('A ' + type + ' type is already registered');\n  }\n  \n  function verifyAndSetupAndAction(node, action) {\n    var\n      fn,\n      i = getTypeIndex(node)\n    ;\n    if (-1 < i) {\n      patchIfNotAlready(node, protos[i]);\n      i = 0;\n      if (action === ATTACHED && !node[ATTACHED]) {\n        node[DETACHED] = false;\n        node[ATTACHED] = true;\n        i = 1;\n        if (IE8 && indexOf.call(targets, node) < 0) {\n          targets.push(node);\n        }\n      } else if (action === DETACHED && !node[DETACHED]) {\n        node[ATTACHED] = false;\n        node[DETACHED] = true;\n        i = 1;\n      }\n      if (i && (fn = node[action + CALLBACK])) fn.call(node);\n    }\n  }\n  \n  \n  \n  // V1 in da House!\n  function CustomElementRegistry() {}\n  \n  CustomElementRegistry.prototype = {\n    constructor: CustomElementRegistry,\n    // a workaround for the stubborn WebKit\n    define: usableCustomElements ?\n      function (name, Class, options) {\n        if (options) {\n          CERDefine(name, Class, options);\n        } else {\n          var NAME = name.toUpperCase();\n          constructors[NAME] = {\n            constructor: Class,\n            create: [NAME]\n          };\n          nodeNames.set(Class, NAME);\n          customElements.define(name, Class);\n        }\n      } :\n      CERDefine,\n    get: usableCustomElements ?\n      function (name) {\n        return customElements.get(name) || get(name);\n      } :\n      get,\n    whenDefined: usableCustomElements ?\n      function (name) {\n        return Promise.race([\n          customElements.whenDefined(name),\n          whenDefined(name)\n        ]);\n      } :\n      whenDefined\n  };\n  \n  function CERDefine(name, Class, options) {\n    var\n      is = options && options[EXTENDS] || '',\n      CProto = Class.prototype,\n      proto = create(CProto),\n      attributes = Class.observedAttributes || empty,\n      definition = {prototype: proto}\n    ;\n    // TODO: is this needed at all since it's inherited?\n    // defineProperty(proto, 'constructor', {value: Class});\n    safeProperty(proto, CREATED_CALLBACK, {\n        value: function () {\n          if (justCreated) justCreated = false;\n          else if (!this[DRECEV1]) {\n            this[DRECEV1] = true;\n            new Class(this);\n            if (CProto[CREATED_CALLBACK])\n              CProto[CREATED_CALLBACK].call(this);\n            var info = constructors[nodeNames.get(Class)];\n            if (!usableCustomElements || info.create.length > 1) {\n              notifyAttributes(this);\n            }\n          }\n      }\n    });\n    safeProperty(proto, ATTRIBUTE_CHANGED_CALLBACK, {\n      value: function (name) {\n        if (-1 < indexOf.call(attributes, name))\n          CProto[ATTRIBUTE_CHANGED_CALLBACK].apply(this, arguments);\n      }\n    });\n    if (CProto[CONNECTED_CALLBACK]) {\n      safeProperty(proto, ATTACHED_CALLBACK, {\n        value: CProto[CONNECTED_CALLBACK]\n      });\n    }\n    if (CProto[DISCONNECTED_CALLBACK]) {\n      safeProperty(proto, DETACHED_CALLBACK, {\n        value: CProto[DISCONNECTED_CALLBACK]\n      });\n    }\n    if (is) definition[EXTENDS] = is;\n    name = name.toUpperCase();\n    constructors[name] = {\n      constructor: Class,\n      create: is ? [is, secondArgument(name)] : [name]\n    };\n    nodeNames.set(Class, name);\n    document[REGISTER_ELEMENT](name.toLowerCase(), definition);\n    whenDefined(name);\n    waitingList[name].r();\n  }\n  \n  function get(name) {\n    var info = constructors[name.toUpperCase()];\n    return info && info.constructor;\n  }\n  \n  function getIs(options) {\n    return typeof options === 'string' ?\n        options : (options && options.is || '');\n  }\n  \n  function notifyAttributes(self) {\n    var\n      callback = self[ATTRIBUTE_CHANGED_CALLBACK],\n      attributes = callback ? self.attributes : empty,\n      i = attributes.length,\n      attribute\n    ;\n    while (i--) {\n      attribute =  attributes[i]; // || attributes.item(i);\n      callback.call(\n        self,\n        attribute.name || attribute.nodeName,\n        null,\n        attribute.value || attribute.nodeValue\n      );\n    }\n  }\n  \n  function whenDefined(name) {\n    name = name.toUpperCase();\n    if (!(name in waitingList)) {\n      waitingList[name] = {};\n      waitingList[name].p = new Promise(function (resolve) {\n        waitingList[name].r = resolve;\n      });\n    }\n    return waitingList[name].p;\n  }\n  \n  function polyfillV1() {\n    if (customElements) delete window.customElements;\n    defineProperty(window, 'customElements', {\n      configurable: true,\n      value: new CustomElementRegistry()\n    });\n    defineProperty(window, 'CustomElementRegistry', {\n      configurable: true,\n      value: CustomElementRegistry\n    });\n    for (var\n      patchClass = function (name) {\n        var Class = window[name];\n        if (Class) {\n          window[name] = function CustomElementsV1(self) {\n            var info, isNative;\n            if (!self) self = this;\n            if (!self[DRECEV1]) {\n              justCreated = true;\n              info = constructors[nodeNames.get(self.constructor)];\n              isNative = usableCustomElements && info.create.length === 1;\n              self = isNative ?\n                Reflect.construct(Class, empty, info.constructor) :\n                document.createElement.apply(document, info.create);\n              self[DRECEV1] = true;\n              justCreated = false;\n              if (!isNative) notifyAttributes(self);\n            }\n            return self;\n          };\n          window[name].prototype = Class.prototype;\n          try {\n            Class.prototype.constructor = window[name];\n          } catch(WebKit) {\n            fixGetClass = true;\n            defineProperty(Class, DRECEV1, {value: window[name]});\n          }\n        }\n      },\n      Classes = htmlClass.get(/^HTML[A-Z]*[a-z]/),\n      i = Classes.length;\n      i--;\n      patchClass(Classes[i])\n    ) {}\n    (document.createElement = function (name, options) {\n      var is = getIs(options);\n      return is ?\n        patchedCreateElement.call(this, name, secondArgument(is)) :\n        patchedCreateElement.call(this, name);\n    });\n  }\n  \n  // if customElements is not there at all\n  if (!customElements) polyfillV1();\n  else {\n    // if available test extends work as expected\n    try {\n      (function (DRE, options, name) {\n        options[EXTENDS] = 'a';\n        DRE.prototype = create(HTMLAnchorElement.prototype);\n        DRE.prototype.constructor = DRE;\n        window.customElements.define(name, DRE, options);\n        if (\n          getAttribute.call(document.createElement('a', {is: name}), 'is') !== name ||\n          (usableCustomElements && getAttribute.call(new DRE(), 'is') !== name)\n        ) {\n          throw options;\n        }\n      }(\n        function DRE() {\n          return Reflect.construct(HTMLAnchorElement, [], DRE);\n        },\n        {},\n        'document-register-element-a'\n      ));\n    } catch(o_O) {\n      // or force the polyfill if not\n      // and keep internal original reference\n      polyfillV1();\n    }\n  }\n  \n  try {\n    createElement.call(document, 'a', 'a');\n  } catch(FireFox) {\n    secondArgument = function (is) {\n      return {is: is};\n    };\n  }\n  \n}\n\ninstallCustomElements(global);\n\nmodule.exports = installCustomElements;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/document-register-element/build/document-register-element.node.js\n ** module id = 6\n ** module chunks = 0\n **/","//@flow\nimport {PhotonComponent} from './core/PhotonComponent'\nimport {PropTypes, PropType} from './core/PropTypes'\nimport {PropRules, PropRule} from './core/PropRules'\nimport {definePhoton} from './core/definePhoton'\n\nexport * as vdom from 'incremental-dom';\n\nexport * from './core/definePhoton'\nexport * from './core/emit'\nexport * from './core/PhotonComponent'\nexport * from './core/PropRules'\nexport * from './core/PropTypes'\n\nexport * from './util/iDOMHelpers'\nexport * from './util/isUtil'\n\nexport const PhotonCore = {\n     Component: PhotonComponent,\n     PropTypes: PropTypes,\n     PropType: PropType,\n     PropRules: PropRules,\n     PropRule: PropRule,\n     define: definePhoton\n};\n//\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// @flow\n\nimport {PhotonComponent} from './PhotonComponent';\nimport {PropRules, PropRule} from './PropRules';\nimport {PropType} from './PropTypes';\n\n// Factory method: creates a new PhotonElement managed by given componentClass\n// this is then registered with customElements.define() at the end of this function.\nexport function definePhoton(componentClass:Class<PhotonComponent>, baseHtmlClass:any = HTMLElement, extendsTag:string = null) {\n\n    let propTypes:{[k:string]:PropType} = componentClass.propTypes;\n\n    // Note: each time this function is called we create a new Class \"PhotonElement\" on the fly!\n    class PhotonElement extends baseHtmlClass {\n\n        static get observedAttributes() {\n            return getObservedAttributes(propTypes);\n        }\n\n        _photon:PhotonComponent;\n\n        constructor(self:PhotonElement) {\n            self = super(self);\n            let propsValues:{[k:string]:any} = {};\n            let photon:PhotonComponent = self._photon = new componentClass();\n            photon.elem = self;\n            photon.props = createProps(Object.keys(propTypes), propsValues);\n            photon.propRules = createPropRules(propTypes, propsValues, photon.mustRender);\n\n            // create element properties\n            Object.defineProperties(self, buildPropsConfig(photon));\n            // expose public methods\n            photon.publicMethods.map((name:string) => {\n                let p:any = photon;\n                self[name] = p[name].bind(photon);\n            });\n\n            photon.configurePropRules(photon.propRules);\n            return self;\n        }\n\n        connectedCallback() {\n            let _photon:PhotonComponent = this._photon;\n            if (!_photon._flags.isInitialized) {\n                _photon.initialize();\n                _photon._flags.isInitialized = true;\n            }\n            _photon.connectedCallback();\n        }\n\n        disconnectedCallback() {\n            this._photon.disconnectedCallback();\n        }\n\n        attributeChangedCallback(attrName:string, oldVal:string, newVal:string) {\n            this._photon.attributeChangedCallback(attrName, oldVal, newVal);\n        }\n\n    }\n    let ext = extendsTag ? {extends: extendsTag} : undefined;\n    window.customElements.define(componentClass.is, PhotonElement, ext);\n\n    return PhotonElement;\n}\n\nfunction getObservedAttributes(propTypes:{[k:string]:PropType}):string[] {\n    let result:string[] = [];\n    Object.keys(propTypes).forEach(function (name:string) {\n        let propType:PropType = propTypes[name];\n        propType.name = name;\n        if (propType._attribute) {\n            result.push(propType._getAttrName());\n        }\n    });\n    //console.log('getObservedAttributes', result);\n    return result;\n}\n\nfunction createProps(names:string[], values:{[k:string]:any}) {\n    let config:any = {};\n    names.forEach((name:string) => {\n        config[name] = {\n            enumerable: true,\n            get: () => {\n                return values[name];\n            }\n        };\n    });\n    return Object.defineProperties({}, config);\n}\n\nfunction createPropRules(propTypes:{[k:string]:PropType},\n                         propsValues:any,\n                         changedCB:() => void):{[k:string]:PropRule} {\n    let propRules:{[k:string]:PropRule} = {};\n    Object.keys(propTypes).forEach(function (name:string) {\n        let propType:PropType = propTypes[name];\n        propType.name = name;\n        propRules[name] = PropRules.create(propType, propsValues, changedCB);\n    });\n    return propRules;\n}\n\nfunction buildPropsConfig(photon:PhotonComponent):any {\n    let config:any = {};\n    let propRules:{[k:string]:PropRule} = photon.propRules;\n    photon._attrPropRules = {};\n    Object.keys(propRules).forEach((name:string) => {\n        let rule:PropRule = propRules[name];\n        photon._attrPropRules[rule.attrName] = rule;\n        config[name] = rule.getConfig(photon.elem);\n    });\n    return config;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/definePhoton.js\n **/","//@flow\nimport * as d from 'incremental-dom';\n\nimport {shadowDomV0, shadowDomV1} from '../util/support';\n\nimport {emitCustomEvent} from './../core/emit';\nimport {PropType} from '../core/PropTypes';\nimport {PropRule} from '../core/PropRules';\n\nexport class PhotonComponent {\n\n    static get is():string {\n        return '';\n    }\n\n    static get propTypes():{[k:string]:PropType} {\n        return {\n        }\n    }\n\n    useIDom:boolean = true;\n    useShadowDom:boolean = true;\n\n    elem:HTMLElement;\n    propRules:{[k:string]:PropRule};\n\n    _attrPropRules:{[k:string]:PropRule};\n\n    props:any;\n\n    _flags:any = {\n        isInitialized:false,\n        isConnected:false,\n        mustRender:false,\n        isRendering:false\n    };\n\n    get publicMethods():string[] {\n        return [];\n    }\n\n    configurePropRules(propRules:{[propName:string]:PropRule}) {\n        // console.log(this.elem.tagName, 'PhotonComponent.configurePropRules');\n    }\n\n    initialize() {\n        // console.log(this.elem.tagName, 'PhotonComponent.initialize');\n\n        // initialize Props\n        var propRules = this.propRules;\n        Object.keys(propRules).forEach((name:string) => {\n            propRules[name]._initialize(this.elem);\n        });\n    }\n\n    connectedCallback() {\n        // console.log(this.elem.tagName, 'PhotonComponent.connectedCallback');\n        this._flags.isConnected = true;\n        this.mustRender();\n    }\n\n    disconnectedCallback() {\n        // console.log(this.elem.tagName, 'PhotonComponent.disconnectedCallback');\n        this._flags.isConnected = false;\n    }\n\n    attributeChangedCallback(attrName:string, oldVal:string, newVal:string) {\n        let rule:PropRule = this._attrPropRules[attrName];\n        //console.log(this.elem.tagName, 'PhotonComponent.attributeChangedCallback', attrName, oldVal, newVal, rule);\n        if (rule) {\n            let changed:boolean = rule._setValue(rule.deserialize(newVal));\n            if (changed) {\n                rule._syncAttr(this.elem, rule._reflAttr);\n                if (rule._onChange) {\n                    rule._onChange(rule.val);\n                }\n                this.mustRender();\n            }\n        }\n    };\n\n    render(self:any):any {\n        //template method\n    }\n\n    mustRender = () => {\n        //console.log(this.elem.tagName, 'PhotonComponent.mustRender');\n        this._flags.mustRender = true;\n        window.requestAnimationFrame(() => {\n            if (this._flags.mustRender) {\n                this._flags.mustRender = false;\n                this.renderCycle();\n            }\n        });\n    };\n\n    shadowRoot:any;\n\n    renderCycle() {\n        if (this._flags.isRendering || !this._flags.isConnected) {\n            return;\n        }\n        this._flags.isRendering = true;\n\n\n        // Try and get the current shadow root (will be setup if not).\n        let sr = this.shadowRoot;\n\n        // Setup the shadow root if it hasn't been setup yet.\n        if (!sr) {\n            let elem:any = this.elem;\n            if (this.useShadowDom && shadowDomV1) {\n                sr = elem.attachShadow({mode: 'open'});\n            }\n            // else if (shadowDomV0) {\n            //     sr = elem.createShadowRoot();\n            // }\n            else {\n                sr = elem;\n            }\n            this.shadowRoot = sr;\n        }\n\n        if(this.useIDom) {\n            d.patch(sr, this.render, this);\n        } else {\n            if (this.render(this) ) {\n                console.warn(this.elem.tagName + ' useIDom=false');\n            }\n        }\n\n        this._flags.isRendering = false;\n    }\n\n    emit(name:string, detail?:any) {\n        emitCustomEvent(this.elem, name, {detail:detail});\n    }\n\n    getElementsByTagName(name:string):any {\n        return (this.shadowRoot.firstChild) ? this.shadowRoot.firstChild.getElementsByTagName(name) : [];\n    }\n\n    getElementByTagName(name:string):any {\n        let found:any[] = this.getElementsByTagName(name);\n        if (found && found.length > 0) {\n            return found[0];\n        }\n        return undefined;\n    }\n\n    renderTagDangerously(tag:string, attrs:any, content:string) {\n        var params = [tag, null, null];\n        if (attrs) {\n            Object.keys(attrs).forEach(attr => {\n                params.push(attr);\n                params.push(attrs[attr]);\n            });\n        }\n        let el = d.elementOpen.apply(this, params);\n        if (el.__innerHTML !== content) {\n            el.__innerHTML = content;\n            el.innerHTML = content;\n        }\n        d.skip();\n        d.elementClose(tag);\n    }\n\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/PhotonComponent.js\n **/","\n/**\n * @license\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'use strict';\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A cached reference to the hasOwnProperty function.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * A constructor function that will create blank objects.\n * @constructor\n */\nfunction Blank() {}\n\nBlank.prototype = Object.create(null);\n\n/**\n * Used to prevent property collisions between our \"map\" and its prototype.\n * @param {!Object<string, *>} map The map to check.\n * @param {string} property The property to check.\n * @return {boolean} Whether map has property.\n */\nvar has = function (map, property) {\n  return hasOwnProperty.call(map, property);\n};\n\n/**\n * Creates an map object without a prototype.\n * @return {!Object}\n */\nvar createMap = function () {\n  return new Blank();\n};\n\n/**\n * Keeps track of information needed to perform diffs for a given DOM node.\n * @param {!string} nodeName\n * @param {?string=} key\n * @constructor\n */\nfunction NodeData(nodeName, key) {\n  /**\n   * The attributes and their values.\n   * @const {!Object<string, *>}\n   */\n  this.attrs = createMap();\n\n  /**\n   * An array of attribute name/value pairs, used for quickly diffing the\n   * incomming attributes to see if the DOM node's attributes need to be\n   * updated.\n   * @const {Array<*>}\n   */\n  this.attrsArr = [];\n\n  /**\n   * The incoming attributes for this Node, before they are updated.\n   * @const {!Object<string, *>}\n   */\n  this.newAttrs = createMap();\n\n  /**\n   * Whether or not the statics have been applied for the node yet.\n   * {boolean}\n   */\n  this.staticsApplied = false;\n\n  /**\n   * The key used to identify this node, used to preserve DOM nodes when they\n   * move within their parent.\n   * @const\n   */\n  this.key = key;\n\n  /**\n   * Keeps track of children within this node by their key.\n   * {!Object<string, !Element>}\n   */\n  this.keyMap = createMap();\n\n  /**\n   * Whether or not the keyMap is currently valid.\n   * @type {boolean}\n   */\n  this.keyMapValid = true;\n\n  /**\n   * Whether or the associated node is, or contains, a focused Element.\n   * @type {boolean}\n   */\n  this.focused = false;\n\n  /**\n   * The node name for this node.\n   * @const {string}\n   */\n  this.nodeName = nodeName;\n\n  /**\n   * @type {?string}\n   */\n  this.text = null;\n}\n\n/**\n * Initializes a NodeData object for a Node.\n *\n * @param {Node} node The node to initialize data for.\n * @param {string} nodeName The node name of node.\n * @param {?string=} key The key that identifies the node.\n * @return {!NodeData} The newly initialized data object\n */\nvar initData = function (node, nodeName, key) {\n  var data = new NodeData(nodeName, key);\n  node['__incrementalDOMData'] = data;\n  return data;\n};\n\n/**\n * Retrieves the NodeData object for a Node, creating it if necessary.\n *\n * @param {?Node} node The Node to retrieve the data for.\n * @return {!NodeData} The NodeData for this Node.\n */\nvar getData = function (node) {\n  importNode(node);\n  return node['__incrementalDOMData'];\n};\n\n/**\n * Imports node and its subtree, initializing caches.\n *\n * @param {?Node} node The Node to import.\n */\nvar importNode = function (node) {\n  if (node['__incrementalDOMData']) {\n    return;\n  }\n\n  var isElement = node instanceof Element;\n  var nodeName = isElement ? node.localName : node.nodeName;\n  var key = isElement ? node.getAttribute('key') : null;\n  var data = initData(node, nodeName, key);\n\n  if (key) {\n    getData(node.parentNode).keyMap[key] = node;\n  }\n\n  if (isElement) {\n    var attributes = node.attributes;\n    var attrs = data.attrs;\n    var newAttrs = data.newAttrs;\n    var attrsArr = data.attrsArr;\n\n    for (var i = 0; i < attributes.length; i += 1) {\n      var attr = attributes[i];\n      var name = attr.name;\n      var value = attr.value;\n\n      attrs[name] = value;\n      newAttrs[name] = undefined;\n      attrsArr.push(name);\n      attrsArr.push(value);\n    }\n  }\n\n  for (var child = node.firstChild; child; child = child.nextSibling) {\n    importNode(child);\n  }\n};\n\n/**\n * Gets the namespace to create an element (of a given tag) in.\n * @param {string} tag The tag to get the namespace for.\n * @param {?Node} parent\n * @return {?string} The namespace to create the tag in.\n */\nvar getNamespaceForTag = function (tag, parent) {\n  if (tag === 'svg') {\n    return 'http://www.w3.org/2000/svg';\n  }\n\n  if (getData(parent).nodeName === 'foreignObject') {\n    return null;\n  }\n\n  return parent.namespaceURI;\n};\n\n/**\n * Creates an Element.\n * @param {Document} doc The document with which to create the Element.\n * @param {?Node} parent\n * @param {string} tag The tag for the Element.\n * @param {?string=} key A key to identify the Element.\n * @return {!Element}\n */\nvar createElement = function (doc, parent, tag, key) {\n  var namespace = getNamespaceForTag(tag, parent);\n  var el = undefined;\n\n  if (namespace) {\n    el = doc.createElementNS(namespace, tag);\n  } else {\n    el = doc.createElement(tag);\n  }\n\n  initData(el, tag, key);\n\n  return el;\n};\n\n/**\n * Creates a Text Node.\n * @param {Document} doc The document with which to create the Element.\n * @return {!Text}\n */\nvar createText = function (doc) {\n  var node = doc.createTextNode('');\n  initData(node, '#text', null);\n  return node;\n};\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nvar notifications = {\n  /**\n   * Called after patch has compleated with any Nodes that have been created\n   * and added to the DOM.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesCreated: null,\n\n  /**\n   * Called after patch has compleated with any Nodes that have been removed\n   * from the DOM.\n   * Note it's an applications responsibility to handle any childNodes.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesDeleted: null\n};\n\n/**\n * Keeps track of the state of a patch.\n * @constructor\n */\nfunction Context() {\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.created = notifications.nodesCreated && [];\n\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.deleted = notifications.nodesDeleted && [];\n}\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markCreated = function (node) {\n  if (this.created) {\n    this.created.push(node);\n  }\n};\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markDeleted = function (node) {\n  if (this.deleted) {\n    this.deleted.push(node);\n  }\n};\n\n/**\n * Notifies about nodes that were created during the patch opearation.\n */\nContext.prototype.notifyChanges = function () {\n  if (this.created && this.created.length > 0) {\n    notifications.nodesCreated(this.created);\n  }\n\n  if (this.deleted && this.deleted.length > 0) {\n    notifications.nodesDeleted(this.deleted);\n  }\n};\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n  * Keeps track whether or not we are in an attributes declaration (after\n  * elementOpenStart, but before elementOpenEnd).\n  * @type {boolean}\n  */\nvar inAttributes = false;\n\n/**\n  * Keeps track whether or not we are in an element that should not have its\n  * children cleared.\n  * @type {boolean}\n  */\nvar inSkip = false;\n\n/**\n * Makes sure that there is a current patch context.\n * @param {string} functionName\n * @param {*} context\n */\nvar assertInPatch = function (functionName, context) {\n  if (!context) {\n    throw new Error('Cannot call ' + functionName + '() unless in patch.');\n  }\n};\n\n/**\n * Makes sure that a patch closes every node that it opened.\n * @param {?Node} openElement\n * @param {!Node|!DocumentFragment} root\n */\nvar assertNoUnclosedTags = function (openElement, root) {\n  if (openElement === root) {\n    return;\n  }\n\n  var currentElement = openElement;\n  var openTags = [];\n  while (currentElement && currentElement !== root) {\n    openTags.push(currentElement.nodeName.toLowerCase());\n    currentElement = currentElement.parentNode;\n  }\n\n  throw new Error('One or more tags were not closed:\\n' + openTags.join('\\n'));\n};\n\n/**\n * Makes sure that the caller is not where attributes are expected.\n * @param {string} functionName\n */\nvar assertNotInAttributes = function (functionName) {\n  if (inAttributes) {\n    throw new Error(functionName + '() can not be called between ' + 'elementOpenStart() and elementOpenEnd().');\n  }\n};\n\n/**\n * Makes sure that the caller is not inside an element that has declared skip.\n * @param {string} functionName\n */\nvar assertNotInSkip = function (functionName) {\n  if (inSkip) {\n    throw new Error(functionName + '() may not be called inside an element ' + 'that has called skip().');\n  }\n};\n\n/**\n * Makes sure that the caller is where attributes are expected.\n * @param {string} functionName\n */\nvar assertInAttributes = function (functionName) {\n  if (!inAttributes) {\n    throw new Error(functionName + '() can only be called after calling ' + 'elementOpenStart().');\n  }\n};\n\n/**\n * Makes sure the patch closes virtual attributes call\n */\nvar assertVirtualAttributesClosed = function () {\n  if (inAttributes) {\n    throw new Error('elementOpenEnd() must be called after calling ' + 'elementOpenStart().');\n  }\n};\n\n/**\n  * Makes sure that tags are correctly nested.\n  * @param {string} nodeName\n  * @param {string} tag\n  */\nvar assertCloseMatchesOpenTag = function (nodeName, tag) {\n  if (nodeName !== tag) {\n    throw new Error('Received a call to close \"' + tag + '\" but \"' + nodeName + '\" was open.');\n  }\n};\n\n/**\n * Makes sure that no children elements have been declared yet in the current\n * element.\n * @param {string} functionName\n * @param {?Node} previousNode\n */\nvar assertNoChildrenDeclaredYet = function (functionName, previousNode) {\n  if (previousNode !== null) {\n    throw new Error(functionName + '() must come before any child ' + 'declarations inside the current element.');\n  }\n};\n\n/**\n * Checks that a call to patchOuter actually patched the element.\n * @param {?Node} startNode The value for the currentNode when the patch\n *     started.\n * @param {?Node} currentNode The currentNode when the patch finished.\n * @param {?Node} expectedNextNode The Node that is expected to follow the\n *    currentNode after the patch;\n * @param {?Node} expectedPrevNode The Node that is expected to preceed the\n *    currentNode after the patch.\n */\nvar assertPatchElementNoExtras = function (startNode, currentNode, expectedNextNode, expectedPrevNode) {\n  var wasUpdated = currentNode.nextSibling === expectedNextNode && currentNode.previousSibling === expectedPrevNode;\n  var wasChanged = currentNode.nextSibling === startNode.nextSibling && currentNode.previousSibling === expectedPrevNode;\n  var wasRemoved = currentNode === startNode;\n\n  if (!wasUpdated && !wasChanged && !wasRemoved) {\n    throw new Error('There must be exactly one top level call corresponding ' + 'to the patched element.');\n  }\n};\n\n/**\n * Updates the state of being in an attribute declaration.\n * @param {boolean} value\n * @return {boolean} the previous value.\n */\nvar setInAttributes = function (value) {\n  var previous = inAttributes;\n  inAttributes = value;\n  return previous;\n};\n\n/**\n * Updates the state of being in a skip element.\n * @param {boolean} value\n * @return {boolean} the previous value.\n */\nvar setInSkip = function (value) {\n  var previous = inSkip;\n  inSkip = value;\n  return previous;\n};\n\n/**\n * Copyright 2016 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @param {!Node} node\n * @return {boolean} True if the node the root of a document, false otherwise.\n */\nvar isDocumentRoot = function (node) {\n  // For ShadowRoots, check if they are a DocumentFragment instead of if they\n  // are a ShadowRoot so that this can work in 'use strict' if ShadowRoots are\n  // not supported.\n  return node instanceof Document || node instanceof DocumentFragment;\n};\n\n/**\n * @param {!Node} node The node to start at, inclusive.\n * @param {?Node} root The root ancestor to get until, exclusive.\n * @return {!Array<!Node>} The ancestry of DOM nodes.\n */\nvar getAncestry = function (node, root) {\n  var ancestry = [];\n  var cur = node;\n\n  while (cur !== root) {\n    ancestry.push(cur);\n    cur = cur.parentNode;\n  }\n\n  return ancestry;\n};\n\n/**\n * @param {!Node} node\n * @return {!Node} The root node of the DOM tree that contains node.\n */\nvar getRoot = function (node) {\n  var cur = node;\n  var prev = cur;\n\n  while (cur) {\n    prev = cur;\n    cur = cur.parentNode;\n  }\n\n  return prev;\n};\n\n/**\n * @param {!Node} node The node to get the activeElement for.\n * @return {?Element} The activeElement in the Document or ShadowRoot\n *     corresponding to node, if present.\n */\nvar getActiveElement = function (node) {\n  var root = getRoot(node);\n  return isDocumentRoot(root) ? root.activeElement : null;\n};\n\n/**\n * Gets the path of nodes that contain the focused node in the same document as\n * a reference node, up until the root.\n * @param {!Node} node The reference node to get the activeElement for.\n * @param {?Node} root The root to get the focused path until.\n * @return {!Array<Node>}\n */\nvar getFocusedPath = function (node, root) {\n  var activeElement = getActiveElement(node);\n\n  if (!activeElement || !node.contains(activeElement)) {\n    return [];\n  }\n\n  return getAncestry(activeElement, root);\n};\n\n/**\n * Like insertBefore, but instead instead of moving the desired node, instead\n * moves all the other nodes after.\n * @param {?Node} parentNode\n * @param {!Node} node\n * @param {?Node} referenceNode\n */\nvar moveBefore = function (parentNode, node, referenceNode) {\n  var insertReferenceNode = node.nextSibling;\n  var cur = referenceNode;\n\n  while (cur !== node) {\n    var next = cur.nextSibling;\n    parentNode.insertBefore(cur, insertReferenceNode);\n    cur = next;\n  }\n};\n\n/** @type {?Context} */\nvar context = null;\n\n/** @type {?Node} */\nvar currentNode = null;\n\n/** @type {?Node} */\nvar currentParent = null;\n\n/** @type {?Document} */\nvar doc = null;\n\n/**\n * @param {!Array<Node>} focusPath The nodes to mark.\n * @param {boolean} focused Whether or not they are focused.\n */\nvar markFocused = function (focusPath, focused) {\n  for (var i = 0; i < focusPath.length; i += 1) {\n    getData(focusPath[i]).focused = focused;\n  }\n};\n\n/**\n * Returns a patcher function that sets up and restores a patch context,\n * running the run function with the provided data.\n * @param {function((!Element|!DocumentFragment),!function(T),T=): ?Node} run\n * @return {function((!Element|!DocumentFragment),!function(T),T=): ?Node}\n * @template T\n */\nvar patchFactory = function (run) {\n  /**\n   * TODO(moz): These annotations won't be necessary once we switch to Closure\n   * Compiler's new type inference. Remove these once the switch is done.\n   *\n   * @param {(!Element|!DocumentFragment)} node\n   * @param {!function(T)} fn\n   * @param {T=} data\n   * @return {?Node} node\n   * @template T\n   */\n  var f = function (node, fn, data) {\n    var prevContext = context;\n    var prevDoc = doc;\n    var prevCurrentNode = currentNode;\n    var prevCurrentParent = currentParent;\n    var previousInAttributes = false;\n    var previousInSkip = false;\n\n    context = new Context();\n    doc = node.ownerDocument;\n    currentParent = node.parentNode;\n\n    if (process.env.NODE_ENV !== 'production') {\n      previousInAttributes = setInAttributes(false);\n      previousInSkip = setInSkip(false);\n    }\n\n    var focusPath = getFocusedPath(node, currentParent);\n    markFocused(focusPath, true);\n    var retVal = run(node, fn, data);\n    markFocused(focusPath, false);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assertVirtualAttributesClosed();\n      setInAttributes(previousInAttributes);\n      setInSkip(previousInSkip);\n    }\n\n    context.notifyChanges();\n\n    context = prevContext;\n    doc = prevDoc;\n    currentNode = prevCurrentNode;\n    currentParent = prevCurrentParent;\n\n    return retVal;\n  };\n  return f;\n};\n\n/**\n * Patches the document starting at node with the provided function. This\n * function may be called during an existing patch operation.\n * @param {!Element|!DocumentFragment} node The Element or Document\n *     to patch.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @return {!Node} The patched node.\n * @template T\n */\nvar patchInner = patchFactory(function (node, fn, data) {\n  currentNode = node;\n\n  enterNode();\n  fn(data);\n  exitNode();\n\n  if (process.env.NODE_ENV !== 'production') {\n    assertNoUnclosedTags(currentNode, node);\n  }\n\n  return node;\n});\n\n/**\n * Patches an Element with the the provided function. Exactly one top level\n * element call should be made corresponding to `node`.\n * @param {!Element} node The Element where the patch should start.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM. This should have at most one top level\n *     element call.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @return {?Node} The node if it was updated, its replacedment or null if it\n *     was removed.\n * @template T\n */\nvar patchOuter = patchFactory(function (node, fn, data) {\n  var startNode = /** @type {!Element} */{ nextSibling: node };\n  var expectedNextNode = null;\n  var expectedPrevNode = null;\n\n  if (process.env.NODE_ENV !== 'production') {\n    expectedNextNode = node.nextSibling;\n    expectedPrevNode = node.previousSibling;\n  }\n\n  currentNode = startNode;\n  fn(data);\n\n  if (process.env.NODE_ENV !== 'production') {\n    assertPatchElementNoExtras(startNode, currentNode, expectedNextNode, expectedPrevNode);\n  }\n\n  if (node !== currentNode && node.parentNode) {\n    removeChild(currentParent, node, getData(currentParent).keyMap);\n  }\n\n  return startNode === currentNode ? null : currentNode;\n});\n\n/**\n * Checks whether or not the current node matches the specified nodeName and\n * key.\n *\n * @param {!Node} matchNode A node to match the data to.\n * @param {?string} nodeName The nodeName for this node.\n * @param {?string=} key An optional key that identifies a node.\n * @return {boolean} True if the node matches, false otherwise.\n */\nvar matches = function (matchNode, nodeName, key) {\n  var data = getData(matchNode);\n\n  // Key check is done using double equals as we want to treat a null key the\n  // same as undefined. This should be okay as the only values allowed are\n  // strings, null and undefined so the == semantics are not too weird.\n  return nodeName === data.nodeName && key == data.key;\n};\n\n/**\n * Aligns the virtual Element definition with the actual DOM, moving the\n * corresponding DOM node to the correct location or creating it if necessary.\n * @param {string} nodeName For an Element, this should be a valid tag string.\n *     For a Text, this should be #text.\n * @param {?string=} key The key used to identify this element.\n */\nvar alignWithDOM = function (nodeName, key) {\n  if (currentNode && matches(currentNode, nodeName, key)) {\n    return;\n  }\n\n  var parentData = getData(currentParent);\n  var currentNodeData = currentNode && getData(currentNode);\n  var keyMap = parentData.keyMap;\n  var node = undefined;\n\n  // Check to see if the node has moved within the parent.\n  if (key) {\n    var keyNode = keyMap[key];\n    if (keyNode) {\n      if (matches(keyNode, nodeName, key)) {\n        node = keyNode;\n      } else if (keyNode === currentNode) {\n        context.markDeleted(keyNode);\n      } else {\n        removeChild(currentParent, keyNode, keyMap);\n      }\n    }\n  }\n\n  // Create the node if it doesn't exist.\n  if (!node) {\n    if (nodeName === '#text') {\n      node = createText(doc);\n    } else {\n      node = createElement(doc, currentParent, nodeName, key);\n    }\n\n    if (key) {\n      keyMap[key] = node;\n    }\n\n    context.markCreated(node);\n  }\n\n  // Re-order the node into the right position, preserving focus if either\n  // node or currentNode are focused by making sure that they are not detached\n  // from the DOM.\n  if (getData(node).focused) {\n    // Move everything else before the node.\n    moveBefore(currentParent, node, currentNode);\n  } else if (currentNodeData && currentNodeData.key && !currentNodeData.focused) {\n    // Remove the currentNode, which can always be added back since we hold a\n    // reference through the keyMap. This prevents a large number of moves when\n    // a keyed item is removed or moved backwards in the DOM.\n    currentParent.replaceChild(node, currentNode);\n    parentData.keyMapValid = false;\n  } else {\n    currentParent.insertBefore(node, currentNode);\n  }\n\n  currentNode = node;\n};\n\n/**\n * @param {?Node} node\n * @param {?Node} child\n * @param {?Object<string, !Element>} keyMap\n */\nvar removeChild = function (node, child, keyMap) {\n  node.removeChild(child);\n  context.markDeleted( /** @type {!Node}*/child);\n\n  var key = getData(child).key;\n  if (key) {\n    delete keyMap[key];\n  }\n};\n\n/**\n * Clears out any unvisited Nodes, as the corresponding virtual element\n * functions were never called for them.\n */\nvar clearUnvisitedDOM = function () {\n  var node = currentParent;\n  var data = getData(node);\n  var keyMap = data.keyMap;\n  var keyMapValid = data.keyMapValid;\n  var child = node.lastChild;\n  var key = undefined;\n\n  if (child === currentNode && keyMapValid) {\n    return;\n  }\n\n  while (child !== currentNode) {\n    removeChild(node, child, keyMap);\n    child = node.lastChild;\n  }\n\n  // Clean the keyMap, removing any unusued keys.\n  if (!keyMapValid) {\n    for (key in keyMap) {\n      child = keyMap[key];\n      if (child.parentNode !== node) {\n        context.markDeleted(child);\n        delete keyMap[key];\n      }\n    }\n\n    data.keyMapValid = true;\n  }\n};\n\n/**\n * Changes to the first child of the current node.\n */\nvar enterNode = function () {\n  currentParent = currentNode;\n  currentNode = null;\n};\n\n/**\n * @return {?Node} The next Node to be patched.\n */\nvar getNextNode = function () {\n  if (currentNode) {\n    return currentNode.nextSibling;\n  } else {\n    return currentParent.firstChild;\n  }\n};\n\n/**\n * Changes to the next sibling of the current node.\n */\nvar nextNode = function () {\n  currentNode = getNextNode();\n};\n\n/**\n * Changes to the parent of the current node, removing any unvisited children.\n */\nvar exitNode = function () {\n  clearUnvisitedDOM();\n\n  currentNode = currentParent;\n  currentParent = currentParent.parentNode;\n};\n\n/**\n * Makes sure that the current node is an Element with a matching tagName and\n * key.\n *\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @return {!Element} The corresponding Element.\n */\nvar coreElementOpen = function (tag, key) {\n  nextNode();\n  alignWithDOM(tag, key);\n  enterNode();\n  return (/** @type {!Element} */currentParent\n  );\n};\n\n/**\n * Closes the currently open Element, removing any unvisited children if\n * necessary.\n *\n * @return {!Element} The corresponding Element.\n */\nvar coreElementClose = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    setInSkip(false);\n  }\n\n  exitNode();\n  return (/** @type {!Element} */currentNode\n  );\n};\n\n/**\n * Makes sure the current node is a Text node and creates a Text node if it is\n * not.\n *\n * @return {!Text} The corresponding Text Node.\n */\nvar coreText = function () {\n  nextNode();\n  alignWithDOM('#text', null);\n  return (/** @type {!Text} */currentNode\n  );\n};\n\n/**\n * Gets the current Element being patched.\n * @return {!Element}\n */\nvar currentElement = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInPatch('currentElement', context);\n    assertNotInAttributes('currentElement');\n  }\n  return (/** @type {!Element} */currentParent\n  );\n};\n\n/**\n * @return {Node} The Node that will be evaluated for the next instruction.\n */\nvar currentPointer = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInPatch('currentPointer', context);\n    assertNotInAttributes('currentPointer');\n  }\n  return getNextNode();\n};\n\n/**\n * Skips the children in a subtree, allowing an Element to be closed without\n * clearing out the children.\n */\nvar skip = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNoChildrenDeclaredYet('skip', currentNode);\n    setInSkip(true);\n  }\n  currentNode = currentParent.lastChild;\n};\n\n/**\n * Skips the next Node to be patched, moving the pointer forward to the next\n * sibling of the current pointer.\n */\nvar skipNode = nextNode;\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nvar symbols = {\n  default: '__default'\n};\n\n/**\n * @param {string} name\n * @return {string|undefined} The namespace to use for the attribute.\n */\nvar getNamespace = function (name) {\n  if (name.lastIndexOf('xml:', 0) === 0) {\n    return 'http://www.w3.org/XML/1998/namespace';\n  }\n\n  if (name.lastIndexOf('xlink:', 0) === 0) {\n    return 'http://www.w3.org/1999/xlink';\n  }\n};\n\n/**\n * Applies an attribute or property to a given Element. If the value is null\n * or undefined, it is removed from the Element. Otherwise, the value is set\n * as an attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {?(boolean|number|string)=} value The attribute's value.\n */\nvar applyAttr = function (el, name, value) {\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    var attrNS = getNamespace(name);\n    if (attrNS) {\n      el.setAttributeNS(attrNS, name, value);\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n};\n\n/**\n * Applies a property to a given Element.\n * @param {!Element} el\n * @param {string} name The property's name.\n * @param {*} value The property's value.\n */\nvar applyProp = function (el, name, value) {\n  el[name] = value;\n};\n\n/**\n * Applies a value to a style declaration. Supports CSS custom properties by\n * setting properties containing a dash using CSSStyleDeclaration.setProperty.\n * @param {CSSStyleDeclaration} style\n * @param {!string} prop\n * @param {*} value\n */\nvar setStyleValue = function (style, prop, value) {\n  if (prop.indexOf('-') >= 0) {\n    style.setProperty(prop, /** @type {string} */value);\n  } else {\n    style[prop] = value;\n  }\n};\n\n/**\n * Applies a style to an Element. No vendor prefix expansion is done for\n * property names/values.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} style The style to set. Either a string of css or an object\n *     containing property-value pairs.\n */\nvar applyStyle = function (el, name, style) {\n  if (typeof style === 'string') {\n    el.style.cssText = style;\n  } else {\n    el.style.cssText = '';\n    var elStyle = el.style;\n    var obj = /** @type {!Object<string,string>} */style;\n\n    for (var prop in obj) {\n      if (has(obj, prop)) {\n        setStyleValue(elStyle, prop, obj[prop]);\n      }\n    }\n  }\n};\n\n/**\n * Updates a single attribute on an Element.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value. If the value is an object or\n *     function it is set on the Element, otherwise, it is set as an HTML\n *     attribute.\n */\nvar applyAttributeTyped = function (el, name, value) {\n  var type = typeof value;\n\n  if (type === 'object' || type === 'function') {\n    applyProp(el, name, value);\n  } else {\n    applyAttr(el, name, /** @type {?(boolean|number|string)} */value);\n  }\n};\n\n/**\n * Calls the appropriate attribute mutator for this attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value.\n */\nvar updateAttribute = function (el, name, value) {\n  var data = getData(el);\n  var attrs = data.attrs;\n\n  if (attrs[name] === value) {\n    return;\n  }\n\n  var mutator = attributes[name] || attributes[symbols.default];\n  mutator(el, name, value);\n\n  attrs[name] = value;\n};\n\n/**\n * A publicly mutable object to provide custom mutators for attributes.\n * @const {!Object<string, function(!Element, string, *)>}\n */\nvar attributes = createMap();\n\n// Special generic mutator that's called for any attribute that does not\n// have a specific mutator.\nattributes[symbols.default] = applyAttributeTyped;\n\nattributes['style'] = applyStyle;\n\n/**\n * The offset in the virtual element declaration where the attributes are\n * specified.\n * @const\n */\nvar ATTRIBUTES_OFFSET = 3;\n\n/**\n * Builds an array of arguments for use with elementOpenStart, attr and\n * elementOpenEnd.\n * @const {Array<*>}\n */\nvar argsBuilder = [];\n\n/**\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} var_args, Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nvar elementOpen = function (tag, key, statics, var_args) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementOpen');\n    assertNotInSkip('elementOpen');\n  }\n\n  var node = coreElementOpen(tag, key);\n  var data = getData(node);\n\n  if (!data.staticsApplied) {\n    if (statics) {\n      for (var _i = 0; _i < statics.length; _i += 2) {\n        var name = /** @type {string} */statics[_i];\n        var value = statics[_i + 1];\n        updateAttribute(node, name, value);\n      }\n    }\n    // Down the road, we may want to keep track of the statics array to use it\n    // as an additional signal about whether a node matches or not. For now,\n    // just use a marker so that we do not reapply statics.\n    data.staticsApplied = true;\n  }\n\n  /*\n   * Checks to see if one or more attributes have changed for a given Element.\n   * When no attributes have changed, this is much faster than checking each\n   * individual argument. When attributes have changed, the overhead of this is\n   * minimal.\n   */\n  var attrsArr = data.attrsArr;\n  var newAttrs = data.newAttrs;\n  var isNew = !attrsArr.length;\n  var i = ATTRIBUTES_OFFSET;\n  var j = 0;\n\n  for (; i < arguments.length; i += 2, j += 2) {\n    var _attr = arguments[i];\n    if (isNew) {\n      attrsArr[j] = _attr;\n      newAttrs[_attr] = undefined;\n    } else if (attrsArr[j] !== _attr) {\n      break;\n    }\n\n    var value = arguments[i + 1];\n    if (isNew || attrsArr[j + 1] !== value) {\n      attrsArr[j + 1] = value;\n      updateAttribute(node, _attr, value);\n    }\n  }\n\n  if (i < arguments.length || j < attrsArr.length) {\n    for (; i < arguments.length; i += 1, j += 1) {\n      attrsArr[j] = arguments[i];\n    }\n\n    if (j < attrsArr.length) {\n      attrsArr.length = j;\n    }\n\n    /*\n     * Actually perform the attribute update.\n     */\n    for (i = 0; i < attrsArr.length; i += 2) {\n      var name = /** @type {string} */attrsArr[i];\n      var value = attrsArr[i + 1];\n      newAttrs[name] = value;\n    }\n\n    for (var _attr2 in newAttrs) {\n      updateAttribute(node, _attr2, newAttrs[_attr2]);\n      newAttrs[_attr2] = undefined;\n    }\n  }\n\n  return node;\n};\n\n/**\n * Declares a virtual Element at the current location in the document. This\n * corresponds to an opening tag and a elementClose tag is required. This is\n * like elementOpen, but the attributes are defined using the attr function\n * rather than being passed as arguments. Must be folllowed by 0 or more calls\n * to attr, then a call to elementOpenEnd.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n */\nvar elementOpenStart = function (tag, key, statics) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementOpenStart');\n    setInAttributes(true);\n  }\n\n  argsBuilder[0] = tag;\n  argsBuilder[1] = key;\n  argsBuilder[2] = statics;\n};\n\n/***\n * Defines a virtual attribute at this point of the DOM. This is only valid\n * when called between elementOpenStart and elementOpenEnd.\n *\n * @param {string} name\n * @param {*} value\n */\nvar attr = function (name, value) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInAttributes('attr');\n  }\n\n  argsBuilder.push(name);\n  argsBuilder.push(value);\n};\n\n/**\n * Closes an open tag started with elementOpenStart.\n * @return {!Element} The corresponding Element.\n */\nvar elementOpenEnd = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    assertInAttributes('elementOpenEnd');\n    setInAttributes(false);\n  }\n\n  var node = elementOpen.apply(null, argsBuilder);\n  argsBuilder.length = 0;\n  return node;\n};\n\n/**\n * Closes an open virtual Element.\n *\n * @param {string} tag The element's tag.\n * @return {!Element} The corresponding Element.\n */\nvar elementClose = function (tag) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('elementClose');\n  }\n\n  var node = coreElementClose();\n\n  if (process.env.NODE_ENV !== 'production') {\n    assertCloseMatchesOpenTag(getData(node).nodeName, tag);\n  }\n\n  return node;\n};\n\n/**\n * Declares a virtual Element at the current location in the document that has\n * no children.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} var_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nvar elementVoid = function (tag, key, statics, var_args) {\n  elementOpen.apply(null, arguments);\n  return elementClose(tag);\n};\n\n/**\n * Declares a virtual Text at this point in the document.\n *\n * @param {string|number|boolean} value The value of the Text.\n * @param {...(function((string|number|boolean)):string)} var_args\n *     Functions to format the value which are called only when the value has\n *     changed.\n * @return {!Text} The corresponding text node.\n */\nvar text = function (value, var_args) {\n  if (process.env.NODE_ENV !== 'production') {\n    assertNotInAttributes('text');\n    assertNotInSkip('text');\n  }\n\n  var node = coreText();\n  var data = getData(node);\n\n  if (data.text !== value) {\n    data.text = /** @type {string} */value;\n\n    var formatted = value;\n    for (var i = 1; i < arguments.length; i += 1) {\n      /*\n       * Call the formatter function directly to prevent leaking arguments.\n       * https://github.com/google/incremental-dom/pull/204#issuecomment-178223574\n       */\n      var fn = arguments[i];\n      formatted = fn(formatted);\n    }\n\n    node.data = formatted;\n  }\n\n  return node;\n};\n\nexports.patch = patchInner;\nexports.patchInner = patchInner;\nexports.patchOuter = patchOuter;\nexports.currentElement = currentElement;\nexports.currentPointer = currentPointer;\nexports.skip = skip;\nexports.skipNode = skipNode;\nexports.elementVoid = elementVoid;\nexports.elementOpenStart = elementOpenStart;\nexports.elementOpenEnd = elementOpenEnd;\nexports.elementOpen = elementOpen;\nexports.elementClose = elementClose;\nexports.text = text;\nexports.attr = attr;\nexports.symbols = symbols;\nexports.attributes = attributes;\nexports.applyAttr = applyAttr;\nexports.applyProp = applyProp;\nexports.notifications = notifications;\nexports.importNode = importNode;\n\n//# sourceMappingURL=incremental-dom-cjs.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/incremental-dom/dist/incremental-dom-cjs.js\n ** module id = 10\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 11\n ** module chunks = 0\n **/","//@flow\n\n\nconst doc:any = document;\nconst win:any = window;\nconst div:any = doc.createElement('div');\nexport const customElementsV0 = !!doc.registerElement;\nexport const customElementsV1 = !!win.customElements;\nexport const shadowDomV0 = !!div.createShadowRoot;\nexport const shadowDomV1 = !!div.attachShadow;\n\nconsole.log('customElementsV0', customElementsV0);\nconsole.log('customElementsV1', customElementsV1);\nconsole.log('shadowDomV0', shadowDomV0);\nconsole.log('shadowDomV1', shadowDomV1);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/support.js\n **/","// @flow\n\ninterface IEventOptions {\n    bubbles?:boolean;\n    cancelable?:boolean;\n    detail?:any\n}\n\nconst CustomEvent:any = ((Event:any) => {\n    if (Event) {\n        try {\n            new Event();\n        } catch (e) {\n            return undefined;\n        }\n    }\n    return Event;\n})(window.CustomEvent);\n\nfunction createCustomEvent(name:string, opts:IEventOptions = {}):any {\n    if (CustomEvent) {\n        return new CustomEvent(name, opts);\n    }\n    const e = document.createEvent('CustomEvent');\n\n    e.initCustomEvent(name, opts.bubbles || false, opts.cancelable || false, opts.detail);\n    return e;\n}\n\nexport function emitCustomEvent(elem:any, name:string, opts:IEventOptions = {}) {\n    if (opts.bubbles === undefined) {\n        opts.bubbles = false;\n    }\n    if (opts.cancelable === undefined) {\n        opts.cancelable = false;\n    }\n    console.log('emit CustomEvent', name, opts.detail);\n    return elem.dispatchEvent(createCustomEvent(name, opts));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/emit.js\n **/","// @flow\n\nimport {\n    isString,\n    noValue\n} from '../util/isUtil';\n\nimport {snakeCase} from '../util/snakeCase';\n\ntype boolOrStr = boolean | string;\n\nexport const PropTypes = {\n    bool: function() {return new PropType('bool');},\n    number: function() {return new PropType('number');},\n    string: function() {return new PropType('string');},\n    object: function() {return new PropType('object');},\n    arrayOf: function(arrayOf:string) {return new PropArrayOf(arrayOf);},\n};\n\nexport class PropType {\n    name:string;\n    _arrayOf:string;\n\n    _type:string;\n    constructor(type:string) {\n        this._type = type;\n    }\n\n    _nullable:boolean;\n    nullable():PropType {\n        this._nullable = true;\n        return this;\n    }\n\n    _attribute:boolOrStr;\n    attribute(val:boolOrStr):PropType {\n        this._attribute = (isString(val) && val) ? val : true;\n        return this;\n    }\n\n    _reflect:boolOrStr;\n    reflect(val:boolOrStr):PropType {\n        this._reflect = (isString(val) && val) ? val : true;\n        return this;\n    }\n\n    _attrName:string;\n    _getAttrName() {\n        return this._attrName = isString(this._attribute) ? String(this._attribute) : snakeCase(this.name);\n    }\n\n}\n\nclass PropArrayOf extends PropType {\n    constructor(arrayOf:string) {\n        super('arrayOf');\n        this._arrayOf = arrayOf;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/PropTypes.js\n **/","//@flow\n\nexport function noValue(val:any) {\n    return val === null || typeof val === 'undefined';\n}\nexport function hasValue(val:any) {\n    return val !== null && typeof val !== 'undefined';\n}\nexport function isBoolean(val:any) {\n    return typeof val === 'boolean';\n}\nexport function isNumber(val:any) {\n    return typeof val === 'number';\n}\nexport function isNumNaN(val:any) {\n    return typeof val === 'number' && isNaN(val);\n}\nexport function isString(val:any) {\n    return typeof val === 'string';\n}\nexport function noEmptyString(val:any) {\n    return typeof val === 'string' && val.length > 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/isUtil.js\n **/","//@flow\n\n//convert from camelCase to snake-case\nexport function snakeCase(str: string): string {\n    return str.split(/([A-Z])/).reduce((one, two, idx) => {\n        const dash = !one || idx % 2 === 0 ? '' : '-';\n        return `${one}${dash}${two.toLowerCase()}`;\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/snakeCase.js\n **/","// @flow\n\nimport {\n    noValue,\n    isNumNaN,\n    isString\n} from '../util/isUtil';\n\nimport {PropType} from './PropTypes';\n\nexport class PropRule {\n\n    _propsValues:{[k:string]:any};\n    _reflect:boolean|string;\n    _changedCB:() => void;\n\n    //_nullable:boolean;\n\n    constructor(propType:PropType,\n                propsValues:{[k:string]:any},\n                changedCB:() => void) {\n        this._propsValues = propsValues;\n        this._changedCB = changedCB;\n        this._name = propType.name;\n\n        //this._nullable = propType._nullable;\n        this._attribute = propType._attribute;\n        this._attrName = propType._attrName;\n\n        this._reflect = propType._reflect;\n        if (this._reflect) {\n            if (isString(this._reflect)) {\n                this._reflAttr = String(this._reflect);\n            }\n        }\n    }\n\n    _reflAttr:string;\n\n    get val():any {\n        return this._propsValues[this._name];\n    }\n    set val(v:any) {\n        this._propsValues[this._name] = v;\n    }\n\n    _name:string;\n    get name():string {\n        return this._name;\n    }\n\n    _attribute:any = false;\n\n    _attrName:string;\n    get attrName():string {\n        return this._attrName;\n    }\n\n     _nullTo:any = null;\n    nullTo(v:any):PropRule {\n        this._nullTo = v;\n        return this;\n    }\n\n     _nanTo:any = NaN;\n    nanTo(v:any):PropRule {\n        this._nanTo = v;\n        return this;\n    }\n\n    _onChange:(newVal:any) => {};\n    onChange(fn:(newVal:any) => {}):PropRule {\n        this._onChange = fn;\n        return this;\n    }\n\n    ////////\n\n    // get value():any {\n    //     return this.val;\n    // }\n\n    _setValue(v:any):boolean {\n        if (this.equals(v)) {\n            //console.log('IGNORE PropRule.setValue', this._name, v);\n            return false;\n        }\n        else {\n            //console.log('PropRule.setValue', this._name, v);\n            this.val = this.coerce(v);\n            return true;\n        }\n    }\n\n    _setValueAndNotify(v:any, elem:any):boolean {\n        let changed: boolean = this._setValue(v);\n        if (changed) {\n            if (this._onChange) {\n                this._onChange(this.val);\n            }\n            this._changedCB(); //mustRender\n            if (this._attribute && this._reflect) {\n                this._syncAttr(elem, this._attrName);\n                this._syncAttr(elem, this._reflAttr);\n            }\n        }\n        return changed;\n    }\n\n    _syncAttr(elem:any, attrName:string):void {\n        if (attrName) {\n            let serialized:?string = this.serialize(this.val);\n            if (noValue(serialized)) {\n                elem.removeAttribute(attrName);\n            }\n            else {\n                elem.setAttribute(attrName, serialized);\n            }\n        }\n    }\n\n    coerce(v:any):any {\n        if (noValue(v)) {\n            return this._nullTo;\n        }\n        return v;\n    }\n\n    serialize(v:any):?string {\n        return noValue(v) ? null : v.toString();\n    }\n\n    deserialize(v:?string):any {\n        return noValue(v) ? this._nullTo : v;\n    }\n\n    equals(v:any):boolean {\n        return this.val === this.coerce(v);\n    }\n\n    _configed:boolean;\n\n    getConfig(elem:any):any {\n        this._configed = true;\n        return {\n            enumerable: true,\n            get: () => {\n                return this.val;\n            },\n            set: (v: any) => {\n                this._setValueAndNotify(v, elem);\n            }\n        };\n    }\n\n    _initialize(elem:any) {\n        this._setValueAndNotify(this.coerce(this.val), elem);\n    }\n\n}\n\nclass ObjRule extends PropRule {\n\n    coerce(v:any):any {\n        return noValue(v) ? this._nullTo : v;\n    }\n\n    serialize(v:any):?string {\n        return JSON.stringify(v);\n    }\n\n    deserialize(v:?string):any {\n        if (v == null) {\n            return null;\n        }\n        return JSON.parse(v);\n    }\n\n}\n\nclass BoolNullRule extends PropRule {\n\n    coerce(v:any):any {\n        if (noValue(v)) {\n            return this._nullTo;\n        }\n        if (isString(v)) {\n            if (v === 'false' || v === '0' || v === 'NaN') {\n                return false;\n            }\n        }\n        return !!v;\n    }\n\n    //attribute = 'true', 'false' or missing for null\n    serialize(v:any):?string {\n        return noValue(v) ? null : v.toString();\n    }\n\n    deserialize(v:?string):any {\n        return this.coerce(v);\n    }\n\n}\n\n\nclass BoolRule extends BoolNullRule {\n\n    constructor(propType:PropType,\n                propsValues:{[k:string]:any},\n                changedCB:() => void) {\n        super(propType, propsValues, changedCB);\n        this._nullTo = false;\n        this.val = false;\n    }\n\n    //attribute exists for true and is missing for false\n    serialize(v:any):?string {\n        return v ? '' : null;\n    }\n\n    deserialize(v:?string):any {\n        if (v === '') {\n            return true;\n        }\n        return super.deserialize(v);\n    }\n\n}\n\nclass NumNullRule extends PropRule {\n\n    coerce(v:any):any {\n        return noValue(v) ? this._nullTo\n            : (isNaN(v) ? this._nanTo : Number(v));\n    }\n\n    deserialize(v:?string):any {\n        return this.coerce(v);\n    }\n\n    equals(v:any):boolean {\n        return this.val === v || (isNumNaN(this.val) && isNumNaN(v));\n    }\n\n}\n\nclass NumRule extends NumNullRule {\n    constructor(propType:PropType,\n                propsValues:{[k:string]:any},\n                changedCB:() => void) {\n        super(propType, propsValues, changedCB);\n        this._nullTo = 0;\n        this.val = 0;\n    }\n}\n\nclass StrNullRule extends PropRule {\n\n    coerce(v:any):any {\n        return noValue(v) ? this._nullTo : String(v);\n    }\n\n    deserialize(v:?string):any {\n        return this.coerce(v);\n    }\n\n}\n\nclass StrRule extends StrNullRule {\n    constructor(propType:PropType,\n                propsValues:{[k:string]:any},\n                changedCB:() => void) {\n        super(propType, propsValues, changedCB);\n        this._nullTo = '';\n        this.val = '';\n    }\n}\n\nclass ArrayOfStringRule extends PropRule {\n\n    coerce(v:any):any {\n        if (noValue(v)) {\n            return this._nullTo;\n        }\n        if (typeof v === 'string') {\n            let vals:string[] = v.split(',').map((v:string) => {\n                return v.trim();\n            });\n            v = (vals.length === 2) ? vals : this._nullTo;\n        }\n        return v;\n    }\n\n    deserialize(v:?string):any {\n        if (v == null) {\n            return this._nullTo;\n        }\n        return v.split(',').map((s:string) => {return s.trim();});\n    }\n\n    equals(v:any):boolean {\n        return this.serialize(this.val) === this.serialize(this.coerce(v));\n    }\n\n}\n\nexport class PropRules {\n\n    static create(propType:PropType,\n                  propsValues:{[k:string]:any},\n                  changedCB:() => void):PropRule {\n        let clazz:Class<PropRule>;\n        let nullable:boolean = propType._nullable;\n        switch(propType._type) {\n            case 'object':\n                clazz = ObjRule;\n                break;\n            case 'bool':\n                clazz = nullable ? BoolNullRule : BoolRule;\n                break;\n            case 'number':\n                clazz = nullable ? NumNullRule : NumRule;\n                break;\n            case 'string':\n                clazz = nullable ? StrNullRule : StrRule;\n                break;\n            // case 'arrayOf':\n            //     clazz = ArrayOfRule;\n            //     break;\n            case 'arrayOf':\n                if (propType._arrayOf === 'string') {\n                    clazz = ArrayOfStringRule;\n                }\n                else {\n                    throw('arrayOf: ' + propType._arrayOf + ' not implemented yet');\n                }\n                break;\n            default:\n                throw('Invalid PropType: ' + propType._type);\n        }\n        return new clazz(propType, propsValues, changedCB);\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/PropRules.js\n **/","import {text} from 'incremental-dom';\n\nlet runtime = {};\n\nruntime.attr = function(value, attrName) {\n    IncrementalDOM.attr(attrName, value);\n};\n\nruntime.forOwn = function(object, iterator) {\n    let hasOwn = Object.prototype.hasOwnProperty;\n    for (let prop in object) {\n        if (hasOwn.call(object, prop)) {\n            iterator(object[prop], prop);\n        }\n    }\n};\n\nruntime.jsxWrapper = function(elementClosure, args) {\n    let wrapper = args ? function() {\n        return elementClosure.apply(this, args);\n    } : jsxClosure;\n    wrapper.__jsxDOMWrapper = true;\n    return wrapper;\n};\n\nruntime.renderArbitrary = function _renderArbitrary(child) {\n    let type = typeof child;\n    if (type === 'number' || (type === 'string' || type === 'object' && child instanceof String)) {\n        text(child);\n    } else if (type === 'function' && child.__jsxDOMWrapper) {\n        child();\n    } else if (Array.isArray(child)) {\n        child.forEach(_renderArbitrary);\n    } else if (type === 'object' && String(child) === '[object Object]') {\n        runtime.forOwn(child, _renderArbitrary);\n    }\n};\n\nexports.iDOMHelpers = runtime;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/iDOMHelpers.js\n **/"],"sourceRoot":""}